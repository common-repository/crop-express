!function(){var e={184:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},679:function(e,t,r){"use strict";var n=r(296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var l=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(m){var i=p(r);i&&i!==m&&e(t,i,n)}var a=d(r);h&&(a=a.concat(h(r)));for(var s=c(t),f=c(r),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||n&&n[g]||f&&f[g]||s&&s[g])){var b=u(r,g);try{l(t,g,b)}catch(e){}}}}return t}},103:function(e,t){"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,u=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case h:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case v:case f:case c:return e;default:return t}}case i:return t}}}function C(e){return x(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=n,t.ForwardRef=u,t.Fragment=o,t.Lazy=v,t.Memo=f,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||x(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===u},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===f},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===f||e.$$typeof===c||e.$$typeof===l||e.$$typeof===u||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y||e.$$typeof===g)},t.typeOf=x},296:function(e,t,r){"use strict";e.exports=r(103)},921:function(e,t){"use strict";var r=60103,n=60106,i=60107,o=60108,a=60114,s=60109,c=60110,l=60112,d=60113,h=60120,u=60115,p=60116,m=60121,f=60122,v=60117,g=60129,b=60131;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),n=w("react.portal"),i=w("react.fragment"),o=w("react.strict_mode"),a=w("react.profiler"),s=w("react.provider"),c=w("react.context"),l=w("react.forward_ref"),d=w("react.suspense"),h=w("react.suspense_list"),u=w("react.memo"),p=w("react.lazy"),m=w("react.block"),f=w("react.server.block"),v=w("react.fundamental"),g=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===a||e===g||e===o||e===d||e===h||e===b||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===l||e.$$typeof===v||e.$$typeof===m||e[0]===f)},t.typeOf=function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case a:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case u:case s:return e;default:return t}}case n:return t}}}},864:function(e,t,r){"use strict";e.exports=r(921)},774:function(e){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var d=e[l],h=t[l];if(!1===(i=r?r.call(n,d,h,l):void 0)||void 0===i&&d!==h)return!1}return!0}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nc=void 0,function(){"use strict";var e=window.wp.blocks,t=window.wp.element,n=window.React,i=r.n(n),o=window.wp.components,a=window.wp.apiFetch,s=r.n(a),c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},c(e,t)};function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var d=function(){return d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};function h(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function u(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function p(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function f(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create;var v=r(184),g=r.n(v);function b(e,t){var r,n;return e&&t?(r=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(r=e||t,n=e||t),{camelCase:r,snakeCase:n}}function w(e){return/^blob:/.test(e)}function y(e){return w(e)||function(e){return/^data:/.test(e)}(e)}function x(e){if(y(e))return!1;var t=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[],n={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},i=function(e){return e.port||("http"===(e.protocol||t.protocol)?80:433)};return!(!n.protocol&&!n.host&&!n.port||Boolean(n.protocol&&n.protocol==t.protocol&&n.host&&n.host==t.host&&n.host&&i(n)==i(t)))}function C(e){return"function"==typeof e}function A(e){return void 0===e}var S=function(e){return null!==e&&"object"==typeof e};function E(e,t,r){void 0===r&&(r={});var n={};return S(e)?(Object.keys(t).forEach((function(i){A(e[i])?n[i]=t[i]:S(t[i])?S(e[i])?n[i]=E(e[i],t[i],r[i]):n[i]=e[i]?t[i]:r[i]:!0===t[i]||!1===t[i]?n[i]=Boolean(e[i]):n[i]=e[i]})),n):e?t:r}function _(e){var t=Number(e);return Number.isNaN(t)?e:t}function k(e){return"number"==typeof e}function z(e){return e!=e}function M(e){return k(e)&&!z(e)||function(e){return"string"==typeof e}(e)&&!Number.isNaN(parseFloat(e))&&isFinite(parseFloat(e))}function R(e,t){return Math.sqrt(Math.pow(e.left-t.left,2)+Math.pow(e.top-t.top,2))}function P(e,t,r){return void 0===r&&(r=.001),Math.abs(t-e)<r}function N(e,t,r){return!P(e,t,r)&&e>t}function I(e,t,r){return!P(e,t,r)&&e<t}function H(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function O(e){if(!S(e))return e;var t={};return Array.isArray(e)?t=e.map((function(e){return O(e)})):Object.keys(e).forEach((function(r){return t[r]=O(e[r])})),t}function W(e,t,r){if(void 0===r&&(r=.001),k(e)&&k(t)&&P(e,t,r))return!0;if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,i=void 0;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(!W(e[i],t[i],r))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if((n=o.length)!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;0!=i--;){var a=o[i];if(!W(e[a],t[a],r))return!1}return!0}return e!=e&&t!=t}function T(e,t){var r,n;function i(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=Date.now()-r,c=C(t)?t():t||0;s<c&&s>=0?n=setTimeout((function(){return i.apply(void 0,o)}),c-s):e.apply(void 0,o)}function o(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];r=Date.now(),n=setTimeout((function(){return i.apply(void 0,e)}),C(t)?t():t||0)}return o.clear=function(){clearTimeout(n)},o}var D,L,j,$=["left","right","top","bottom"],B=["left","right"],F=["top","bottom"];function V(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Y(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function U(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function X(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function G(e){return{left:-e.left,top:-e.top}}function q(e,t){return d(d({},e),{left:e.left+t.left,top:e.top+t.top})}function Z(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function Q(e,t,r,n){if(1!==t){if("left"in e||"top"in e){if(r){var i=Y(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(r.left-i.left)*(n||1-t),top:e.top+e.height*(1-t)/2+(r.top-i.top)*(n||1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return{width:e.width*t,height:e.height*t}}return e}function K(e){return e.width/e.height}function J(e,t){return Math.min(t.maxWidth?t.maxWidth/e.width:1/0,t.maxHeight?t.maxHeight/e.height:1/0)}function ee(e,t){var r;return t.minimum&&I(e,t.minimum)?r=t.minimum:t.maximum&&N(e,t.maximum)&&(r=t.maximum),r}function te(e,t){var r=K(e),n=1;return t.minWidth>0&&t.minHeight>0?r>t.minWidth/t.minHeight?e.height<t.minHeight&&(n=t.minHeight/e.height):e.width<t.minWidth&&(n=t.minWidth/e.width):t.minWidth>0?e.width<t.minWidth&&(n=t.minWidth/e.width):t.minHeight>0&&e.height<t.minHeight&&(n=t.minHeight/e.height),t.maxWidth<1/0&&t.maxHeight<1/0?r>t.maxWidth/t.maxHeight?e.width>t.maxWidth&&(n=t.maxWidth/e.width):e.height>t.maxHeight&&(n=t.maxHeight/e.height):t.maxWidth<1/0?e.width>t.maxWidth&&(n=t.maxWidth/e.width):t.maxHeight<1/0&&e.height>t.maxHeight&&(n=t.maxHeight/e.height),n}function re(e,t){var r={left:0,top:0,right:0,bottom:0};return $.forEach((function(n){var i=t[n],o=Z(e)[n];r[n]=void 0!==i&&void 0!==o?"left"===n||"top"===n?Math.max(0,i-o):Math.max(0,o-i):0})),r}function ne(e,t){return Q(e,te(e,t))}function ie(e,t){var r=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(r))+Math.abs(e.height*Math.sin(r)),height:Math.abs(e.width*Math.sin(r))+Math.abs(e.height*Math.cos(r))}}function oe(e,t,r){var n=t*Math.PI/180;return r?{left:(e.left-r.left)*Math.cos(n)-(e.top-r.top)*Math.sin(n)+r.left,top:(e.left-r.left)*Math.sin(n)+(e.top-r.top)*Math.cos(n)+r.top}:{left:e.left*Math.cos(n)-e.top*Math.sin(n),top:e.left*Math.sin(n)+e.top*Math.cos(n)}}function ae(e){return{minWidth:0,minHeight:0,maxWidth:void 0!==e.right&&void 0!==e.left?e.right-e.left:1/0,maxHeight:void 0!==e.bottom&&void 0!==e.top?e.bottom-e.top:1/0}}function se(e,t){var r={};return $.forEach((function(n){var i=e[n],o=t[n];void 0!==i&&void 0!==o?r[n]="left"===n||"top"===n?Math.max(i,o):Math.min(i,o):void 0!==o?r[n]=o:void 0!==i&&(r[n]=i)})),r}function ce(e,t){var r={left:0,top:0},n=re(e,t);return n.left&&n.left>0?r.left=n.left:n.right&&n.right>0&&(r.left=-n.right),n.top&&n.top>0?r.top=n.top:n.bottom&&n.bottom>0&&(r.top=-n.bottom),r}function le(e,t){return q(e,ce(e,t))}function de(e){return void 0===e&&(e={}),k(e)?{minimum:e,maximum:e}:{minimum:M(e.minimum)?e.minimum:0,maximum:M(e.maximum)?e.maximum:1/0}}function he(e,t){return(A(t.maxWidth)||!N(e.width,t.maxWidth))&&(A(t.maxHeight)||!N(e.height,t.maxHeight))&&(A(t.minHeight)||!I(e.height,t.minHeight))&&(A(t.minWidth)||!I(e.width,t.minWidth))}function ue(e,t){return(A(t.left)||!I(e.left,t.left))&&(A(t.top)||!I(e.top,t.top))&&(A(t.right)||!N(e.left+e.width,t.right))&&(A(t.bottom)||!N(e.top+e.height,t.bottom))}function pe(e){return Boolean(e&&e.visibleArea&&e.coordinates)}function me(e,t){return function(e,t){var r=C(t.areaSizeRestrictions)?t.areaSizeRestrictions(e,t):t.areaSizeRestrictions;return r.maxWidth<1/0&&r.maxHeight<1/0&&(K(e.boundary)>r.maxWidth/r.maxHeight?r.maxHeight=r.maxWidth/K(e.boundary):r.maxWidth=r.maxHeight*K(e.boundary)),Ee(r)}(e,t)}function fe(e,t){return C(t.areaPositionRestrictions)?t.areaPositionRestrictions(e,t):t.areaPositionRestrictions}function ve(e,t){return function(e,t){var r=C(t.sizeRestrictions)?t.sizeRestrictions(e,t):t.sizeRestrictions,n=ge(e,t),i={minWidth:M(r.minWidth)?_(r.minWidth):0,minHeight:M(r.minHeight)?_(r.minHeight):0,maxWidth:M(r.maxWidth)?_(r.maxWidth):1/0,maxHeight:M(r.maxHeight)?_(r.maxHeight):1/0};return void 0!==n.left&&void 0!==n.right&&(i.maxWidth=Math.min(i.maxWidth,n.right-n.left)),void 0!==n.bottom&&void 0!==n.top&&(i.maxHeight=Math.min(i.maxHeight,n.bottom-n.top)),Ee(i)}(e,t)}function ge(e,t){return C(t.positionRestrictions)?t.positionRestrictions(e,t):t.positionRestrictions}function be(e){return e.visibleArea?e.visibleArea.width/e.boundary.width:0}function we(e){if(pe(e)){var t=e.coordinates,r=t.width,n=t.height,i=t.left,o=t.top,a=be(e);return{width:r/a,height:n/a,left:(i-e.visibleArea.left)/a,top:(o-e.visibleArea.top)/a}}return{left:0,top:0,width:0,height:0}}function ye(e,t){return de(C(t.aspectRatio)?t.aspectRatio(e,t):t.aspectRatio)}function xe(e,t){return C(t.defaultCoordinates)?t.defaultCoordinates(e,t):t.defaultCoordinates}function Ce(e,t){return C(t.defaultVisibleArea)?t.defaultVisibleArea(e,t):t.defaultVisibleArea}function Ae(e){return e.imageSize&&e.imageSize.width&&e.imageSize.height?ie(e.imageSize,e.transforms.rotate):{width:0,height:0}}function Se(e,t){return!pe(e)||!ee(K(e.coordinates),ye(e,t))&&he(e.visibleArea,me(e,t))&&he(e.coordinates,ve(e,t))&&ue(e.visibleArea,fe(e,t))&&ue(e.coordinates,ge(e,t))}function Ee(e){var t=d({},e);return t.minWidth>t.maxWidth&&(t.minWidth=t.maxWidth),t.minHeight>t.maxHeight&&(t.minHeight=t.maxHeight),t}function _e(e,t){var r=e,n=d({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0},t);return Ee({maxHeight:Math.min(r.maxHeight,n.maxHeight),minHeight:Math.max(r.minHeight,n.minHeight),maxWidth:Math.min(r.maxWidth,n.maxWidth),minWidth:Math.max(r.minWidth,n.minWidth)})}function ke(e){return O(e)}function ze(e){var t=e.width,r=e.height,n=e.sizeRestrictions||{minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0},i=de(e.aspectRatio),o={width:Math.max(n.minWidth,Math.min(n.maxWidth,t)),height:Math.max(n.minHeight,Math.min(n.maxHeight,r))},a=[o];return i&&[i.minimum,i.maximum].forEach((function(e){e&&a.push({width:o.width,height:o.width/e},{width:o.height*e,height:o.height})})),function(e,t,r,n){var i=function(i){return e.reduce((function(e,o){var a=C(r)?r(o):r,s=a.maxHeight,c=a.maxWidth,l=a.minWidth,d=a.minHeight,h=de(C(n)?n(o):n);return he(o,i?{maxWidth:c,maxHeight:s}:{maxWidth:c,maxHeight:s,minWidth:l,minHeight:d})&&!ee(K(o),h)&&o.width&&o.height&&(!e||I(U(o,t),U(e,t)))?o:e}),null)};return i()||i(!0)}(a=a.map((function(e){return ne(e,n)})),{width:t,height:r},n,i)}function Me(e,t){var r=ke(e);if(e.visibleArea){var n=me(e,t);r.visibleArea=d(d({},e.visibleArea),ze({width:e.visibleArea.width,height:e.visibleArea.height,aspectRatio:{minimum:K(r.boundary),maximum:K(r.boundary)},sizeRestrictions:n})),r.visibleArea=q(r.visibleArea,V(Y(e.visibleArea),Y(r.visibleArea))),r.visibleArea=le(r.visibleArea,fe(r,t))}return r}function Re(e,t,r){var n=q(e,t);return r?le(n,r):n}function Pe(e,t,r,n){void 0===n&&(n=!0);var i=!1===n?j.unsafe:!0===n?j.zoom:n,o=ye(e,t),a=ve(e,t);e.visibleArea&&i===j.limit&&(a=d(d({},a),{minWidth:Math.min(e.visibleArea.width,a.minWidth),minHeight:Math.min(e.visibleArea.height,a.minHeight),maxWidth:Math.min(e.visibleArea.width,a.maxWidth),maxHeight:Math.min(e.visibleArea.height,a.maxHeight)}));var s=ge(e,t);e.visibleArea&&i===j.limit&&(s=se(s,Z(e.visibleArea)));var c=function(e,t){return Re(e,{left:t.left-(e.left||0),top:t.top-(e.top||0)},s)},l=e.coordinates?d({},e.coordinates):{left:0,top:0,width:0,height:0};(Array.isArray(r)?r:[r]).forEach((function(r){var n;(n="function"==typeof r?r(d(d({},e),{coordinates:l}),t):r)&&(A(n.width)&&A(n.height)||(l=function(e,t){var r=d(d(d({},e),ze({width:t.width,height:t.height,sizeRestrictions:a,aspectRatio:o})),{left:0,top:0});return c(r,{left:e.left||0,top:e.top||0})}(l,d(d({},l),n))),A(n.left)&&A(n.top)||(l=c(l,d(d({},l),n))))}));var h=d(d({},ke(e)),{coordinates:l});if(h.visibleArea&&i===j.zoom){var u=Math.max(0,h.coordinates.width-h.visibleArea.width),p=Math.max(0,h.coordinates.height-h.visibleArea.height),m=me(e,t),f=u>p?h.coordinates.width/h.visibleArea.width:h.coordinates.height/h.visibleArea.height;return f>1&&(h.visibleArea=Q(h.visibleArea,Math.min(f,J(h.visibleArea,m)))),h.visibleArea=q(h.visibleArea,G(ce(h.coordinates,Z(h.visibleArea)))),Me(h,t)}return h}function Ne(e,t){if(e.coordinates){var r=ke(e),n=ye(e,t),i=ve(e,t);return r.coordinates=d(d({},e.coordinates),ze({width:e.coordinates.width,height:e.coordinates.height,aspectRatio:n,sizeRestrictions:e.visibleArea?{maxWidth:Math.min(e.visibleArea.width,i.maxWidth),maxHeight:Math.min(e.visibleArea.height,i.maxHeight),minHeight:Math.min(e.visibleArea.height,i.minHeight),minWidth:Math.min(e.visibleArea.width,i.minWidth)}:i})),r.coordinates=q(r.coordinates,V(Y(e.coordinates),Y(r.coordinates))),r.coordinates=le(r.coordinates,e.visibleArea?se(Z(e.visibleArea),ge(r,t)):ge(r,t)),r}return e}function Ie(e,t,r,n){void 0===n&&(n=!0);var i=d(d({},ke(e)),{visibleArea:r});return i=Me(i,t),n&&(i=Ne(i,t)),i}function He(e,t){var r,n,i=e.boundary,o=e.imageSize,a=e.transforms,s=e.priority,c={boundary:{width:i.width,height:i.height},imageSize:{width:o.width,height:o.height},transforms:{rotate:(null==a?void 0:a.rotate)||0,flip:{horizontal:(null===(r=null==a?void 0:a.flip)||void 0===r?void 0:r.horizontal)||!1,vertical:(null===(n=null==a?void 0:a.flip)||void 0===n?void 0:n.vertical)||!1}},visibleArea:null,coordinates:null};return s===L.visibleArea?Pe(c=Ie(c,t,Ce(c,t),!1),t,xe(c,t),j.limit):Ie(c=Pe(c,t,xe(c,t),j.unsafe),t,Ce(c,t),!0)}function Oe(e,t,r){if(pe(e)){var n=ke(e);return n.coordinates=q(n.coordinates,r),n.coordinates=le(n.coordinates,se(Z(n.visibleArea),ge(n,t))),n}return e}function We(e){var t=e.coordinates,r=e.directions,n=e.positionRestrictions,i=e.sizeRestrictions,o=e.preserveRatio,a=e.allowedDirections,s=e.compensate,c=void 0===s||s,l=d({},r),h=X(t,l).width,u=X(t,l).height;h<0&&(l.left<0&&l.right<0?(l.left=-(t.width-i.minWidth)/(l.left/l.right),l.right=-(t.width-i.minWidth)/(l.right/l.left)):l.left<0?l.left=-(t.width-i.minWidth):l.right<0&&(l.right=-(t.width-i.minWidth))),u<0&&(l.top<0&&l.bottom<0?(l.top=-(t.height-i.minHeight)/(l.top/l.bottom),l.bottom=-(t.height-i.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(t.height-i.minHeight):l.bottom<0&&(l.bottom=-(t.height-i.minHeight)));var p=re(X(t,l),n),m=$.every((function(e){return!N(p[(t=e,{left:"right",top:"bottom",right:"left",bottom:"top"}[t])],0)||a[e];var t}));c&&m&&(p.left&&p.left>0&&0===p.right?(l.right+=p.left,l.left-=p.left):p.right&&p.right>0&&0===p.left&&(l.left+=p.right,l.right-=p.right),p.top&&p.top>0&&0===p.bottom?(l.bottom+=p.top,l.top-=p.top):p.bottom&&p.bottom>0&&0===p.top&&(l.top+=p.bottom,l.bottom-=p.bottom),p=re(X(t,l),n));var f={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if($.forEach((function(e){var t=p[e];t&&l[e]&&(f[e]=Math.max(0,1-t/l[e]))})),o){var v=Math.min.apply(Math,$.map((function(e){return f[e]})));v!==1/0&&$.forEach((function(e){l[e]*=v}))}else $.forEach((function(e){f[e]!==1/0&&(l[e]*=f[e])}));if(h=X(t,l).width,u=X(t,l).height,l.right+l.left&&(h>i.maxWidth?f.width=(i.maxWidth-t.width)/(l.right+l.left):h<i.minWidth&&(f.width=(i.minWidth-t.width)/(l.right+l.left))),l.bottom+l.top&&(u>i.maxHeight?f.height=(i.maxHeight-t.height)/(l.bottom+l.top):u<i.minHeight&&(f.height=(i.minHeight-t.height)/(l.bottom+l.top))),o){var g=Math.min(f.width,f.height);g!==1/0&&$.forEach((function(e){l[e]*=g}))}else f.width!==1/0&&B.forEach((function(e){l[e]*=f.width})),f.height!==1/0&&F.forEach((function(e){l[e]*=f.height}));return l}function Te(e,t,r){return P(t+r,0)?e/2:P(t,0)?0:P(r,0)?e:e*Math.abs(t/(t+r))}function De(e,t){var r=t.toLowerCase();return{left:e.left+e.width*(-1!==r.indexOf("west")?1:-1!==r.indexOf("east")?0:.5),top:e.top+e.height*(-1!==r.indexOf("north")?1:-1!==r.indexOf("south")?0:.5)}}function Le(e,t,r,n,i){var o=n.reference,a=t.toLowerCase(),s={left:-1===a.indexOf("west")?r.left:-r.left,top:-r.top,right:r.left,bottom:r.top};["north","south","center"].every((function(e){return-1===a.indexOf(e)}))&&(s.top=0,s.bottom=0),["west","east","center"].every((function(e){return-1===a.indexOf(e)}))&&(s.left=0,s.right=0);var c={left:-1===a.indexOf("east"),top:-1===a.indexOf("south"),right:-1===a.indexOf("west"),bottom:-1===a.indexOf("north")};$.forEach((function(e){c[e]||(s[e]=0)}));var l=function(e,t,r,n){var i=n.aspectRatio,o=n.positionRestrictions,a=n.sizeRestrictions,s=d({},e);t=d({},t);var c=r.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};e.width<a.minWidth&&(t.left=0,t.right=0),e.height<a.minHeight&&(t.top=0,t.bottom=0),$.forEach((function(e){c[e]||(t[e]=0)}));var l=X(s,t=We({coordinates:s,directions:t,sizeRestrictions:a,positionRestrictions:o,allowedDirections:c})).width,h=X(s,t).height,u=r.preserveAspectRatio?K(s):ee(l/h,i);if(u){var p=r.respectDirection;if("width"!==p&&"height"!==p&&(p=s.width>=s.height||1===u?"width":"height"),"width"===p){var m=l/u-s.height;if(c.top&&c.bottom){var f=t.top,v=t.bottom;t.bottom=Te(m,v,f),t.top=Te(m,f,v)}else c.bottom?t.bottom=m:c.top?t.top=m:c.right?t.right=0:c.left&&(t.left=0)}else if("height"===p){var g=s.width-h*u;if(c.left&&c.right){var b=t.left,w=t.right;t.left=-Te(g,b,w),t.right=-Te(g,w,b)}else c.left?t.left=-g:c.right?t.right=-g:c.top?t.top=0:c.bottom&&(t.bottom=0)}t=We({directions:t,coordinates:s,sizeRestrictions:a,positionRestrictions:o,preserveRatio:!0,compensate:r.compensate,allowedDirections:c})}return l=X(s,t).width,h=X(s,t).height,(u=r.preserveAspectRatio?K(s):ee(l/h,i))&&N(Math.abs(u-l/h),0)&&$.forEach((function(e){t[e]=0})),Re({width:e.width+t.right+t.left,height:e.height+t.top+t.bottom,left:e.left,top:e.top},{left:-t.left,top:-t.top},o)}(e,s,d(d({},n),{allowedDirections:c}),i);return o&&(l=q(l,V(De(o,t),De(l,t)))),le(l,i.positionRestrictions)}function je(e,t,r,n,i){var o=function(e){return e.coordinates?Math.min(e.coordinates.width,e.coordinates.height,20*be(e)):1}(e),a=ve(e,t);return pe(e)?d(d({},ke(e)),{coordinates:Le(e.coordinates,r,n,i,{positionRestrictions:se(ge(e,t),Z(e.visibleArea)),sizeRestrictions:{maxWidth:Math.min(a.maxWidth,e.visibleArea.width),maxHeight:Math.min(a.maxHeight,e.visibleArea.height),minWidth:Math.max(Math.min(a.minWidth,e.visibleArea.width),o),minHeight:Math.max(Math.min(a.minHeight,e.visibleArea.height),o)},aspectRatio:ye(e,t)})}):e}function $e(e,t,r){var n=d(d({},ke(e)),{boundary:r});if(n.visibleArea&&n.coordinates&&e.visibleArea){n.visibleArea.height=n.visibleArea.width/K(r),n.visibleArea.top+=(e.visibleArea.height-n.visibleArea.height)/2;var i=ve(n,t);(Math.max(i.minHeight,n.coordinates.height)-n.visibleArea.height>0||Math.max(i.minWidth,n.coordinates.width)-n.visibleArea.width>0)&&(n.visibleArea=Q(n.visibleArea,Math.max(Math.max(i.minHeight,n.coordinates.height)/n.visibleArea.height,Math.max(i.minWidth,n.coordinates.width)/n.visibleArea.width))),n.visibleArea=ne(n.visibleArea,me(n,t));var o=G(ce(n.coordinates,Z(n.visibleArea)));n.visibleArea.width<n.coordinates.width&&(o.left=0),n.visibleArea.height<n.coordinates.height&&(o.top=0),n.visibleArea=q(n.visibleArea,o),n.visibleArea=le(n.visibleArea,fe(n,t)),n=Ne(n,t)}return n}function Be(e,t,r){return r.rotate&&(e=function(e,t,r){if(pe(e)){var n=ke(e),i=k(r)?r:r.angle,o=oe(Y(d({left:0,top:0},Ae(e))),i);n.transforms.rotate+=i,n.coordinates=d(d({},ze({sizeRestrictions:ve(n,t),aspectRatio:ye(n,t),width:n.coordinates.width,height:n.coordinates.height})),oe(Y(n.coordinates),i));var a=!k(r)&&r.center?r.center:Y(e.coordinates),s=V(Y(e.coordinates),oe(Y(e.coordinates),i,a)),c=Ae(n);return n.coordinates.left-=o.left-c.width/2+n.coordinates.width/2-s.left,n.coordinates.top-=o.top-c.height/2+n.coordinates.height/2-s.top,n.visibleArea=ne(n.visibleArea,_e(me(n,t),{minWidth:n.coordinates.width,minHeight:n.coordinates.height})),n.coordinates=le(n.coordinates,ge(n,t)),n.visibleArea=q(n.visibleArea,V(Y(n.coordinates),Y(e.coordinates))),n.visibleArea=le(n.visibleArea,fe(n,t)),n}return e}(e,t,r.rotate)),r.flip&&(e=function(e,t,r,n){if(pe(e)){var i=ke(e),o=e.transforms.rotate,a=Ae(e),s={horizontal:r,vertical:n};if(s.horizontal||s.vertical){var c=oe({left:a.width/2,top:a.height/2},-o),l=oe(Y(i.coordinates),-o),d=oe({left:s.horizontal?c.left-(l.left-c.left):l.left,top:s.vertical?c.top-(l.top-c.top):l.top},o);i.coordinates=q(i.coordinates,V(d,Y(i.coordinates))),l=oe(Y(i.visibleArea),-o),d=oe({left:s.horizontal?c.left-(l.left-c.left):l.left,top:s.vertical?c.top-(l.top-c.top):l.top},o),i.visibleArea=q(i.visibleArea,V(d,Y(i.visibleArea))),i.visibleArea=le(i.visibleArea,fe(i,t))}return s.horizontal&&(i.transforms.flip.horizontal=!e.transforms.flip.horizontal),s.vertical&&(i.transforms.flip.vertical=!e.transforms.flip.vertical),i}return e}(e,t,r.flip.horizontal,r.flip.vertical)),(r.move||r.scale)&&(e=function(e,t,r){var n,i,o,a=r.scale,s=void 0===a?1:a,c=r.move,l=void 0===c?{}:c;if(pe(e)){var d=ke(e),h=1/(k(s)?s:s.factor),u=k(s)?void 0:s.center,p=!P(h,1),m=1,f=1;d.visibleArea=q(d.visibleArea,{left:l.left||0,top:l.top||0});var v=ve(d,t),g=ge(d,t),b=me(d,t),w={stencil:{minimum:Math.max(v.minWidth?v.minWidth/d.coordinates.width:0,v.minHeight?v.minHeight/d.coordinates.height:0),maximum:Math.min(v.maxWidth?v.maxWidth/d.coordinates.width:1/0,v.maxHeight?v.maxHeight/d.coordinates.height:1/0,J(d.coordinates,ae(g)))},area:{maximum:J(d.visibleArea,b),minimum:(i=d.visibleArea,o=b,Math.max(o.minWidth?o.minWidth/i.width:0,o.minHeight?o.minHeight/i.height:0))}};h&&p&&(h<1?(f=Math.max(h,Math.max(w.area.minimum,w.stencil.minimum)))>1&&(f=1):h>1&&(f=Math.min(h,Math.min(w.area.maximum,w.stencil.maximum)))<1&&(f=1)),f&&(d.visibleArea=Q(d.visibleArea,f,u));var y={left:e.coordinates.left-e.visibleArea.left,right:e.visibleArea.width+e.visibleArea.left-(e.coordinates.width+e.coordinates.left),top:e.coordinates.top-e.visibleArea.top,bottom:e.visibleArea.height+e.visibleArea.top-(e.coordinates.height+e.coordinates.top)};return d.visibleArea=le(d.visibleArea,{left:void 0!==g.left?g.left-y.left*f:void 0,top:void 0!==g.top?g.top-y.top*f:void 0,bottom:void 0!==g.bottom?g.bottom+y.bottom*f:void 0,right:void 0!==g.right?g.right+y.right*f:void 0}),d.visibleArea=le(d.visibleArea,fe(d,t)),d.coordinates.width=d.coordinates.width*f,d.coordinates.height=d.coordinates.height*f,d.coordinates.left=d.visibleArea.left+y.left*f,d.coordinates.top=d.visibleArea.top+y.top*f,d.coordinates=le(d.coordinates,se(Z(d.visibleArea),g)),p&&h&&(null===(n=t.transformImage)||void 0===n?void 0:n.adjustStencil)&&(h>1?m=Math.min(w.area.maximum,h)/f:h<1&&(m=Math.max(d.coordinates.height/d.visibleArea.height,d.coordinates.width/d.visibleArea.width,h/f)),1!==m&&(d.visibleArea=Q(d.visibleArea,m,h>1?u:Y(d.coordinates)),d.visibleArea=le(d.visibleArea,fe(d,t)),d.visibleArea=q(d.visibleArea,G(ce(d.coordinates,Z(d.visibleArea)))))),d}return e}(e,t,r)),e}function Fe(e,t){if(pe(e)){var r=ke(e),n=ye(e,t),i=ve(e,t),o=me(e,t),a=ee(K(e.coordinates),n),s=a?{height:e.coordinates.height,width:e.coordinates.height*a}:e.coordinates;r.coordinates=d(d({},r.coordinates),ze({width:s.width,height:s.height,aspectRatio:n,sizeRestrictions:_e(o,i)})),r.coordinates=q(r.coordinates,V(Y(e.coordinates),Y(r.coordinates)));var c=Math.max(r.coordinates.width/r.visibleArea.width,r.coordinates.height/r.visibleArea.height,1);return r.visibleArea=d(d({},e.visibleArea),ze({width:e.visibleArea.width*c,height:e.visibleArea.height*c,aspectRatio:{minimum:K(r.boundary),maximum:K(r.boundary)},sizeRestrictions:o})),r.visibleArea=q(r.visibleArea,V(Y(e.visibleArea),Y(r.visibleArea))),r.visibleArea=le(r.visibleArea,fe(r,t)),r.coordinates=le(r.coordinates,se(Z(r.visibleArea),ge(r,t))),r}return e}function Ve(e,t){var r=be(e);return e.visibleArea?{left:t.left*r+e.visibleArea.left,top:t.top*r+e.visibleArea.top}:t}function Ye(e,t){if(e){var r=Math.abs(e.transforms.rotate%180);return r<=45||r>=135?t:{horizontal:t.vertical,vertical:t.horizontal}}return t}function Ue(e,t){var r=be(e);return{left:k(t.left)?t.left*r:0,top:k(t.top)?t.top*r:0}}function Xe(e,t){var r=t.getBoundingClientRect(),n=r.left,i=r.top,o={left:0,top:0},a=0;return e.forEach((function(t){o.left+=(t.clientX-n)/e.length,o.top+=(t.clientY-i)/e.length})),e.forEach((function(e){a+=R({left:o.left,top:o.top},{left:e.clientX-n,top:e.clientY-i})})),{centerMass:o,spread:a,count:e.length}}function Ge(e,t){var r,n=e.imageSize,i=e.visibleArea,o=ve(e,t),a=ye(e,t);if(i)r=i;else{var s=ae(ge(e,t));r={width:Math.max(s.minWidth,Math.min(s.maxWidth,n.width)),height:Math.max(s.minHeight,Math.min(s.maxHeight,n.height))}}var c=Math.min(a.maximum||1/0,Math.max(a.minimum||0,K(r))),l=r.width<r.height?{width:.8*r.width,height:.8*r.width/c}:{height:.8*r.height,width:.8*r.height*c};return ze(d(d({},l),{aspectRatio:a,sizeRestrictions:o}))}function qe(e,t){return function(e){return{minWidth:M(e.minWidth)?_(e.minWidth):0,minHeight:M(e.minHeight)?_(e.minHeight):0,maxWidth:M(e.maxWidth)?_(e.maxWidth):1/0,maxHeight:M(e.maxHeight)?_(e.maxHeight):1/0}}(t)}function Ze(e){var t=e.visibleArea,r=e.coordinates,n=t||Ae(e);return{left:(t?t.left:0)+n.width/2-(r?r.width/2:0),top:(t?t.top:0)+n.height/2-(r?r.height/2:0)}}function Qe(e){return{width:e.clientWidth,height:e.clientHeight}}function Ke(e,t){return e.aspectRatio?{}:{aspectRatio:de(C(t.aspectRatio)?t.aspectRatio():t.aspectRatio)}}function Je(e){return function(t,r){var n=C(e)?e(t,r):e;return _e(qe(0,r),n)}}function et(e){return d(d({},e),{sizeRestrictions:function(t,r){return e.sizeRestrictions?C(e.sizeRestrictions)?e.sizeRestrictions(t,r):e.sizeRestrictions:qe(0,r)},areaPositionRestrictions:function(t,r){return e.areaPositionRestrictions?C(e.areaPositionRestrictions)?e.areaPositionRestrictions(t,r):e.areaPositionRestrictions:function(e,t){var r=e.visibleArea,n=e.boundary,i=t.imageRestriction,o=Ae(e),a={};return i===D.fillArea?a={left:0,top:0,right:o.width,bottom:o.height}:i===D.fitArea&&(K(n)>K(o)?(a={top:0,bottom:o.height},r&&(r.width>o.width?(a.left=-(r.width-o.width)/2,a.right=o.width-a.left):(a.left=0,a.right=o.width))):(a={left:0,right:o.width},r&&(r.height>o.height?(a.top=-(r.height-o.height)/2,a.bottom=o.height-a.top):(a.top=0,a.bottom=o.height)))),a}(t,r)},areaSizeRestrictions:function(t,r){return e.areaSizeRestrictions?C(e.areaSizeRestrictions)?e.areaSizeRestrictions(t,r):e.areaSizeRestrictions:function(e,t){var r=e.boundary,n=t.imageRestriction,i=Ae(e),o={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0};return n===D.fillArea?(o.maxWidth=i.width,o.maxHeight=i.height):n===D.fitArea&&(K(r)>K(i)?(o.maxHeight=i.height,o.maxWidth=i.height*K(r)):(o.maxWidth=i.width,o.maxHeight=i.width/K(r))),o}(t,r)},positionRestrictions:function(t,r){return e.positionRestrictions?C(e.positionRestrictions)?e.positionRestrictions(t,r):e.positionRestrictions:function(e,t){var r=Ae(e),n={};return t.imageRestriction&&"none"!==t.imageRestriction&&(n={left:0,top:0,right:r.width,bottom:r.height}),n}(t,r)},defaultCoordinates:function(t,r){if(e.defaultCoordinates)return C(e.defaultCoordinates)?e.defaultCoordinates(t,r):e.defaultCoordinates;var n=e.defaultSize;n||(n=Ge);var i=C(n)?n(t,r):n,o=e.defaultPosition||Ze;return[i,function(e){return d({},C(o)?o(e,r):o)}]},defaultVisibleArea:function(t,r){return e.defaultVisibleArea?C(e.defaultVisibleArea)?e.defaultVisibleArea(t,r):e.defaultVisibleArea:function(e,t){var r=e.coordinates,n=e.boundary,i=Ae(e),o=K(n);if(r){var a={height:Math.max(r.height,i.height),width:Math.max(r.width,i.width)},s={left:0,top:0,width:K(a)>o?a.width:a.height*o,height:K(a)>o?a.width/o:a.height};(s=ne(s,me(e,t))).left=r.left+r.width/2-s.width/2,s.top=r.top+r.height/2-s.height/2;var c=re(r,Z(d({left:0,top:0},i))),l={};return!c.left&&!c.right&&s.width<=i.width&&(l.left=0,l.right=i.width),!c.top&&!c.bottom&&s.height<=i.height&&(l.top=0,l.bottom=i.height),le(s,l)}var h=K(i),u={height:h<o?i.height:i.width/o,width:h<o?i.height*o:i.width};return{left:i.width/2-u.width/2,top:i.height/2-u.height/2,width:u.width,height:u.height}}(t,r)},aspectRatio:function(t,r){return de(C(e.aspectRatio)?e.aspectRatio(t,r):e.aspectRatio)}})}function tt(e){return e.moveCoordinates||e.resizeCoordinates||e.transformImage.move||e.transformImage.rotate||e.transformImage.flip||e.transformImage.scale}function rt(e,t){if(e&&t){var r=t();r&&e(r)}}!function(e){e.fillArea="fillArea",e.fitArea="fitArea",e.stencil="stencil",e.none="none"}(D||(D={})),function(e){e.coordinates="coordinates",e.visibleArea="visibleArea"}(L||(L={})),function(e){e.limit="limit",e.zoom="zoom",e.unsafe="unsafe"}(j||(j={}));var nt=function(e){function t(t){var r=e.call(this)||this;return r.props=t,r.isControlled()||(r.data={state:null,transitions:!1,interactions:{moveCoordinates:!1,resizeCoordinates:!1,transformImage:{rotate:!1,move:!1,scale:!1,flip:!1}}}),r}return l(t,e),t.prototype.isControlled=function(){return Boolean(this.props.getData)},t.prototype.setData=function(e){var t,r;this.isControlled()||(this.data=e),null===(r=(t=this.props).setData)||void 0===r||r.call(t,e)},t.prototype.getProps=function(){return this.props.getProps()},t.prototype.getData=function(){var e,t;return this.isControlled()?null===(t=(e=this.props).getData)||void 0===t?void 0:t.call(e):this.data},t}((function(){var e=this;this.getTransitions=function(){var t=e.getData(),r=e.getProps().transitions;return d(d({},E(r,{timingFunction:"ease-in-out",duration:350})),{active:t.transitions})},this.getInteractions=function(){return O(e.getData().interactions)},this.hasInteractions=function(){return tt(e.getData().interactions)},this.startTransitions=function(){var t=e.getProps(),r=t.onTransitionsStart,n=t.getInstance,i=e.getData(),o=i.transitions,a=h(i,["transitions"]);e.setData(d(d({},a),{transitions:!0})),o||rt(r,n),e.endTransitions()},this.endTransitions=T((function(){var t=e.getProps(),r=t.onTransitionsEnd,n=t.getInstance;e.setData(d(d({},e.getData()),{transitions:!1})),rt(r,n)}),(function(){return e.getTransitions().duration})),this.applyPostProcess=function(t,r){var n,i=e.getProps(),o=i.settings,a=i.postProcess,s=t.name,c=t.interaction,l=void 0!==c&&c,d=t.transitions,h=void 0!==d&&d,u=t.immediately,p={name:s,interaction:l,transitions:h,immediately:void 0!==u&&u};return n=a,Array.isArray(n)?a.reduce((function(e,t){return t(e,o,p)}),r):C(a)?a(r,o,p):r},this.updateState=function(t,r,n){void 0===r&&(r={}),void 0===n&&(n=[]);var i=r.transitions,o=void 0!==i&&i,a=e.getProps(),s=a.onTransitionsStart,c=a.getInstance,l=a.onChange,h=a.settings,u=e.getData(),p=C(t)?t(u.state,h):t,m=p?.001*be(p):.001,f=!W(u.state,p,m),v=["coordinates","boundary","visibleArea","imageSize","transforms"].some((function(e){var t;return!W(null===(t=u.state)||void 0===t?void 0:t[e],null==p?void 0:p[e],m)})),g=u;f&&(o&&v&&e.endTransitions(),g=d(d({},g),{state:ke(p),transitions:o&&v}),e.setData(g),rt(l,c)),g.transitions&&!u.transitions&&rt(s,c),function(e){e.forEach((function(e){e()}))}(n.map((function(e){return function(e,t){return function(){rt(e,t)}}(e,c)})))},this.setInteractions=function(t){var r=e.getProps(),n=r.onInteractionStart,i=r.onInteractionEnd,o=r.getInstance,a=e.getInteractions(),s=d(d({},a),t);if(W(a,s)||e.setData(d(d({},e.getData()),{interactions:s})),tt(a)!==tt(s))if(tt(a)){var c=e.getData().state;e.updateState((function(){return c&&e.applyPostProcess({name:"interactionEnd",immediately:!0,transitions:!0},c)}),{transitions:!0},[i])}else rt(n,o)},this.resetState=function(t,r){e.updateState(e.createDefaultState(t,r))},this.clear=function(){e.updateState(null)},this.reconcileState=function(t){void 0===t&&(t={});var r=e.getProps(),n=r.reconcileStateAlgorithm,i=r.settings,o=e.getData().state,a=t.transitions,s=void 0!==a&&a;if(o&&!Se(o,i)){var c=(n||Fe)(o,i);c=e.applyPostProcess({name:"reconcileState",immediately:!0,transitions:s},c),e.updateState(c,{transitions:s})}},this.transformImage=function(t,r){void 0===r&&(r={});var n=r.transitions,i=void 0===n||n,o=r.interaction,a=void 0===o||o,s=r.immediately,c=void 0!==s&&s,l=r.normalize,d=void 0===l||l,h=e.getProps(),u=h.transformImageAlgorithm,p=h.onTransformImage,m=h.onTransformImageEnd,f=h.settings,v=e.getData().state,g=[];if(v){d&&(t=function(e,t){return t.scale&&(t.scale={factor:k(t.scale)?t.scale:t.scale.factor,center:!k(t.scale)&&t.scale.center?Ve(e,t.scale.center):void 0}),t.rotate&&(t.rotate={angle:k(t.rotate)?t.rotate:t.rotate.angle,center:!k(t.rotate)&&t.rotate.center?Ve(e,t.rotate.center):void 0}),t.move&&(t.move=Ue(e,t.move)),t}(v,t));var b=e.applyPostProcess({name:"transformImage",transitions:i,immediately:c},(u||Be)(v,f,t));g.push(p),a?e.setInteractions({transformImage:{rotate:!A(t.rotate),flip:!A(t.flip),scale:!A(t.scale),move:!A(t.move)}}):(b=e.applyPostProcess({name:"transformImageEnd",transitions:i,immediately:!0},b),g.push(m)),e.updateState(b,{transitions:c&&i},g)}},this.transformImageEnd=function(t){void 0===t&&(t={});var r=t.immediately,n=void 0===r||r,i=t.transitions,o=void 0===i||i,a=e.getData().state,s=e.getProps().onTransformImageEnd;e.updateState((function(){return a&&e.applyPostProcess({name:"transformImageEnd",immediately:n,transitions:o},a)}),{transitions:o},[s]),e.setInteractions({transformImage:{rotate:!1,flip:!1,scale:!1,move:!1}})},this.zoomImage=function(t,r){void 0===r&&(r={});var n=r.interaction,i=void 0!==n&&n,o=r.immediately,a=void 0===o||o,s=r.transitions,c=void 0===s||s,l=r.normalize,d=void 0!==l&&l;e.transformImage({scale:t},{interaction:i,immediately:a,transitions:c,normalize:d})},this.moveImage=function(t,r,n){void 0===n&&(n={});var i=n.interaction,o=void 0!==i&&i,a=n.immediately,s=void 0===a||a,c=n.transitions,l=void 0===c||c,d=n.normalize,h=void 0!==d&&d;e.transformImage({move:{left:t,top:r}},{interaction:o,immediately:s,transitions:l,normalize:h})},this.flipImage=function(t,r,n){void 0===n&&(n={});var i=n.interaction,o=void 0!==i&&i,a=n.immediately,s=void 0===a||a,c=n.transitions,l=void 0===c||c,d=n.normalize,h=void 0===d||d,u=e.getState(),p={horizontal:t,vertical:r};e.transformImage({flip:u&&h?Ye(u,p):p},{interaction:o,immediately:s,transitions:l})},this.rotateImage=function(t,r){void 0===r&&(r={});var n=r.interaction,i=void 0!==n&&n,o=r.immediately,a=void 0===o||o,s=r.transitions,c=void 0===s||s,l=r.normalize,d=void 0!==l&&l;e.transformImage({rotate:t},{interaction:i,immediately:a,transitions:c,normalize:d})},this.reset=function(t,r){e.resetState(t,r)},this.setState=function(t,r){void 0===r&&(r={});var n=e.getSettings(),i=e.getData().state,o=r.transitions,a=void 0===o||o,s=r.immediately,c=void 0!==s&&s,l=r.interaction,h=void 0!==l&&l,u=r.postprocess,p=void 0!==u&&u,m=t&&(C(t)?t(i,n):d(d({},i),t));e.updateState((function(){return p?m&&e.applyPostProcess({name:"setState",immediately:c,transitions:a,interaction:h},m):m}),{transitions:a})},this.setCoordinates=function(t,r){void 0===r&&(r={});var n=e.getData().state,i=e.getProps(),o=i.setCoordinatesAlgorithm,a=i.settings,s=r.transitions,c=void 0===s||s,l=r.immediately,d=void 0===l||l;e.updateState((function(){return n&&e.applyPostProcess({name:"setCoordinates",immediately:d,transitions:c},(o||Pe)(n,a,t,j.zoom))}),{transitions:c})},this.setVisibleArea=function(t,r){void 0===r&&(r={});var n=r.transitions,i=void 0===n||n,o=r.immediately,a=void 0===o||o,s=e.getData().state,c=e.getProps(),l=c.setVisibleAreaAlgorithm,d=c.settings;e.updateState((function(){return s&&e.applyPostProcess({name:"setVisibleArea",immediately:a,transitions:i},(l||Ie)(s,d,t))}),{transitions:i})},this.setBoundary=function(t,r){void 0===r&&(r={});var n=e.getData().state,i=e.getProps(),o=i.setBoundaryAlgorithm,a=i.settings,s=r.transitions,c=void 0!==s&&s,l=r.immediately,d=void 0===l||l;t?e.updateState((function(){return n&&e.applyPostProcess({name:"setBoundary",immediately:d,transitions:c},(o||$e)(n,a,t))})):e.updateState(null)},this.moveCoordinates=function(t,r){void 0===r&&(r={});var n=e.getData(),i=e.getProps(),o=i.moveCoordinatesAlgorithm,a=i.onMove,s=i.onMoveEnd,c=i.settings,l=r.interaction,d=void 0===l||l,h=r.transitions,u=void 0!==h&&h,p=r.immediately,m=void 0!==p&&p,f=r.normalize,v=void 0===f||f,g=[];if(!n.transitions&&n.state){var b=v?Ue(n.state,t):function(e){return{left:k(e.left)?e.left:0,top:k(e.top)?e.top:0}}(t),w=e.applyPostProcess({name:"moveCoordinates",interaction:d,immediately:m,transitions:u},(o||Oe)(n.state,c,b));g.push(a),d?e.setInteractions({moveCoordinates:!0}):(w=e.applyPostProcess({name:"moveCoordinatesEnd",interaction:d,immediately:m,transitions:u},w),g.push(s)),e.updateState(w,{transitions:m&&u},g)}},this.moveCoordinatesEnd=function(t){void 0===t&&(t={});var r=e.getData().state,n=e.getProps().onMoveEnd,i=t.transitions,o=void 0===i||i,a=t.immediately,s=void 0!==a&&a;e.updateState((function(){return r&&e.applyPostProcess({name:"moveCoordinatesEnd",transitions:o,immediately:s},r)}),{transitions:o},[n]),e.setInteractions({moveCoordinates:!1})},this.resizeCoordinates=function(t,r,n,i){void 0===i&&(i={});var o=e.getData().state,a=e.getProps(),s=a.resizeCoordinatesAlgorithm,c=a.onResize,l=a.onResizeEnd,d=a.settings,h=i.interaction,u=void 0===h||h,p=i.transitions,m=void 0!==p&&p,f=i.immediately,v=void 0!==f&&f,g=i.normalize,b=void 0===g||g;if(!e.getTransitions().active&&o){var w=[],y=b?function(e,t){var r=be(e);return{left:k(t.left)?t.left*r:0,top:k(t.top)?t.top*r:0,right:k(t.right)?t.right*r:0,bottom:k(t.bottom)?t.bottom*r:0}}(o,r):function(e){return{left:k(e.left)?e.left:0,top:k(e.top)?e.top:0,right:k(e.right)?e.right:0,bottom:k(e.bottom)?e.bottom:0}}(r),x=e.applyPostProcess({name:"resizeCoordinates",interaction:u,immediately:v,transitions:m},(s||je)(o,d,t,y,S(n)?n:{}));w.push(c),u?e.setInteractions({resizeCoordinates:!0}):(x=e.applyPostProcess({name:"resizeCoordinatesEnd",interaction:u,immediately:v,transitions:m},x),w.push(l)),e.updateState(x,{transitions:v&&m},w)}},this.resizeCoordinatesEnd=function(t){void 0===t&&(t={});var r=e.getProps().onResizeEnd,n=e.getData().state,i=t.transitions,o=void 0===i||i,a=t.immediately,s=void 0!==a&&a;e.updateState((function(){return n&&e.applyPostProcess({name:"resizeCoordinatesEnd",transitions:o,immediately:s},n)}),{transitions:o},[r]),e.setInteractions({resizeCoordinates:!1})},this.getStencilCoordinates=function(){return we(e.getData().state)},this.getCoordinates=function(t){void 0===t&&(t={});var r=e.getData().state,n=e.getProps().settings;if(r&&r.coordinates){var i=t.round;return void 0===i||i?function(e,t){if(pe(e)){var r=ve(e,t),n=ge(e,t),i={width:Math.round(e.coordinates.width),height:Math.round(e.coordinates.height),left:Math.round(e.coordinates.left),top:Math.round(e.coordinates.top)};return i.width>r.maxWidth?i.width=Math.floor(e.coordinates.width):i.width<r.minWidth&&(i.width=Math.ceil(e.coordinates.width)),i.height>r.maxHeight?i.height=Math.floor(e.coordinates.height):i.height<r.minHeight&&(i.height=Math.ceil(e.coordinates.height)),le(i,n)}return null}(r,n):d({},r.coordinates)}return null},this.getVisibleArea=function(){var t=e.getData().state;return(null==t?void 0:t.visibleArea)?d({},t.visibleArea):null},this.getSettings=function(){var t=e.getProps().settings;return d({},t)},this.getState=function(){return ke(e.getData().state)},this.getTransforms=function(){var t=e.getData().state;return t?O(t.transforms):{rotate:0,flip:{horizontal:!1,vertical:!1}}},this.createDefaultState=function(t,r){var n=e.getProps(),i=n.defaultTransforms,o=n.createStateAlgorithm,a=n.priority,s=n.settings,c=r.transforms;return i&&(c=C(i)?i(r):i),e.applyPostProcess({name:"createState",immediately:!0,transitions:!1},(o||He)({boundary:t,imageSize:{width:r.width,height:r.height},transforms:c,priority:a},s))},this.isConsistent=function(){var t=e.getData().state,r=e.getProps().settings;return!t||Se(t,r)}})),it={linear:function(e){return e},"ease-in":function(e){return Math.pow(e,1.675)},"ease-out":function(e){return 1-Math.pow(1-e,1.675)},"ease-in-out":function(e){return.5*(Math.sin((e-.5)*Math.PI)+1)}},ot=function(){function e(){this.active=!1}return e.prototype.start=function(e){var t;this.onStart=e.onStart,this.onProgress=e.onProgress,this.onStop=e.onStop,this.active||null===(t=this.onStart)||void 0===t||t.call(this),this.id&&window.cancelAnimationFrame(this.id),this.startTime=performance.now(),this.timingFunction=e.timingFunction,this.endTime=this.startTime+e.duration,this.active=!0,this.animate()},e.prototype.animate=function(){var e=this;if(this.startTime&&this.endTime){var t=it[this.timingFunction];t||(t=it["ease-out"]);var r=1-(this.endTime-performance.now())/(this.endTime-this.startTime),n=Math.min(1,t(r));this.onProgress&&this.onProgress(n),r<1?this.id=window.requestAnimationFrame((function(){return e.animate()})):this.stop()}else this.stop()},e.prototype.stop=function(){this.active=!1,this.id&&window.cancelAnimationFrame(this.id),this.onStop&&this.onStop()},e}();function at(e,t,r){t.style.width="0px",t.style.height="0px",t.style.width=Math.max(e.clientWidth,r.width)+"px";var n=r.width/r.height;t.style.height=Math.max(e.clientHeight,t.clientWidth/n)+"px",t.style.width=t.clientHeight*n+"px"}function st(e){var t=e.rotate,r=void 0===t?0:t,n=e.flip,i=void 0===n?{horizontal:!1,vertical:!1}:n,o=e.scale,a=void 0===o?1:o;return" rotate("+r+"deg) scaleX("+a*(i.horizontal?-1:1)+") scaleY("+a*(i.vertical?-1:1)+")"}function ct(e){var t=e.src,r=e.arrayBuffer,n=void 0===r?null:r,i=e.orientation,o=void 0===i?null:i,a={src:t,arrayBuffer:n,revoke:!1,transforms:{flip:{horizontal:!1,vertical:!1},rotate:0}};return n&&o&&o>1?w(t)||!y(t)?(a.src=URL.createObjectURL(new Blob([n])),a.revoke=!0):a.src=function(e){for(var t=[],r=new Uint8Array(e);r.length>0;){var n=r.subarray(0,8192);t.push(String.fromCharCode.apply(null,Array.from?Array.from(n):n.slice())),r=r.subarray(8192)}return"data:image/jpeg;base64,"+btoa(t.join(""))}(n):a.src=t,o&&(a.transforms=function(e){var t={flip:{horizontal:!1,vertical:!1},rotate:0};if(e)switch(e){case 2:t.flip.horizontal=!0;break;case 3:t.rotate=-180;break;case 4:t.flip.vertical=!0;break;case 5:t.rotate=90,t.flip.vertical=!0;break;case 6:t.rotate=90;break;case 7:t.rotate=90,t.flip.horizontal=!0;break;case 8:t.rotate=-90}return t}(o)),a}function lt(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});var r=t.checkOrientation,n=t.parse;return new Promise((function(t){var i;r||n?(i=e,new Promise((function(e,t){try{if(i)if(/^data:/i.test(i))e(function(e){e=e.replace(/^data:([^;]+);base64,/gim,"");for(var t=atob(e),r=t.length,n=new ArrayBuffer(r),i=new Uint8Array(n),o=0;o<r;o++)i[o]=t.charCodeAt(o);return n}(i));else if(/^blob:/i.test(i)){var r=new FileReader;r.onload=function(t){var r;e(null===(r=t.target)||void 0===r?void 0:r.result)},o=i,a=function(e){r.readAsArrayBuffer(e)},(s=new XMLHttpRequest).open("GET",o,!0),s.responseType="blob",s.onload=function(){200!=this.status&&0!==this.status||a(this.response)},s.send()}else{var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status||0===n.status?e(n.response):t("Warning: could not load an image to parse its orientation"))},n.onprogress=function(){"image/jpeg"!==n.getResponseHeader("content-type")&&n.abort()},n.withCredentials=!1,n.open("GET",i,!0),n.responseType="arraybuffer",n.send(null)}else t("Error: the image is empty")}catch(e){t(e)}var o,a,s}))).then((function(r){var n=function(e){try{var t,r=new DataView(e),n=void 0,i=void 0,o=void 0,a=void 0;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var s=r.byteLength,c=2;c+1<s;){if(255===r.getUint8(c)&&225===r.getUint8(c+1)){o=c;break}c++}if(o&&(n=o+10,"Exif"===function(e,t,r){var n,i="";for(n=t,r+=t;n<r;n++)i+=String.fromCharCode(e.getUint8(n));return i}(r,o+4,4))){var l=r.getUint16(n);if(((i=18761===l)||19789===l)&&42===r.getUint16(n+2,i)){var d=r.getUint32(n+4,i);d>=8&&(a=n+d)}}if(a)for(var h=r.getUint16(a,i),u=0;u<h;u++)if(c=a+12*u+2,274===r.getUint16(c,i)){c+=8,t=r.getUint16(c,i),r.setUint16(c,1,i);break}return t}catch(e){return null}}(r);t(ct(r?{src:e,arrayBuffer:r,orientation:n}:{src:e,arrayBuffer:null,orientation:null}))})).catch((function(r){console.warn(r),t(ct({src:e}))})):t(ct({src:e}))}))}(e,d(d({},t),{crossOrigin:x(e)&&t.crossOrigin})).then((function(e){return new Promise((function(r,n){(function(e,t){return void 0===t&&(t={}),new Promise((function(r,n){var i=document.createElement("img");t.crossOrigin&&(i.crossOrigin=!0!==t.crossOrigin?t.crossOrigin:"anonymous"),i.src=e,i.style.visibility="hidden",i.style.position="fixed",document.body.appendChild(i),i.complete?(r(i),document.body.removeChild(i)):(i.addEventListener("load",(function(){r(i),document.body.removeChild(i)})),i.addEventListener("error",(function(){n(null),document.body.removeChild(i)})))}))})(e.src,t).then((function(t){r(d(d({},e),{width:t.naturalWidth,height:t.naturalHeight}))})).catch((function(){n(null)}))}))}))}function dt(e){var t,r,n=e.src,i=e.autoReconcileState,o=e.backgroundWrapperComponent,a=e.backgroundWrapperProps,s=e.wrapperComponent,c=e.wrapperProps,l=e.stencilComponent,u=e.stencilConstraints,p=e.stencilProps,m=e.className,f=e.imageClassName,v=e.boundaryClassName,g=e.backgroundClassName,b=e.backgroundComponent,w=e.backgroundProps,y=e.checkOrientation,x=e.canvas,C=e.crossOrigin,S=e.boundarySizeAlgorithm,E=e.boundaryStretchAlgorithm,_=e.style,k=e.onReady,z=e.onError,M=e.unloadTime,R=e.getInstance,P=e.onTransitionsStart,N=e.onTransitionsEnd,I=e.onChange,H=e.onResizeEnd,O=e.onMoveEnd,W=e.onMove,T=e.onResize,D=e.onTransformImage,L=e.onTransformImageEnd,j=e.onInteractionStart,$=e.onInteractionEnd,B=e.transitions,F=e.postProcess,V=e.setCoordinatesAlgorithm,Y=e.setVisibleAreaAlgorithm,U=e.setBoundaryAlgorithm,X=e.transformImageAlgorithm,G=e.moveCoordinatesAlgorithm,q=e.resizeCoordinatesAlgorithm,Z=e.createStateAlgorithm,Q=e.reconcileStateAlgorithm,K=e.defaultTransforms,J=e.priority,ee=h(e,["src","autoReconcileState","backgroundWrapperComponent","backgroundWrapperProps","wrapperComponent","wrapperProps","stencilComponent","stencilConstraints","stencilProps","className","imageClassName","boundaryClassName","backgroundClassName","backgroundComponent","backgroundProps","checkOrientation","canvas","crossOrigin","boundarySizeAlgorithm","boundaryStretchAlgorithm","style","onReady","onError","unloadTime","getInstance","onTransitionsStart","onTransitionsEnd","onChange","onResizeEnd","onMoveEnd","onMove","onResize","onTransformImage","onTransformImageEnd","onInteractionStart","onInteractionEnd","transitions","postProcess","setCoordinatesAlgorithm","setVisibleAreaAlgorithm","setBoundaryAlgorithm","transformImageAlgorithm","moveCoordinatesAlgorithm","resizeCoordinatesAlgorithm","createStateAlgorithm","reconcileStateAlgorithm","defaultTransforms","priority"]);return d(d({},(t={src:n,autoReconcileState:i,backgroundWrapperComponent:o,backgroundWrapperProps:a,wrapperComponent:s,wrapperProps:c,stencilComponent:l,stencilConstraints:u,stencilProps:p,className:m,imageClassName:f,boundaryClassName:v,backgroundClassName:g,backgroundComponent:b,backgroundProps:w,checkOrientation:y,canvas:x,crossOrigin:C,boundarySizeAlgorithm:S,boundaryStretchAlgorithm:E,style:_,onReady:k,onError:z,unloadTime:M,getInstance:R,onTransitionsStart:P,onTransitionsEnd:N,onChange:I,onResizeEnd:H,onMoveEnd:O,onMove:W,onResize:T,onTransformImage:D,onTransformImageEnd:L,onInteractionStart:j,onInteractionEnd:$,transitions:B,postProcess:F,setCoordinatesAlgorithm:V,setVisibleAreaAlgorithm:Y,setBoundaryAlgorithm:U,transformImageAlgorithm:X,moveCoordinatesAlgorithm:G,resizeCoordinatesAlgorithm:q,createStateAlgorithm:Z,reconcileStateAlgorithm:Q,defaultTransforms:K,priority:J},r={},Object.keys(t).forEach((function(e){A(t[e])||(r[e]=t[e])})),r)),{settings:ee})}function ht(e){return(0,n.forwardRef)(e)}function ut(e,t,r){return r.immediately?function(e,t){if(pe(e)){var r=ke(e),n={width:0,height:0};K(r.boundary)>K(r.coordinates)?(n.height=.8*r.boundary.height,n.width=n.height*K(r.coordinates)):(n.width=.8*r.boundary.width,n.height=n.width*K(r.coordinates)),r.visibleArea=Q(r.visibleArea,r.coordinates.width*r.boundary.width/(r.visibleArea.width*n.width));var i=te(r.visibleArea,me(r,t));return r.visibleArea=Q(r.visibleArea,i),1!==i&&(n.height/=i,n.width/=i),r.visibleArea=q(r.visibleArea,V(Y(r.coordinates),Y(r.visibleArea))),r.visibleArea=le(r.visibleArea,fe(r,t)),r.coordinates=le(r.coordinates,se(Z(r.visibleArea),ge(r,t))),r}return e}(e,t):e}var pt=function(e,t){var r,i=(r=(0,n.useRef)(!0)).current?(r.current=!1,!0):r.current;(0,n.useEffect)((function(){if(!i)return e()}),t)};function mt(e){var t,r,i,o=this,a=e(),s=a.src,c=a.onReady,l=a.onError,f=a.canvas,v=void 0===f||f,g=a.unloadTime,b=void 0===g?500:g,w=a.crossOrigin,y=void 0===w||w,x=a.checkOrientation,C=void 0===x||x,S=a.autoReconcileState,E=void 0===S||S,_=(0,n.useRef)(null),k=(0,n.useRef)(null),z=(0,n.useRef)(null),M=(0,n.useRef)(null),R=m(function(e){var t=m((0,n.useState)(null),2),r=t[0],i=t[1],o=m((0,n.useState)(null),2),a=o[0],s=o[1],c=(0,n.useRef)(null);return pt((function(){a&&a(r,c.current)}),[a]),[r,function(e,t){c.current=r,i(e),s((function(){return t}))}]}(),2),P=R[0],N=R[1],I=function(e){var t=function(){var e=m((0,n.useState)({}),2);e[0];var t=e[1];return function(){t({})}}(),r=function(e){var t=(0,n.useRef)(e);return t.current=e,function(){return t.current()}}((function(){var t=e(),r=t.settings,n=h(t,["settings"]),i=d({imageRestriction:D.fitArea,transformImage:{adjustStencil:!0}},r),o=d({transitions:!0},n);return d({settings:d(d({},i),et(i))},o)}));return(0,n.useRef)(new nt({getProps:r,setData:function(){t()}})).current}((function(){return d(d({},e()),{getInstance:function(){return M.current}})})),O=function(e){var t=e.src,r=e.onLoadingStart,i=e.onLoadingEnd,o=e.onError,a=e.onLoad,s=e.crossOrigin,c=e.checkOrientation,l=e.canvas,d=m((0,n.useState)(!1),2),h=d[0],u=d[1],p=m((0,n.useState)(!1),2),f=p[0],v=p[1],g=m((0,n.useState)(null),2),b=g[0],w=g[1],y=(0,n.useRef)(null);return(0,n.useEffect)((function(){if(y.current!==t)if(y.current=t||null,v(!1),t){u(!0),null==r||r();var n=[lt(t,{crossOrigin:A(s)?l:s,checkOrientation:c})];f&&e.unloadTime&&n.push(H(e.unloadTime)),Promise.all(n).then((function(e){var r=m(e,1)[0];y.current===t&&(w(r),null==a||a(r))})).catch((function(){y.current===t&&(null==o||o())})).finally((function(){y.current===t&&(null==i||i(),u(!1))}))}else e.unloadTime?H(e.unloadTime).then((function(){w(null)})):w(null)}),[t]),(0,n.useEffect)((function(){b&&v(!0)}),[b]),{loading:h,loaded:f,image:b,setImage:w}}({src:s,crossOrigin:y,checkOrientation:C,unloadTime:b,canvas:v,onLoad:function(){M.current&&(null==c||c(M.current))},onError:function(){M.current&&(null==l||l(M.current))}}),W=O.image,T=O.loaded,L=O.loading,j=function(e,t){void 0===t&&(t=!0);var r=m((0,n.useState)(t),2),i=r[0],o=r[1];return(0,n.useLayoutEffect)((function(){i&&!e.hasInteractions()&&e.reconcileState()})),{pause:function(){o(!1)},resume:function(){o(!0)}}}(I,E),$=function(){return u(o,void 0,void 0,(function(){var e,t;return p(this,(function(r){switch(r.label){case 0:return k.current?(j.pause(),[4,null===(t=k.current)||void 0===t?void 0:t.stretchTo(W)]):[3,2];case 1:e=r.sent(),N(W,(function(){e&&W?I.reset(e,W):I.clear()})),j.resume(),r.label=2;case 2:return[2]}}))}))},B=function(){return u(o,void 0,void 0,(function(){var e,t,r;return p(this,(function(n){switch(n.label){case 0:return k.current?(j.pause(),[4,null===(r=k.current)||void 0===r?void 0:r.stretchTo(W)]):[3,2];case 1:(e=n.sent())&&W?(t=I.getState())?e.width===t.boundary.width&&e.height===t.boundary.height||(I.setBoundary(e),I.reconcileState()):I.reset(e,W):I.clear(),j.resume(),n.label=2;case 2:return[2]}}))}))},F={reset:function(){return $()},refresh:function(){return B()},setImage:function(e){return N(e)},reconcileState:I.reconcileState,moveCoordinates:I.moveCoordinates,moveCoordinatesEnd:I.moveCoordinatesEnd,resizeCoordinates:I.resizeCoordinates,clear:I.clear,resizeCoordinatesEnd:I.resizeCoordinatesEnd,moveImage:I.moveImage,flipImage:I.flipImage,zoomImage:I.zoomImage,rotateImage:I.rotateImage,transformImage:I.transformImage,transformImageEnd:I.transformImageEnd,setCoordinates:I.setCoordinates,setVisibleArea:I.setVisibleArea,startTransitions:I.startTransitions,setState:I.setState,hasInteractions:I.hasInteractions,getStencilCoordinates:I.getStencilCoordinates,getCoordinates:I.getCoordinates,getVisibleArea:I.getVisibleArea,getTransforms:I.getTransforms,getTransitions:I.getTransitions,getInteractions:I.getInteractions,getSettings:I.getSettings,getState:I.getState,getDefaultState:function(){var e=I.getState();return e&&W?I.createDefaultState(e.boundary,W):null},getCanvas:function(e){var t=I.getState();return _.current&&z.current&&t?z.current.draw(t,_.current,e):null},getImage:function(){return P?d({},P):null}};return t=function(){B()},r=(0,n.useRef)(t),i=function(){r.current&&r.current()},(0,n.useEffect)((function(){r.current=t}),[t]),(0,n.useEffect)((function(){return window.addEventListener("resize",i),window.addEventListener("orientationchange",i),function(){window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i)}}),[]),pt((function(){$()}),[W]),(0,n.useImperativeHandle)(M,(function(){return F})),{cropper:F,refs:{image:_,boundary:k,canvas:z},loading:L,loaded:T,image:P}}var ft=(0,n.forwardRef)((function(e,t){var r=e.className,o=e.style,a=e.stretcherClassName,s=e.contentClassName,c=e.stretchAlgorithm,l=void 0===c?at:c,d=e.sizeAlgorithm,h=void 0===d?Qe:d,u=e.children,p=(0,n.useRef)(null),m=(0,n.useRef)(null);return(0,n.useImperativeHandle)(t,(function(){return{reset:function(){var e=p.current;e&&(e.style.height="",e.style.width="")},stretchTo:function(e){var t=p.current,r=m.current;if((null==e?void 0:e.width)&&(null==e?void 0:e.height)&&t&&r){l(r,t,e);var n=h(r,e);return Promise.resolve(n.width&&n.height?n:null)}return t&&(t.style.height="",t.style.width=""),Promise.resolve(null)}}})),i().createElement("div",{ref:m,style:o,className:g()("advanced-cropper-boundary",r)},i().createElement("div",{ref:p,className:g()(["advanced-cropper-boundary__stretcher",a])}),i().createElement("div",{className:g()(["advanced-cropper-boundary__content",s])},u))}));ft.displayName="StretchableBoundary";var vt=function(e){var t=e.visible,r=e.className,n=e.style,o=e.children;return i().createElement("div",{style:n,className:g()(r,"advanced-cropper-fade",Boolean(t)&&"advanced-cropper-fade--visible")},o)},gt=function(e){var t=e.cropper,r=e.children,n=e.loaded,o=e.className,a=e.style,s=t?t.getState():null;return i().createElement("div",{className:g()(o,"advanced-cropper-wrapper"),style:a},i().createElement(vt,{visible:s&&n,className:"advanced-cropper-wrapper__fade"},r))};function bt(e){e.preventDefault()}var wt=(0,n.forwardRef)((function(e,t){var r=e.className,n=e.cropper,o=e.crossOrigin,a=void 0===o||o,s=n.getState(),c=n.getTransitions(),l=n.getImage(),h=l&&s?function(e,t,r){return void 0===r&&(r=null),e&&t&&t.visibleArea?function(e,t,r,n,i){void 0===i&&(i=null);var o=e.width>e.height?{width:Math.min(512,e.width),height:Math.min(512,e.width)/(e.width/e.height)}:{height:Math.min(512,e.height),width:Math.min(512,e.height)*(e.width/e.height)},a=Ae(t),s={rotate:t.transforms.rotate,flip:{horizontal:t.transforms.flip.horizontal,vertical:t.transforms.flip.vertical},translateX:r.left/n,translateY:r.top/n,scale:1/n},c=(o.width-a.width)/(2*n),l=(o.height-a.height)/(2*n),h=(1-1/n)*o.width/2,u=(1-1/n)*o.height/2,p=d(d({},s),{scale:s.scale*(e.width/o.width)}),m={width:o.width+"px",height:o.height+"px",left:"0px",top:"0px",transition:"none",transform:"translate3d("+(-c-h-s.translateX)+"px, "+(-l-u-s.translateY)+"px, 0px)"+st(p),willChange:"none"};return i&&i.active&&(m.willChange="transform",m.transition=i.duration+"ms "+i.timingFunction),m}(e,t,t.visibleArea,be(t),r):{}}(l,s,c):{},u=l?l.src:void 0;return u?i().createElement("img",{key:u,ref:t,className:g()("advanced-cropper-background-image",r),src:u,crossOrigin:!0===a?"anonymous":a||void 0,style:h,onMouseDown:bt}):null}));wt.displayName="CropperBackgroundImage";var yt=(0,n.forwardRef)((function(e,t){var r=(0,n.useRef)(null),o=(0,n.useRef)(null);return(0,n.useImperativeHandle)(t,(function(){return{draw:function(e,t,n){return void 0===n&&(n={}),t&&r.current&&o.current?function(e,t,r,n,i){if(pe(e)){var o=e.transforms,a=e.coordinates,s=0!==o.rotate||o.flip.horizontal||o.flip.vertical?function(e,t,r){var n=r.rotate,i=r.flip,o={width:"naturalWidth"in t?t.naturalWidth:t.width,height:"naturalHeight"in t?t.naturalHeight:t.height},a=ie(o,n),s=e.getContext("2d");if(e.height=a.height,e.width=a.width,s){s.save();var c=oe(Y(d({left:0,top:0},o)),n);s.translate(-(c.left-a.width/2),-(c.top-a.height/2)),s.rotate(n*Math.PI/180),s.translate(i.horizontal?o.width:0,i.vertical?o.height:0),s.scale(i.horizontal?-1:1,i.vertical?-1:1),s.drawImage(t,0,0,o.width,o.height),s.restore()}return e}(n,t,o):t,c=d({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:1/0,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},i),l=function(e){return e.find((function(e){return M(e)}))},h=ze({sizeRestrictions:{minWidth:l([c.width,c.minWidth])||0,minHeight:l([c.height,c.minHeight])||0,maxWidth:l([c.width,c.maxWidth])||1/0,maxHeight:l([c.height,c.maxHeight])||1/0},width:a.width,height:a.height,aspectRatio:{minimum:a.width/a.height,maximum:a.width/a.height}});if(c.maxArea&&h.width*h.height>c.maxArea){var u=Math.sqrt(c.maxArea/(h.width*h.height));h={width:Math.round(u*h.width),height:Math.round(u*h.height)}}return function(e,t,r,n,i){e.width=n?n.width:r.width,e.height=n?n.height:r.height;var o=e.getContext("2d");if(o){o.clearRect(0,0,e.width,e.height),i&&(i.imageSmoothingEnabled&&(o.imageSmoothingEnabled=i.imageSmoothingEnabled),i.imageSmoothingQuality&&(o.imageSmoothingQuality=i.imageSmoothingQuality),i.fillColor&&(o.fillStyle=i.fillColor,o.fillRect(0,0,e.width,e.height),o.save()));var a=r.left<0?-r.left:0,s=r.top<0?-r.top:0;o.drawImage(t,r.left+a,r.top+s,r.width,r.height,a,s,e.width,e.height)}return e}(r,s,a,h,c)}return null}(e,t,r.current,o.current,n):null}}})),i().createElement(i().Fragment,null,i().createElement("canvas",{className:"advanced-cropper-canvas",ref:r}),i().createElement("canvas",{className:"advanced-cropper-canvas",ref:o}))}));yt.displayName="CropperCanvas";var xt=function(e){function t(t){var r=e.call(this,t)||this;return r.processMove=function(e,t){var n,i=r.container.current;if(i&&r.touches.length){var o=i.getBoundingClientRect(),a=o.left,s=o.top;if(1===r.touches.length&&1===t.length&&r.props.onMove){var c={left:Math.abs(t[0].clientX-r.anchor.left-a)<Math.abs(r.touches[0].clientX-r.anchor.left-a),top:Math.abs(t[0].clientY-r.anchor.top-s)<Math.abs(r.touches[0].clientY-r.anchor.top-s)},l={left:0,top:0};r.props.useAnchor&&c.left||(l.left=t[0].clientX-r.touches[0].clientX),r.props.useAnchor&&c.top||(l.top=t[0].clientY-r.touches[0].clientY),null===(n=r.props)||void 0===n||n.onMove(l,e),r.touches=f([],m(t),!1)}}},r.processEnd=function(){var e=r.props,t=e.onMoveEnd,n=e.onLeave;!r.props.disabled&&r.touches.length&&(null==t||t()),r.hovered&&(null==n||n(),r.hovered=!1),r.touches=[]},r.initAnchor=function(e){var t=r.container.current;if(t){var n=t.getBoundingClientRect(),i=n.left,o=n.top;r.anchor={left:e.clientX-i,top:e.clientY-o}}},r.onMouseOver=function(){var e=r.props,t=e.onEnter,n=e.disabled;r.hovered||n||(r.hovered=!0,null==t||t())},r.onMouseLeave=function(){var e=r.props.onLeave;r.hovered&&!r.touches.length&&(r.hovered=!1,null==e||e())},r.onTouchStart=function(e){var t=r.props,n=t.onEnter,i=t.onMoveStart,o=t.disabled;if(e.cancelable){r.touches=Array.from(e.touches);var a=!o&&1===e.touches.length;a&&(r.touches=Array.from(e.touches),null==i||i()),r.hovered||o||(r.hovered=!0,null==n||n()),(r.started||a)&&(e.preventDefault(),e.stopPropagation())}},r.onTouchEnd=function(){r.started=!1,r.processEnd()},r.onTouchMove=function(e){r.touches.length>=1&&(r.started?(r.processMove(e,Array.from(e.touches)),e.preventDefault(),e.stopPropagation()):R({left:r.touches[0].clientX,top:r.touches[0].clientY},{left:e.touches[0].clientX,top:e.touches[0].clientY})>(r.props.activationDistance||0)&&(r.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),r.started=!0))},r.onMouseDown=function(e){var t=r.props,n=t.onMoveStart;if(!t.disabled&&0===e.button){var i={clientX:e.clientX,clientY:e.clientY};r.touches=[i],r.initAnchor(i),e.stopPropagation(),null==n||n()}},r.onMouseMove=function(e){!r.props.disabled&&r.touches.length&&(r.processMove(e,[{clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},r.onMouseUp=function(){r.processEnd()},r.touches=[],r.hovered=!1,r.started=!1,r.anchor={left:0,top:0},r.container=(0,n.createRef)(),r}return l(t,e),t.prototype.shouldComponentUpdate=function(){return!!this.props.rerender},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd);var e=this.container.current;e&&(e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("mousedown",this.onMouseDown))},t.prototype.componentDidMount=function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1});var e=this.container.current;e&&(e.addEventListener("touchstart",this.onTouchStart,{passive:!1}),e.addEventListener("mousedown",this.onMouseDown,{passive:!1}))},t.prototype.componentDidUpdate=function(e){this.props.disabled&&!e.disabled&&(this.touches=[])},t.prototype.render=function(){var e=this.props,t=e.children,r=e.className;return i().createElement("div",{className:g()("advanced-cropper-draggable-element",r),ref:this.container,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave},t)},t.defaultProps={disabled:!1,activationDistance:30,useAnchor:!0,rerender:!0},t}(n.Component),Ct=function(e){var t=e.position,r=e.className,n=e.disabled,o=e.onDrag,a=e.onDragEnd,s=e.onLeave,c=e.onEnter,l=e.children;return i().createElement(xt,{className:g()(["advanced-cropper-line-wrapper",t&&"advanced-cropper-line-wrapper--".concat(t),r]),disabled:n,onMove:o,onMoveEnd:a,onLeave:s,onEnter:c,activationDistance:0},i().createElement("div",{className:g()(["advanced-cropper-line-wrapper__content",t&&"advanced-cropper-line-wrapper__content--".concat(t)])},l))},At=function(e){var t,r,o=e.position,a=e.hoverClassName,s=e.wrapperClassName,c=e.defaultClassName,l=e.disabled,d=e.onDrag,h=e.onDragEnd,u=m((0,n.useState)(!1),2),p=u[0],f=u[1];return i().createElement(Ct,{className:g()("advanced-cropper-simple-line-wrapper",s,(t={},t["advanced-cropper-simple-line-wrapper--".concat(o)]=!!o,t)),position:o,disabled:l,onDrag:d,onDragEnd:h,onLeave:function(){f(!1)},onEnter:function(){f(!0)}},i().createElement("div",{className:g()("advanced-cropper-simple-line",p&&"advanced-cropper-simple-line--hover",c,p&&a,(r={},r["advanced-cropper-simple-line--".concat(o)]=!!o,r))}))},St=function(e){var t=e.horizontalPosition,r=e.verticalPosition,n=e.className,o=e.disabled,a=e.onDrag,s=e.onDragEnd,c=e.onLeave,l=e.onEnter,d=e.children,h=e.style,u=t||r?b(t,r).snakeCase:null;return i().createElement("div",{style:h,className:g()(n,"advanced-cropper-handler-wrapper",u&&"advanced-cropper-handler-wrapper--".concat(u),o&&"advanced-cropper-handler-wrapper--disabled")},i().createElement(xt,{className:"advanced-cropper-handler-wrapper__draggable",disabled:o,onMove:a,onMoveEnd:s,onLeave:c,onEnter:l,activationDistance:0},d))},Et=function(e){var t,r=e.verticalPosition,o=e.horizontalPosition,a=e.hoverClassName,s=e.wrapperClassName,c=e.defaultClassName,l=e.wrapperStyle,d=e.disabled,h=e.onDrag,u=e.onDragEnd,p=m((0,n.useState)(!1),2),f=p[0],v=p[1];return i().createElement(St,{style:l,className:g()("advanced-cropper-simple-handler-wrapper",s,r&&"advanced-cropper-simple-handler-wrapper--".concat(r),o&&"advanced-cropper-simple-handler-wrapper--".concat(o),o&&r&&"advanced-cropper-simple-handler-wrapper--".concat(o,"-").concat(r),f&&"advanced-cropper-simple-handler-wrapper--hover"),verticalPosition:r,horizontalPosition:o,disabled:d,onDrag:h,onDragEnd:u,onLeave:function(){v(!1)},onEnter:function(){v(!0)}},i().createElement("div",{className:g()("advanced-cropper-simple-handler",f&&"advanced-cropper-simple-handler--hover",c,f&&a,(t={},t["advanced-cropper-simple-handler--".concat(r)]=!!r,t["advanced-cropper-simple-handler--".concat(o)]=!!o,t["advanced-cropper-simple-handler--".concat(o,"-").concat(r)]=o&&r,t))}))},_t=["east","west",null],kt=["south","north",null],zt=function(e){var t=e.style,r=e.className,o=e.children,a=e.onResize,s=e.onResizeEnd,c=e.handlerComponent,l=void 0===c?Et:c,d=e.handlers,h=void 0===d?{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}:d,u=e.handlerClassNames,p=void 0===u?{}:u,f=e.handlerWrapperClassNames,v=void 0===f?{}:f,w=e.lines,y=void 0===w?{west:!0,north:!0,east:!0,south:!0}:w,x=e.lineComponent,C=void 0===x?At:x,A=e.lineClassNames,E=void 0===A?{}:A,_=e.lineWrapperClassNames,k=void 0===_?{}:_,z=e.disabled,M=void 0!==z&&z,R=e.reference,P=void 0===R?null:R,N=m((0,n.useState)(null),2),I=N[0],H=N[1],O=(0,n.useMemo)((function(){var e=[];return _t.forEach((function(t){kt.forEach((function(r){if(t!==r){var n=b(t,r),i=n.snakeCase,o=n.camelCase;i&&o&&e.push({name:o,className:i,verticalPosition:r,horizontalPosition:t})}}))})),e}),[]),W=(0,n.useMemo)((function(){var e=[];return O.forEach((function(t){var r;("west"===(r=t.name)||"south"===r||"north"===r||"east"===r)&&(S(y)?y[t.name]:y)&&e.push({name:t.name,component:C,className:g()(E.default,E[t.name],M&&E.disabled),wrapperClassName:g()("advanced-cropper-bounding-box__line","advanced-cropper-bounding-box__line--".concat(t.name),k.default,k[t.name],M&&k.disabled),hoverClassName:E.hover,verticalPosition:t.verticalPosition,horizontalPosition:t.horizontalPosition,disabled:M})})),e}),[O,y,C,E,k,M]),T=(0,n.useMemo)((function(){var e=[];return O.forEach((function(t){(S(h)?h[t.name]:h)&&e.push({name:t.name,component:l,className:g()(p.default,p[t.name]),containerClassName:g()("advanced-cropper-bounding-box__handler-wrapper","advanced-cropper-bounding-box__handler-wrapper--".concat(t.className)),wrapperClassName:g()("advanced-cropper-bounding-box__handler","advanced-cropper-bounding-box__handler--".concat(t.className),v.default,v[t.name]),hoverClassName:p.hover,verticalPosition:t.verticalPosition,horizontalPosition:t.horizontalPosition,disabled:M})})),e}),[O,h,l,p,v,M]),D=function(e,t){return function(r,n){var i,o={left:r.left,top:r.top};if(!t&&e?i="width":t&&!e&&(i="height"),!M){if(a){var s=b(e,t).camelCase;s&&a(s,o,{reference:I||P,preserveAspectRatio:n&&n.shiftKey,respectDirection:i,compensate:!0})}I||H(P)}}},L=function(){null==s||s(),H(null)};return i().createElement("div",{className:g()("advanced-cropper-bounding-box",r),style:t},o,i().createElement("div",null,W.map((function(e){return i().createElement(e.component,{key:e.name,defaultClassName:e.className,hoverClassName:e.hoverClassName,wrapperClassName:e.wrapperClassName,position:e.name,disabled:e.disabled,onDrag:D(e.horizontalPosition,e.verticalPosition),onDragEnd:L})}))),i().createElement("div",null,T.map((function(e){var t=i().createElement(e.component,{defaultClassName:e.className,hoverClassName:e.hoverClassName,wrapperClassName:e.wrapperClassName,horizontalPosition:e.horizontalPosition,verticalPosition:e.verticalPosition,disabled:e.disabled,onDrag:D(e.horizontalPosition,e.verticalPosition),onDragEnd:L});return i().createElement("div",{key:e.name,className:e.containerClassName},t)}))))},Mt=function(e){var t=e.className,r=e.children;return i().createElement("div",{className:g()("advanced-cropper-stencil-overlay",t)},r)},Rt=function(e){var t=e.className,r=e.transitions,o=e.children,a=h(e,["className","transitions","children"]),s=(0,n.useRef)(null),c=(0,n.useRef)(a),l=m((0,n.useState)(a),2),u=l[0],p=l[1],f=m(function(e){void 0===e&&(e=null);var t=(0,n.useRef)(new ot),r=m((0,n.useState)(!1),2),i=r[0],o=r[1];return[function(r){e&&e.active?t.current.start(d(d({},e),{onStart:function(){o(!0)},onProgress:function(e){r(e)},onStop:function(){o(!1)}})):t.current.active||r(1)},i]}(r),2),v=f[0],b=f[1];(0,n.useLayoutEffect)((function(){if(!W(u,a)){p(a);var e=b?d({},c.current):u;v((function(t){["left","top","height","width"].forEach((function(r){var n=a[r],i=e[r];c.current[r]=k(i)&&k(n)?i+(n-i)*t:n})),s.current&&(s.current.style.width="".concat(c.current.width,"px"),s.current.style.height="".concat(c.current.height,"px"),s.current.style.transform="translate3d(".concat(c.current.left,"px, ").concat(c.current.top,"px, 0px)"))}))}}),[u,b,a.width,a.height,a.top,a.left]);var w=b?c.current:a,y={left:0,top:0,width:"".concat(w.width,"px"),height:"".concat(w.height,"px"),transform:"translate3d(".concat(w.left,"px, ").concat(w.top,"px, 0px)")};return i().createElement("div",{ref:s,className:g()("advanced-cropper-artificial-transition",t),style:y},o)},Pt=function(e){var t=e.className,r=e.transitions,n=e.width,o=e.height,a=e.left,s=e.top,c=e.children;return i().createElement(Rt,{className:g()("advanced-cropper-stencil-wrapper",t),transitions:r,width:n,height:o,top:s,left:a},c)},Nt=function(e){var t=e.columns,r=void 0===t?3:t,o=e.rows,a=void 0===o?3:o,s=e.visible,c=void 0!==s&&s,l=e.className,d=[],h=m((0,n.useState)(r),2),u=h[0],p=h[1],f=m((0,n.useState)(a),2),v=f[0],b=f[1];pt((function(){c&&(b(a),p(r))}),[c,r,a]);for(var w=0;w<v;w++){for(var y=[],x=0;x<u;x++)y.push(i().createElement("div",{key:x,className:g()("advanced-cropper-stencil-grid__cell",0===w&&"advanced-cropper-stencil-grid__cell--top",w===v-1&&"advanced-cropper-stencil-grid__cell--bottom",0===x&&"advanced-cropper-stencil-grid__cell--left",x===u-1&&"advanced-cropper-stencil-grid__cell--right")}));d.push(i().createElement("div",{key:w,className:"advanced-cropper-stencil-grid__row"},y))}return i().createElement("div",{className:g()("advanced-cropper-stencil-grid",c&&"advanced-cropper-stencil-grid--visible",l)},d)},It=(0,n.forwardRef)((function(e,t){var r=e.cropper,o=e.aspectRatio,a=e.minAspectRatio,s=e.maxAspectRatio,c=e.handlerComponent,l=void 0===c?Et:c,d=e.handlers,h=void 0===d?{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}:d,u=e.handlerClassNames,p=void 0===u?{}:u,m=e.handlerWrapperClassNames,f=void 0===m?{}:m,v=e.lines,b=void 0===v?{west:!0,north:!0,east:!0,south:!0}:v,w=e.lineComponent,y=void 0===w?At:w,x=e.lineClassNames,A=void 0===x?{}:x,S=e.lineWrapperClassNames,E=void 0===S?{}:S,_=e.resizable,k=void 0===_||_,z=e.movable,M=void 0===z||z,R=e.grid,P=e.gridClassName,N=e.movingClassName,I=e.resizingClassName,H=e.previewClassName,O=e.boundingBoxClassName,W=e.overlayClassName,T=e.draggableAreaClassName,D=e.className,L=e.coordinates,j=r.getState(),$=r.getTransitions(),B=r.getInteractions();(0,n.useImperativeHandle)(t,(function(){return{aspectRatio:de(o||{minimum:a,maximum:s})}}));var F=L?C(L)?L(j):L:we(j),V=F.width,Y=F.height,U=F.left,X=F.top;return j&&i().createElement(Pt,{className:g()("advanced-cropper-rectangle-stencil",D,M&&"advanced-cropper-rectangle-stencil--movable",B.moveCoordinates&&"advanced-cropper-rectangle-stencil--moving",k&&"advanced-cropper-rectangle-stencil--resizable",B.resizeCoordinates&&"advanced-cropper-rectangle-stencil--resizing",B.moveCoordinates&&N,B.resizeCoordinates&&I),width:V,height:Y,left:U,top:X,transitions:$},i().createElement(zt,{reference:j.coordinates,className:g()(O,"advanced-cropper-rectangle-stencil__bounding-box"),handlers:h,handlerComponent:l,handlerClassNames:p,handlerWrapperClassNames:f,lines:b,lineComponent:y,lineClassNames:A,lineWrapperClassNames:E,onResize:function(e,t,n){r&&k&&r.resizeCoordinates(e,t,n)},onResizeEnd:function(){r&&r.resizeCoordinatesEnd()},disabled:!k},i().createElement(xt,{disabled:!M,onMove:function(e){r&&M&&r.moveCoordinates(e)},onMoveEnd:function(){r&&r.moveCoordinatesEnd()},className:g()("advanced-cropper-rectangle-stencil__draggable-area",T)},i().createElement(Mt,{className:g()("advanced-cropper-rectangle-stencil__overlay",W)},R&&i().createElement(Nt,{visible:r.hasInteractions(),columns:B.transformImage.rotate?9:3,rows:B.transformImage.rotate?9:3,className:g()("advanced-cropper-rectangle-stencil__grid",P)}),i().createElement("div",{className:g()("advanced-cropper-rectangle-stencil__preview",H)})))))}));It.displayName="RectangleStencil";var Ht=function(){function e(e){var t=e.active;this.active=t,this.defaultPrevented=!1}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}(),Ot=function(e){function t(t){var r=e.call(this,t)||this;return r.processMove=function(e){var t=r.props,n=t.onTransform,i=t.touchScale,o=t.touchMove,a=t.touchRotate,s=r.container.current;s&&n&&(n(function(e,t,r,n){var i,o,a;if(void 0===n&&(n={}),1===t.length&&1===e.length)n.move&&(i={left:t[0].clientX-e[0].clientX,top:t[0].clientY-e[0].clientY});else if(e.length>1){var s=Xe(t,r),c=Xe(e,r);if(n.rotate&&2===t.length&&2===e.length){var l={left:[e[0].clientX-e[1].clientX,t[0].clientX-t[1].clientX],top:[e[0].clientY-e[1].clientY,t[0].clientY-t[1].clientY]},d=l.left[0]*l.top[1]-l.left[1]*l.top[0],h=l.left[0]*l.left[1]+l.top[0]*l.top[1];if(!P(h,0)&&!P(d,0)){var u=-180*Math.atan2(d,h)/Math.PI;a={center:c.centerMass,angle:u}}}n.move&&(i={left:s.centerMass.left-c.centerMass.left,top:s.centerMass.top-c.centerMass.top}),n.scale&&(o={factor:c.spread/s.spread,center:c.centerMass})}return{move:i,scale:o,rotate:a}}(e,r.touches,s,{scale:i,rotate:a,move:o})),r.touches=e)},r.processEnd=function(){var e=r.props.onTransformEnd;r.transforming&&(r.transforming=!1,e&&e())},r.processStart=function(){r.transforming=!0,r.debouncedProcessEnd.clear()},r.processEvent=function(e){var t=r.props,n=t.onEvent,i=t.disabled,o=new Ht({active:r.transforming});return n?n(o,e):(e.preventDefault(),e.stopPropagation()),!i&&!o.defaultPrevented},r.onWheel=function(e){var t=r.props,n=t.onTransform,i=t.wheelScale,o=r.container.current;i&&r.processEvent(e)&&(r.processStart(),n&&o&&n(function(e,t,r){void 0===r&&(r=.1);var n,i,o=t.getBoundingClientRect(),a=o.left,s=o.top;return{scale:{factor:1-r*(n=e.deltaY||e.detail||e.wheelDelta,0==(i=+n)||z(i)?i:i>0?1:-1),center:{left:e.clientX-a,top:e.clientY-s}}}}(e,o,!0===i?.1:i.ratio)),r.touches.length||r.debouncedProcessEnd())},r.onTouchStart=function(e){var t=r.props,n=t.touchMove,i=t.touchScale,o=t.touchRotate;if(e.cancelable&&(n||(i||o)&&e.touches.length>1)&&r.processEvent(e)){var a=r.container.current;if(a){var s=a.getBoundingClientRect(),c=s.left,l=s.top,d=s.bottom,h=s.right;r.touches=Array.from(e.touches).filter((function(e){return e.clientX>c&&e.clientX<h&&e.clientY>l&&e.clientY<d}))}}},r.onTouchEnd=function(e){0===e.touches.length&&(r.touches=[],r.processEnd())},r.onTouchMove=function(e){if(r.touches.length){var t=f([],m(e.touches),!1).filter((function(e){return!e.identifier||r.touches.find((function(t){return t.identifier===e.identifier}))}));r.processEvent(e)&&(r.processMove(t),r.processStart())}},r.onMouseDown=function(e){if(r.props.mouseMove&&"buttons"in e&&1===e.buttons&&r.processEvent(e)){var t={clientX:e.clientX,clientY:e.clientY};r.touches=[t],r.processStart()}},r.onMouseMove=function(e){r.touches.length&&r.processEvent(e)&&r.processMove([{clientX:e.clientX,clientY:e.clientY}])},r.onMouseUp=function(){r.touches=[],r.processEnd()},r.transforming=!1,r.touches=[],r.anchor={left:0,top:0},r.container=(0,n.createRef)(),r.debouncedProcessEnd=T(r.processEnd,t.timeout),r}return l(t,e),t.prototype.shouldComponentUpdate=function(){return!0},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd);var e=this.container.current;e&&(e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("wheel",this.onWheel))},t.prototype.componentDidMount=function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1});var e=this.container.current;e&&(e.addEventListener("touchstart",this.onTouchStart,{passive:!1}),e.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}))},t.prototype.render=function(){var e=this.props,t=e.className,r=e.children,n=e.style;return i().createElement("div",{className:t,style:n,ref:this.container},r)},t.defaultProps={touchMove:!0,mouseMove:!0,touchScale:!0,touchRotate:!1,wheelScale:!0,timeout:500},t}(n.Component),Wt=function(e){var t=e.scaleImage,r=void 0===t||t,o=e.moveImage,a=void 0===o||o,s=e.rotateImage,c=void 0!==s&&s,l=e.children,d=e.className,h=e.style,u=e.cropper,p=e.timeout,m=u.getTransitions(),f=function(e){return(0,n.useMemo)((function(){return E(e,{touch:!0},{touch:!1})}),[e])}(c),v=function(e){return(0,n.useMemo)((function(){return E(e,{touch:!0,wheel:{ratio:.1}},{touch:!1,wheel:!1})}),[e])}(r),g=function(e){return(0,n.useMemo)((function(){return E(e,{touch:!0,mouse:!0},{touch:!1,mouse:!1})}),[e])}(a);return i().createElement(Ot,{className:d,style:h,onTransform:u.transformImage,onTransformEnd:u.transformImageEnd,touchMove:g.touch,mouseMove:g.mouse,touchScale:v.touch,wheelScale:v.wheel,touchRotate:f.touch,disabled:m.active,timeout:p},l)},Tt=ht((function(e,t){var r=e.style,o=e.className,a=e.stencilComponent,s=void 0===a?It:a,c=e.stencilConstraints,l=void 0===c?Ke:c,u=e.stencilProps,p=void 0===u?{}:u,m=e.wrapperComponent,f=void 0===m?gt:m,v=e.wrapperProps,b=void 0===v?{}:v,w=e.backgroundComponent,y=void 0===w?wt:w,x=e.backgroundProps,C=void 0===x?{}:x,A=e.backgroundClassName,S=e.backgroundWrapperComponent,E=void 0===S?Wt:S,_=e.backgroundWrapperProps,k=void 0===_?{}:_,z=e.imageClassName,M=e.boundaryClassName,R=e.boundarySizeAlgorithm,P=e.boundaryStretchAlgorithm,N=e.canvas,I=void 0===N||N,H=e.crossOrigin,O=void 0===H||H,W=e.settings,T=h(e,["style","className","stencilComponent","stencilConstraints","stencilProps","wrapperComponent","wrapperProps","backgroundComponent","backgroundProps","backgroundClassName","backgroundWrapperComponent","backgroundWrapperProps","imageClassName","boundaryClassName","boundarySizeAlgorithm","boundaryStretchAlgorithm","canvas","crossOrigin","settings"]),D=(0,n.useRef)(null),L=mt((function(){return d(d({},T),{crossOrigin:O,stencilProps:p,canvas:I,settings:d(d({},W),l(W,d(d({},p),D.current)))})})),j=L.cropper,$=L.image,B=L.loaded,F=L.loading,V=L.refs,Y=s,U=f,X=E,G=y;return(0,n.useImperativeHandle)(t,(function(){return j})),i().createElement(U,d({},b,{className:g()("advanced-cropper",o),loaded:B,cropper:j,loading:F,style:r}),i().createElement(ft,{ref:V.boundary,stretchAlgorithm:P,sizeAlgorithm:R,className:g()("advanced-cropper__boundary",M),stretcherClassName:g()("advanced-cropper__stretcher")},i().createElement(X,d({},k,{cropper:j,className:"advanced-cropper__background-wrapper"}),i().createElement("div",{className:g()("advanced-cropper__background",A)},j.getState()&&i().createElement(G,d({},C,{ref:V.image,crossOrigin:O,cropper:j,className:g()("advanced-cropper__image",z)}))),i().createElement(Y,d({},p,{ref:D,cropper:j,image:$}))),I&&i().createElement(yt,{ref:V.canvas})))}));function Dt(e,t){var r=Ke({},t);return{stencilSize:function(t,n){var i,o,a=C(e.stencilSize)?e.stencilSize(t,n):e.stencilSize;return ze(d(d({},a),{aspectRatio:(i=r.aspectRatio,o=de(K(a)),o?i?{minimum:Math.min(i.maximum,Math.max(i.minimum,o.minimum)),maximum:Math.max(i.minimum,Math.min(i.maximum,o.maximum))}:o:i)}))}}}function Lt(e,t){var r=e.boundary,n=C(t.stencilSize)?t.stencilSize(e,t):t.stencilSize;return(n.width>r.width||n.height>r.height)&&(n=ze({sizeRestrictions:{maxWidth:r.width,maxHeight:r.height,minWidth:0,minHeight:0},width:n.width,height:n.height,aspectRatio:{minimum:K(n),maximum:K(n)}})),n}function jt(e,t){var r=Lt(e,d(d({},t),{stencilSize:t.stencilSize})),n=me(e,t);return{maxWidth:n.maxWidth*r.width/e.boundary.width,maxHeight:n.maxHeight*r.height/e.boundary.height,minWidth:0,minHeight:0}}function $t(e,t){var r,n,i=e.imageSize,o=e.visibleArea,a=e.boundary,s=ve(e,t),c=ye(e,t),l=C(t.stencilSize)?t.stencilSize(e,t):t.stencilSize,d=o||i;return K(d)>K(a)?n=(r=l.height*d.height/a.height)*K(l):r=(n=l.width*d.width/a.width)/K(l),ze({width:n,height:r,aspectRatio:c,sizeRestrictions:s})}function Bt(e,t){var r=K(Lt(e,t));return{minimum:r,maximum:r}}function Ft(e,t,r){return r&&r.immediately?function(e,t){if(pe(e)){var r=ke(e),n=Lt(e,t);r.visibleArea=Q(r.visibleArea,r.coordinates.width*r.boundary.width/(r.visibleArea.width*n.width));var i=te(r.visibleArea,me(r,t));return 1!==i&&(r.visibleArea=Q(r.visibleArea,i),r.coordinates=Q(r.coordinates,i)),r.visibleArea=q(r.visibleArea,V(Y(r.coordinates),Y(r.visibleArea))),r.visibleArea=le(r.visibleArea,fe(r,t)),r.coordinates=le(r.coordinates,se(Z(r.visibleArea),fe(r,t))),r}return e}(e,t):e}var Vt=ht((function(e,t){var r=dt(e),n=r.settings,o=h(r,["settings"]);return i().createElement(Tt,d({postProcess:Ft,stencilConstraints:Dt},o,{settings:d(d({defaultSize:$t,aspectRatio:Bt,sizeRestrictions:Je(jt)},n),{transformImage:d(d({},n.transformImage),{adjustStencil:!1})}),ref:t}))})),Yt=(ht((function(e,t){var r,o=dt(e),a=o.settings,s=o.postProcess,c=h(o,["settings","postProcess"]),l=a,u=l.stencilSize,p=l.autoZoom,m=h(l,["stencilSize","autoZoom"]),f=(r=(0,n.useRef)([]),function(e){-1===r.current.indexOf(e)&&r.current.push(e)});return A(p)||(s||u?f("prop 'autoZoom' is deprecated now and will be removed, use 'postProcess' prop to pass your auto zoom function."):(f("prop 'autoZoom' is deprecated now and will be removed, use 'postProcess' prop to pass your auto zoom function. The 'postProcess' automatically set to 'hybridAutoZoom'"),s=ut)),A(u)?i().createElement(Tt,d({},c,{postProcess:s,ref:t,settings:m})):(f("prop 'stencilSize' is deprecated for <Cropper/> component now and will be removed, use <FixedCropper/> component instead."),i().createElement(Vt,d({ref:t,stencilSize:u},m,c)))})),(0,n.forwardRef)((function(e,t){var r=e.cropper,o=e.handlerComponent,a=void 0===o?Et:o,s=e.handlers,c=void 0===s?{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}:s,l=e.handlerClassNames,d=void 0===l?{}:l,h=e.handlerWrapperClassNames,u=void 0===h?{}:h,p=e.lines,m=void 0===p?{west:!0,north:!0,east:!0,south:!0}:p,f=e.lineComponent,v=void 0===f?At:f,b=e.lineClassNames,w=void 0===b?{}:b,y=e.lineWrapperClassNames,x=void 0===y?{}:y,C=e.resizable,A=void 0===C||C,S=e.movable,E=void 0===S||S,_=e.grid,k=e.gridClassName,z=e.movingClassName,M=e.resizingClassName,R=e.previewClassName,P=e.boundingBoxClassName,N=e.overlayClassName,I=e.draggableAreaClassName,H=r.getState(),O=r.getTransitions(),W=r.getInteractions();(0,n.useImperativeHandle)(t,(function(){return{aspectRatio:1,boundingBox:"circle"}}));var T=we(H),D=T.width,L=T.height,j=T.left,$=T.top;return H&&i().createElement(Pt,{className:g()("advanced-cropper-circle-stencil",E&&"advanced-cropper-circle-stencil--movable",W.moveCoordinates&&"advanced-cropper-circle-stencil--moving",A&&"advanced-cropper-circle-stencil--resizable",W.resizeCoordinates&&"advanced-cropper-circle-stencil--resizing",W.moveCoordinates&&z,W.resizeCoordinates&&M),width:D,height:L,left:j,top:$,transitions:O},i().createElement(zt,{reference:H.coordinates,className:g()(P,"advanced-cropper-circle-stencil__bounding-box"),handlers:c,handlerComponent:a,handlerClassNames:d,handlerWrapperClassNames:u,lines:m,lineComponent:v,lineClassNames:w,lineWrapperClassNames:x,onResize:function(e,t,n){r&&A&&r.resizeCoordinates(e,t,n)},onResizeEnd:function(){r&&r.resizeCoordinatesEnd()},disabled:!A},i().createElement(xt,{disabled:!E,onMove:function(e){r&&E&&r.moveCoordinates(e)},onMoveEnd:function(){r&&r.moveCoordinatesEnd()},className:g()("advanced-cropper-circle-stencil__draggable-area",I)},i().createElement(Mt,{className:g()("advanced-cropper-circle-stencil__overlay",N)},_&&i().createElement(Nt,{visible:r.hasInteractions(),columns:W.transformImage.rotate?9:3,rows:W.transformImage.rotate?9:3,className:g()("advanced-cropper-circle-stencil__grid",k)}),i().createElement("div",{className:g()("advanced-cropper-circle-stencil__preview",R)})))))})));Yt.displayName="CircleStencil",(0,n.forwardRef)((function(e,t){var r=e.src,n=e.crossOrigin,o=void 0===n||n;return r?i().createElement("img",{key:r,ref:t,src:r,className:g()("advanced-cropper-source"),crossOrigin:!0===o?"anonymous":o||void 0}):null})).displayName="CropperSource";var Ut=window.wp.blockEditor,Xt=window.wp.i18n,Gt=r(864),qt=r(774),Zt=r.n(qt),Qt=function(e){function t(e,n,c,l,u){for(var p,m,f,v,y,C=0,A=0,S=0,E=0,_=0,N=0,H=f=p=0,W=0,T=0,D=0,L=0,j=c.length,$=j-1,B="",F="",V="",Y="";W<j;){if(m=c.charCodeAt(W),W===$&&0!==A+E+S+C&&(0!==A&&(m=47===A?10:47),E=S=C=0,j++,$++),0===A+E+S+C){if(W===$&&(0<T&&(B=B.replace(h,"")),0<B.trim().length)){switch(m){case 32:case 9:case 59:case 13:case 10:break;default:B+=c.charAt(W)}m=59}switch(m){case 123:for(p=(B=B.trim()).charCodeAt(0),f=1,L=++W;W<j;){switch(m=c.charCodeAt(W)){case 123:f++;break;case 125:f--;break;case 47:switch(m=c.charCodeAt(W+1)){case 42:case 47:e:{for(H=W+1;H<$;++H)switch(c.charCodeAt(H)){case 47:if(42===m&&42===c.charCodeAt(H-1)&&W+2!==H){W=H+1;break e}break;case 10:if(47===m){W=H+1;break e}}W=H}}break;case 91:m++;case 40:m++;case 34:case 39:for(;W++<$&&c.charCodeAt(W)!==m;);}if(0===f)break;W++}if(f=c.substring(L,W),0===p&&(p=(B=B.replace(d,"").trim()).charCodeAt(0)),64===p){switch(0<T&&(B=B.replace(h,"")),m=B.charCodeAt(1)){case 100:case 109:case 115:case 45:T=n;break;default:T=P}if(L=(f=t(n,T,f,m,u+1)).length,0<I&&(y=s(3,f,T=r(P,B,D),n,z,k,L,m,u,l),B=T.join(""),void 0!==y&&0===(L=(f=y.trim()).length)&&(m=0,f="")),0<L)switch(m){case 115:B=B.replace(x,a);case 100:case 109:case 45:f=B+"{"+f+"}";break;case 107:f=(B=B.replace(g,"$1 $2"))+"{"+f+"}",f=1===R||2===R&&o("@"+f,3)?"@-webkit-"+f+"@"+f:"@"+f;break;default:f=B+f,112===l&&(F+=f,f="")}else f=""}else f=t(n,r(n,B,D),f,l,u+1);V+=f,f=D=T=H=p=0,B="",m=c.charCodeAt(++W);break;case 125:case 59:if(1<(L=(B=(0<T?B.replace(h,""):B).trim()).length))switch(0===H&&(p=B.charCodeAt(0),45===p||96<p&&123>p)&&(L=(B=B.replace(" ",":")).length),0<I&&void 0!==(y=s(1,B,n,e,z,k,F.length,l,u,l))&&0===(L=(B=y.trim()).length)&&(B="\0\0"),p=B.charCodeAt(0),m=B.charCodeAt(1),p){case 0:break;case 64:if(105===m||99===m){Y+=B+c.charAt(W);break}default:58!==B.charCodeAt(L-1)&&(F+=i(B,p,m,B.charCodeAt(2)))}D=T=H=p=0,B="",m=c.charCodeAt(++W)}}switch(m){case 13:case 10:47===A?A=0:0===1+p&&107!==l&&0<B.length&&(T=1,B+="\0"),0<I*O&&s(0,B,n,e,z,k,F.length,l,u,l),k=1,z++;break;case 59:case 125:if(0===A+E+S+C){k++;break}default:switch(k++,v=c.charAt(W),m){case 9:case 32:if(0===E+C+A)switch(_){case 44:case 58:case 9:case 32:v="";break;default:32!==m&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===E+A+C&&(T=D=1,v="\f"+v);break;case 108:if(0===E+A+C+M&&0<H)switch(W-H){case 2:112===_&&58===c.charCodeAt(W-3)&&(M=_);case 8:111===N&&(M=N)}break;case 58:0===E+A+C&&(H=W);break;case 44:0===A+S+E+C&&(T=1,v+="\r");break;case 34:case 39:0===A&&(E=E===m?0:0===E?m:E);break;case 91:0===E+A+S&&C++;break;case 93:0===E+A+S&&C--;break;case 41:0===E+A+C&&S--;break;case 40:0===E+A+C&&(0===p&&(2*_+3*N==533||(p=1)),S++);break;case 64:0===A+S+E+C+H+f&&(f=1);break;case 42:case 47:if(!(0<E+C+S))switch(A){case 0:switch(2*m+3*c.charCodeAt(W+1)){case 235:A=47;break;case 220:L=W,A=42}break;case 42:47===m&&42===_&&L+2!==W&&(33===c.charCodeAt(L+2)&&(F+=c.substring(L,W+1)),v="",A=0)}}0===A&&(B+=v)}N=_,_=m,W++}if(0<(L=F.length)){if(T=n,0<I&&void 0!==(y=s(2,F,T,e,z,k,L,l,u,l))&&0===(F=y).length)return Y+F+V;if(F=T.join(",")+"{"+F+"}",0!=R*M){switch(2!==R||o(F,2)||(M=0),M){case 111:F=F.replace(w,":-moz-$1")+F;break;case 112:F=F.replace(b,"::-webkit-input-$1")+F.replace(b,"::-moz-$1")+F.replace(b,":-ms-input-$1")+F}M=0}}return Y+F+V}function r(e,t,r){var i=t.trim().split(f);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var c=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[c++]=n(e[l]+" ",i[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===R||2===R&&o(c,1)?"-webkit-"+c+c:c}if(0===R||2===R&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(_,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return p.test(a)?a.replace(u,":-webkit-")+a.replace(u,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(y,"tb");break;case 232:c=a.replace(y,"tb-rl");break;case 220:c=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(A,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(A,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),H(2!==t?n:n.replace(S,"$1"),r,t)}function a(e,t){var r=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(C," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,i,o,a,s,c,d){for(var h,u=0,p=t;u<I;++u)switch(h=N[u].call(l,e,p,r,n,i,o,a,s,c,d)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==t)return p}function c(e){return void 0!==(e=e.prefix)&&(H=null,e?"function"!=typeof e?R=1:(R=2,H=e):R=0),c}function l(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<I){var i=s(-1,r,n,n,z,k,0,0,0,0);void 0!==i&&"string"==typeof i&&(r=i)}var o=t(P,n,r,0,0);return 0<I&&void 0!==(i=s(-2,o,n,n,z,k,o.length,0,0,0))&&(o=i),M=0,k=z=1,o}var d=/^\0+/g,h=/[\0\r\f]/g,u=/: */g,p=/zoo|gra/,m=/([,: ])(transform)/g,f=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,w=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,A=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,k=1,z=1,M=0,R=1,P=[],N=[],I=0,H=null,O=0;return l.use=function e(t){switch(t){case void 0:case null:I=N.length=0;break;default:if("function"==typeof t)N[I++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else O=0|!!t}return e},l.set=c,void 0!==e&&c(e),l},Kt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Jt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,er=function(e){var t=Object.create(null);return function(e){return void 0===t[e]&&(t[e]=(r=e,Jt.test(r)||111===r.charCodeAt(0)&&110===r.charCodeAt(1)&&r.charCodeAt(2)<91)),t[e];var r}}(),tr=r(679),rr=r.n(tr);function nr(){return(nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ir=function(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r},or=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Gt.typeOf)(e)},ar=Object.freeze([]),sr=Object.freeze({});function cr(e){return"function"==typeof e}function lr(e){return e.displayName||e.name||"Component"}function dr(e){return e&&"string"==typeof e.styledComponentId}var hr="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",ur="undefined"!=typeof window&&"HTMLElement"in window,pr=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY);function mr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var fr=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)(i<<=1)<0&&mr(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=n;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,o=n;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),vr=new Map,gr=new Map,br=1,wr=function(e){if(vr.has(e))return vr.get(e);for(;gr.has(br);)br++;var t=br++;return vr.set(e,t),gr.set(t,e),t},yr=function(e){return gr.get(e)},xr=function(e,t){t>=br&&(br=t+1),vr.set(e,t),gr.set(t,e)},Cr="style["+hr+'][data-styled-version="5.3.6"]',Ar=new RegExp("^"+hr+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Sr=function(e,t,r){for(var n,i=r.split(","),o=0,a=i.length;o<a;o++)(n=i[o])&&e.registerName(t,n)},Er=function(e,t){for(var r=(t.textContent||"").split("/*!sc*/\n"),n=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var s=a.match(Ar);if(s){var c=0|parseInt(s[1],10),l=s[2];0!==c&&(xr(l,c),Sr(e,l,s[3]),e.getTag().insertRules(c,n)),n.length=0}else n.push(a)}}},_r=function(){return r.nc},kr=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(hr))return n}}(r),o=void 0!==i?i.nextSibling:null;n.setAttribute(hr,"active"),n.setAttribute("data-styled-version","5.3.6");var a=_r();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},zr=function(){function e(e){var t=this.element=kr(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}mr(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Mr=function(){function e(e){var t=this.element=kr(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Rr=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Pr=ur,Nr={isServer:!ur,useCSSOMInjection:!pr},Ir=function(){function e(e,t,r){void 0===e&&(e=sr),void 0===t&&(t={}),this.options=nr({},Nr,{},e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&ur&&Pr&&(Pr=!1,function(e){for(var t=document.querySelectorAll(Cr),r=0,n=t.length;r<n;r++){var i=t[r];i&&"active"!==i.getAttribute(hr)&&(Er(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return wr(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(nr({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,i=t.target,e=r?new Rr(i):n?new zr(i):new Mr(i),new fr(e)));var e,t,r,n,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(wr(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(wr(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(wr(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=0;i<r;i++){var o=yr(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var c=hr+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),n+=""+s+c+'{content:"'+l+'"}/*!sc*/\n'}}}return n}(this)},e}(),Hr=/(a)(d)/gi,Or=function(e){return String.fromCharCode(e+(e>25?39:97))};function Wr(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=Or(t%52)+r;return(Or(t%52)+r).replace(Hr,"$1-$2")}var Tr=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Dr=function(e){return Tr(5381,e)};function Lr(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(cr(r)&&!dr(r))return!1}return!0}var jr=Dr("5.3.6"),$r=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&Lr(e),this.componentId=t,this.baseHash=Tr(jr,t),this.baseStyle=r,Ir.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))i.push(this.staticRulesId);else{var o=on(this.rules,e,t,r).join(""),a=Wr(Tr(this.baseHash,o)>>>0);if(!t.hasNameForId(n,a)){var s=r(o,"."+a,void 0,n);t.insertRules(n,a,s)}i.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,l=Tr(this.baseHash,r.hash),d="",h=0;h<c;h++){var u=this.rules[h];if("string"==typeof u)d+=u;else if(u){var p=on(u,e,t,r),m=Array.isArray(p)?p.join(""):p;l=Tr(l,m+h),d+=m}}if(d){var f=Wr(l>>>0);if(!t.hasNameForId(n,f)){var v=r(d,"."+f,void 0,n);t.insertRules(n,f,v)}i.push(f)}}return i.join(" ")},e}(),Br=/^\s*\/\/.*$/gm,Fr=[":","[",".","#"];function Vr(e){var t,r,n,i,o=void 0===e?sr:e,a=o.options,s=void 0===a?sr:a,c=o.plugins,l=void 0===c?ar:c,d=new Qt(s),h=[],u=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,i,o,a,s,c,l,d,h){switch(r){case 1:if(0===d&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===l)return n+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+n),"";default:return n+(0===h?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,n,o){return 0===n&&-1!==Fr.indexOf(o[r.length])||o.match(i)?e:"."+t};function m(e,o,a,s){void 0===s&&(s="&");var c=e.replace(Br,""),l=o&&a?a+" "+o+" { "+c+" }":c;return t=s,r=o,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),d(a||!o?"":o,l)}return d.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(r)>0&&(i[0]=i[0].replace(n,p))},u,function(e){if(-2===e){var t=h;return h=[],t}}])),m.hash=l.length?l.reduce((function(e,t){return t.name||mr(15),Tr(e,t.name)}),5381).toString():"",m}var Yr=i().createContext(),Ur=(Yr.Consumer,i().createContext()),Xr=(Ur.Consumer,new Ir),Gr=Vr();function qr(){return(0,n.useContext)(Yr)||Xr}function Zr(e){var t=(0,n.useState)(e.stylisPlugins),r=t[0],o=t[1],a=qr(),s=(0,n.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=(0,n.useMemo)((function(){return Vr({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,n.useEffect)((function(){Zt()(r,e.stylisPlugins)||o(e.stylisPlugins)}),[e.stylisPlugins]),i().createElement(Yr.Provider,{value:s},i().createElement(Ur.Provider,{value:c},e.children))}var Qr=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=Gr);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return mr(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Gr),this.name+e.hash},e}(),Kr=/([A-Z])/,Jr=/([A-Z])/g,en=/^ms-/,tn=function(e){return"-"+e.toLowerCase()};function rn(e){return Kr.test(e)?e.replace(Jr,tn).replace(en,"-ms-"):e}var nn=function(e){return null==e||!1===e||""===e};function on(e,t,r,n){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=on(e[a],t,r,n))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return nn(e)?"":dr(e)?"."+e.styledComponentId:cr(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:on(e(t),t,r,n):e instanceof Qr?r?(e.inject(r,n),e.getName(n)):e:or(e)?function e(t,r){var n,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!nn(t[a])&&(Array.isArray(t[a])&&t[a].isCss||cr(t[a])?o.push(rn(a)+":",t[a],";"):or(t[a])?o.push.apply(o,e(t[a],a)):o.push(rn(a)+": "+(n=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||n in Kt?String(i).trim():i+"px")+";")));return r?[r+" {"].concat(o,["}"]):o}(e):e.toString();var c}var an=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function sn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return cr(e)||or(e)?an(on(ir(ar,[e].concat(r)))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:an(on(ir(e,r)))}new Set;var cn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ln=/(^-|-$)/g;function dn(e){return e.replace(cn,"-").replace(ln,"")}function hn(e){return"string"==typeof e&&!0}var un=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},pn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function mn(e,t,r){var n=e[r];un(t)&&un(n)?fn(n,t):e[r]=t}function fn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=o[i];if(un(a))for(var s in a)pn(s)&&mn(e,a[s],s)}return e}var vn=i().createContext();vn.Consumer;var gn={};function bn(e,t,r){var o=dr(e),a=!hn(e),s=t.attrs,c=void 0===s?ar:s,l=t.componentId,d=void 0===l?function(e,t){var r="string"!=typeof e?"sc":dn(e);gn[r]=(gn[r]||0)+1;var n=r+"-"+function(e){return Wr(Dr(e)>>>0)}("5.3.6"+r+gn[r]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):l,h=t.displayName,u=void 0===h?function(e){return hn(e)?"styled."+e:"Styled("+lr(e)+")"}(e):h,p=t.displayName&&t.componentId?dn(t.displayName)+"-"+t.componentId:t.componentId||d,m=o&&e.attrs?Array.prototype.concat(e.attrs,c).filter(Boolean):c,f=t.shouldForwardProp;o&&e.shouldForwardProp&&(f=t.shouldForwardProp?function(r,n,i){return e.shouldForwardProp(r,n,i)&&t.shouldForwardProp(r,n,i)}:e.shouldForwardProp);var v,g=new $r(r,p,o?e.componentStyle:void 0),b=g.isStatic&&0===c.length,w=function(e,t){return function(e,t,r,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,c=e.foldedComponentIds,l=e.shouldForwardProp,d=e.styledComponentId,h=e.target,u=function(e,t,r){void 0===e&&(e=sr);var n=nr({},t,{theme:e}),i={};return r.forEach((function(e){var t,r,o,a=e;for(t in cr(a)&&(a=a(n)),a)n[t]=i[t]="className"===t?(r=i[t],o=a[t],r&&o?r+" "+o:r||o):a[t]})),[n,i]}(function(e,t,r){return void 0===r&&(r=sr),e.theme!==r.theme&&e.theme||t||r.theme}(t,(0,n.useContext)(vn),s)||sr,t,o),p=u[0],m=u[1],f=function(e,t,r,i){var o=qr(),a=(0,n.useContext)(Ur)||Gr;return t?e.generateAndInjectStyles(sr,o,a):e.generateAndInjectStyles(r,o,a)}(a,i,p),v=r,g=m.$as||t.$as||m.as||t.as||h,b=hn(g),w=m!==t?nr({},t,{},m):t,y={};for(var x in w)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?y.as=w[x]:(l?l(x,er,g):!b||er(x))&&(y[x]=w[x]));return t.style&&m.style!==t.style&&(y.style=nr({},t.style,{},m.style)),y.className=Array.prototype.concat(c,d,f!==d?f:null,t.className,m.className).filter(Boolean).join(" "),y.ref=v,(0,n.createElement)(g,y)}(v,e,t,b)};return w.displayName=u,(v=i().forwardRef(w)).attrs=m,v.componentStyle=g,v.displayName=u,v.shouldForwardProp=f,v.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):ar,v.styledComponentId=p,v.target=o?e.target:e,v.withComponent=function(e){var n=t.componentId,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["componentId"]),o=n&&n+"-"+(hn(e)?e:dn(lr(e)));return bn(e,nr({},i,{attrs:m,componentId:o}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=o?fn({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&rr()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var wn,yn=function(e){return function e(t,r,n){if(void 0===n&&(n=sr),!(0,Gt.isValidElementType)(r))return mr(1,String(r));var i=function(){return t(r,n,sn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,r,nr({},n,{},i))},i.attrs=function(i){return e(t,r,nr({},n,{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},i}(bn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){yn[e]=yn(e)})),wn=function(e,t){this.rules=e,this.componentId=t,this.isStatic=Lr(e),Ir.registerId(this.componentId+1)}.prototype,wn.createStyles=function(e,t,r,n){var i=n(on(this.rules,t,r,n).join(""),""),o=this.componentId+e;r.insertRules(o,o,i)},wn.removeStyles=function(e,t){t.clearRules(this.componentId+e)},wn.renderStyles=function(e,t,r,n){e>2&&Ir.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)},function(){var e=function(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=_r();return"<style "+[r&&'nonce="'+r+'"',hr+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?mr(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return mr(2);var r=((t={})[hr]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=_r();return n&&(r.nonce=n),[i().createElement("style",nr({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Ir({isServer:!0}),this.sealed=!1}.prototype;e.collectStyles=function(e){return this.sealed?mr(2):i().createElement(Zr,{sheet:this.instance},e)},e.interleaveWithNodeStream=function(e){return mr(3)}}();var xn=yn;const Cn=["select","crop","feedback"],An=xn(o.Button)`
	display: flex;
	gap: .5em;
	
	svg {
		width: 1.25em;
		height: 1.25em;
	}
`,Sn=xn.div`
	display: flex;
	flex-direction: column;
	height: calc(100% - 2rem);
	align-items: start;
	gap: .618rem;
	overflow: visible;
`,En=xn.label`
	font-size: 1.142rem;
	flex-grow: 1;
	justify-content: center;
	flex-basis: 50%;
`,kn=xn.div`
	display: flex;
	flex-wrap: wrap;
	gap: .618rem;
	width: 100%;
	
	.components-button {
		gap: .618rem;
		flex-direction: column;
		height: auto;
		flex-basis: 32%;
		
		* {
			pointer-events: none;
		}
		
		h3 {
			margin-top:auto;
		}
		
		&.preset-default-circle {
			.preset-preview {
				border-radius: 50%;
			}
		}
		
		&.is-selected {
			background: var(--wp-admin-theme-color);
			color: white;
			h3 {
				color: white;
			}
			.preset-preview {
			    background: white;
			}
			.shape-preview {
				color: white;
			}
		}
	}
`,zn=xn.h3`
	font-size: 1.382rem;
	margin: 0;
	
	&:not(:first-child) {
		margin-top: 1em;
	}
`,Mn=xn.h3`
	font-size: 1.382rem;
	margin: 0;
`,Rn=xn.span`
	margin-top: -0.5em;
`,Pn=(xn.span`
	opacity: .82;
	text-transform: uppercase;
	font-size: .82rem;
`,xn.div`
			background: var(--wp-admin-theme-color);;
			width: ${e=>e.aspectRatio>1?5*e.aspectRatio:5}rem;
			height: ${e=>e.aspectRatio<1?5/(5*e.aspectRatio)*5:5}rem;
			// aspect-ratio: ${e=>e.aspectRatio};
			// flex-shrink: 0;
			// margin: auto;
`),Nn=xn.div`
	overflow: hidden !important;
	width: 100%;

.advanced-cropper-line-wrapper--north, .advanced-cropper-line-wrapper--south {
  height: 12px;
  width: 100%; }

.advanced-cropper-line-wrapper--north {
  cursor: n-resize; }

.advanced-cropper-line-wrapper--south {
  cursor: s-resize; }

.advanced-cropper-line-wrapper--east, .advanced-cropper-line-wrapper--west {
  width: 12px;
  height: 100%; }

.advanced-cropper-line-wrapper--east {
  cursor: e-resize; }

.advanced-cropper-line-wrapper--west {
  cursor: w-resize; }

.advanced-cropper-line-wrapper--disabled {
  cursor: auto; }

.advanced-cropper-line-wrapper__content {
  position: absolute; }
  .advanced-cropper-line-wrapper__content--east, .advanced-cropper-line-wrapper__content--west {
    height: 100%; }
  .advanced-cropper-line-wrapper__content--north, .advanced-cropper-line-wrapper__content--south {
    width: 100%; }
  .advanced-cropper-line-wrapper__content--east {
    left: 50%;
    transform: translateX(-100%); }
  .advanced-cropper-line-wrapper__content--west {
    right: 50%;
    transform: translateX(100%); }
  .advanced-cropper-line-wrapper__content--north {
    top: 50%; }
  .advanced-cropper-line-wrapper__content--south {
    bottom: 50%; }

.advanced-cropper-handler-wrapper {
  position: absolute;
  transform: translate(-50%, -50%);
  width: 30px;
  height: 30px; }
  .advanced-cropper-handler-wrapper__draggable {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center; }
  .advanced-cropper-handler-wrapper--west-north {
    cursor: nw-resize; }
  .advanced-cropper-handler-wrapper--north {
    cursor: n-resize; }
  .advanced-cropper-handler-wrapper--east-north {
    cursor: ne-resize; }
  .advanced-cropper-handler-wrapper--east {
    cursor: e-resize; }
  .advanced-cropper-handler-wrapper--east-south {
    cursor: se-resize; }
  .advanced-cropper-handler-wrapper--south {
    cursor: s-resize; }
  .advanced-cropper-handler-wrapper--west-south {
    cursor: sw-resize; }
  .advanced-cropper-handler-wrapper--west {
    cursor: w-resize; }
  .advanced-cropper-handler-wrapper--disabled {
    cursor: auto; }

.advanced-cropper-bounding-box {
  position: relative;
  height: 100%;
  width: 100%; }
  .advanced-cropper-bounding-box__handler-wrapper {
    position: absolute; }
    .advanced-cropper-bounding-box__handler-wrapper--east, .advanced-cropper-bounding-box__handler-wrapper--west {
      top: 50%;
      transform: translateY(-50%);
      height: 100%; }
    .advanced-cropper-bounding-box__handler-wrapper--south, .advanced-cropper-bounding-box__handler-wrapper--north {
      left: 50%;
      transform: translateX(-50%);
      width: 100%; }
    .advanced-cropper-bounding-box__handler-wrapper--west, .advanced-cropper-bounding-box__handler-wrapper--west-north, .advanced-cropper-bounding-box__handler-wrapper--west-south {
      left: 0; }
    .advanced-cropper-bounding-box__handler-wrapper--east, .advanced-cropper-bounding-box__handler-wrapper--east-north, .advanced-cropper-bounding-box__handler-wrapper--east-south {
      left: 100%; }
    .advanced-cropper-bounding-box__handler-wrapper--north, .advanced-cropper-bounding-box__handler-wrapper--west-north, .advanced-cropper-bounding-box__handler-wrapper--east-north {
      top: 0; }
    .advanced-cropper-bounding-box__handler-wrapper--south, .advanced-cropper-bounding-box__handler-wrapper--west-south, .advanced-cropper-bounding-box__handler-wrapper--east-south {
      top: 100%; }
  .advanced-cropper-bounding-box__handler {
    position: absolute; }
    .advanced-cropper-bounding-box__handler--west-north {
      left: 0;
      top: 0; }
    .advanced-cropper-bounding-box__handler--north {
      left: 50%;
      top: 0; }
    .advanced-cropper-bounding-box__handler--east-north {
      left: 100%;
      top: 0; }
    .advanced-cropper-bounding-box__handler--east {
      left: 100%;
      top: 50%; }
    .advanced-cropper-bounding-box__handler--east-south {
      left: 100%;
      top: 100%; }
    .advanced-cropper-bounding-box__handler--south {
      left: 50%;
      top: 100%; }
    .advanced-cropper-bounding-box__handler--west-south {
      left: 0;
      top: 100%; }
    .advanced-cropper-bounding-box__handler--west {
      left: 0;
      top: 50%; }
  .advanced-cropper-bounding-box__line {
    position: absolute; }
    .advanced-cropper-bounding-box__line--north, .advanced-cropper-bounding-box__line--south {
      left: 0;
      transform: translateY(-50%); }
    .advanced-cropper-bounding-box__line--north {
      top: 0; }
    .advanced-cropper-bounding-box__line--south {
      top: 100%; }
    .advanced-cropper-bounding-box__line--west, .advanced-cropper-bounding-box__line--east {
      top: 0;
      transform: translateX(-50%); }
    .advanced-cropper-bounding-box__line--west {
      left: 0; }
    .advanced-cropper-bounding-box__line--east {
      left: 100%; }

.advanced-cropper-artificial-transition {
  will-change: transform; }

.advanced-cropper-background-image {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  position: absolute;
  transform-origin: center;
  pointer-events: none;
  max-width: none !important; }

.advanced-cropper-canvas {
  display: none; }

.advanced-cropper-source {
  width: 1px;
  height: 1px;
  visibility: hidden;
  position: absolute;
  opacity: 0; }

.advanced-cropper-fade {
  visibility: hidden;
  opacity: 0;
  transition: 0.5s;
  display: flex;
  flex-direction: column; }
  .advanced-cropper-fade--visible {
    opacity: 1;
    visibility: visible; }

.advanced-cropper-wrapper__fade {
  flex-grow: 1;
  min-height: 0; }

.advanced-cropper-stencil-grid {
  display: table;
  border-collapse: collapse;
  table-layout: fixed;
  opacity: 0;
  transition: opacity 0.3s; }
  .advanced-cropper-stencil-grid--visible {
    opacity: 1; }
  .advanced-cropper-stencil-grid__row {
    display: table-row; }
  .advanced-cropper-stencil-grid__cell {
    display: table-cell;
    width: 1%;
    height: 1%;
    border: currentColor solid 1px; }
    .advanced-cropper-stencil-grid__cell--top {
      border-top-color: transparent; }
    .advanced-cropper-stencil-grid__cell--left {
      border-left-color: transparent; }
    .advanced-cropper-stencil-grid__cell--right {
      border-right-color: transparent; }
    .advanced-cropper-stencil-grid__cell--bottom {
      border-bottom-color: transparent; }

.advanced-cropper-stencil-overlay {
  box-sizing: content-box;
  box-shadow: 0 0 0 1000px currentColor;
  pointer-events: none;
  width: 100%;
  height: 100%;
  position: absolute;
  -webkit-backface-visibility: hidden; }

.advanced-cropper-stencil-wrapper {
  will-change: transform; }

.advanced-cropper-boundary {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  direction: ltr;
  position: relative; }
  .advanced-cropper-boundary__content {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0; }
  .advanced-cropper-boundary__stretcher {
    pointer-events: none;
    position: relative;
    max-width: 100%;
    max-height: 100%; }

.advanced-cropper-circle-stencil {
  position: absolute;
  height: 100%;
  width: 100%;
  box-sizing: content-box;
  -webkit-backface-visibility: hidden;
  -webkit-transform-style: preserve-3d; }
  .advanced-cropper-circle-stencil__overlay {
    border-radius: 50%;
    overflow: hidden; }
  .advanced-cropper-circle-stencil__preview {
    border-radius: 50%; }
  .advanced-cropper-circle-stencil__draggable-area, .advanced-cropper-circle-stencil__overlay, .advanced-cropper-circle-stencil__preview, .advanced-cropper-circle-stencil__grid {
    position: absolute;
    height: 100%;
    width: 100%; }
  .advanced-cropper-circle-stencil--movable {
    cursor: move; }

.advanced-cropper-rectangle-stencil {
  position: absolute;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  -webkit-backface-visibility: hidden;
  -webkit-transform-style: preserve-3d; }
  .advanced-cropper-rectangle-stencil__draggable-area, .advanced-cropper-rectangle-stencil__overlay, .advanced-cropper-rectangle-stencil__preview, .advanced-cropper-rectangle-stencil__grid {
    position: absolute;
    height: 100%;
    width: 100%; }
  .advanced-cropper-rectangle-stencil--movable {
    cursor: move; }

.advanced-cropper-simple-line {
  background: none;
  border-width: 0; }
  .advanced-cropper-simple-line--south, .advanced-cropper-simple-line--north {
    height: 0;
    width: 100%; }
  .advanced-cropper-simple-line--east, .advanced-cropper-simple-line--west {
    height: 100%;
    width: 0; }
  .advanced-cropper-simple-line--east {
    border-right-width: 1px; }
  .advanced-cropper-simple-line--west {
    border-left-width: 1px; }
  .advanced-cropper-simple-line--south {
    border-bottom-width: 1px; }
  .advanced-cropper-simple-line--north {
    border-top-width: 1px; }

.advanced-cropper-simple-handler {
  display: block; }

.advanced-cropper-preview {
  overflow: hidden;
  box-sizing: border-box;
  position: relative; }
  .advanced-cropper-preview__content {
    overflow: hidden;
    position: relative; }
  .advanced-cropper-preview__image {
    display: none;
    pointer-events: none;
    position: absolute;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    transform-origin: center;
    max-width: none !important; }
    .advanced-cropper-preview__image--visible {
      display: block; }

.advanced-cropper {
  overflow: hidden;
  max-height: 100%;
  background: black;
  position: relative;
  display: flex;
  flex-direction: column;
  color: white; }
  .advanced-cropper__background {
    width: 100%;
    height: 100%;
    position: absolute;
    background: inherit; }
  .advanced-cropper__boundary {
    flex-grow: 1;
    min-height: 0;
    min-width: 0; }
  .advanced-cropper__wrapper, .advanced-cropper__background-wrapper {
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    position: absolute; }
  .advanced-cropper__stencil-wrapper {
    position: absolute; }
  .advanced-cropper * {
    box-sizing: border-box; }

.advanced-cropper-simple-handler {
  background: currentColor;
  height: 10px;
  width: 10px; }

.advanced-cropper-simple-line {
  transition: border 0.5s;
  border-color: rgba(255, 255, 255, 0.3);
  border-style: solid; }
  .advanced-cropper-simple-line--hover {
    border-color: white; }

.advanced-cropper-circle-stencil__preview {
  border: solid 2px rgba(255, 255, 255, 0.2); }

.advanced-cropper-stencil-overlay {
  color: rgba(0, 0, 0, 0.5); }

.advanced-cropper-stencil-grid {
  color: rgba(255, 255, 255, 0.4); }

`;var In=JSON.parse('{"u2":"gelform/crop-express"}');(0,e.registerBlockType)(In.u2,{example:{attributes:{message:"Crop Express"}},edit:function(e){let{attributes:r,setAttributes:i}=e;const[a,c]=(0,n.useState)(!1),[l,d]=(0,n.useState)(null),[h,u]=(0,n.useState)([]),[p,m]=(0,n.useState)("select"),[f,v]=(0,n.useState)("select"),[g,b]=(0,n.useState)(),[w,y]=(0,n.useState)(),[x,C]=(0,n.useState)(""),[A,S]=(0,n.useState)(""),{alt:E,url:_,imageId:k,aspectRatio:z}=r;(0,n.useEffect)((function(){u(window.crop_express.block.presets),d(window.crop_express.block.presets.find((e=>"default-square"===e.id)))}),[]);const M=(0,n.useRef)(null),R=(0,n.useRef)(null),P=(0,n.useRef)(null),N=(0,n.useRef)(null);function I(e){Cn.find((t=>t===e))||(e="select"),m(f),v(e)}function H(e){d(h.find((t=>t.id===e.target.dataset.presetId)))}function O(e){const t=parseFloat(e.target.dataset.value);M.current&&M.current.zoomImage(t)}function W(e){const t=parseFloat(e.target.dataset.value);M.current&&M.current.rotateImage(t)}function T(e){const t=e.getContext("2d"),{width:r,height:n}=e;return t&&(t.fillStyle="#fff",t.globalCompositeOperation="destination-in",t.beginPath(),t.scale(1,n/r),t.arc(r/2,r/2,r/2,0,2*Math.PI),t.closePath(),t.fill()),e}const L=(0,Ut.useBlockProps)(),j=!!_&&(0,t.createElement)("img",{alt:(0,Xt.__)("Edit image"),title:(0,Xt.__)("Edit image"),className:"edit-image-preview",src:_});return(0,t.createElement)("div",L,(0,t.createElement)(Ut.InspectorControls,null,(0,t.createElement)(o.PanelBody,{title:(0,Xt.__)("Image settings")},(0,t.createElement)(o.TextareaControl,{label:(0,Xt.__)("Alt text (alternative text)"),value:E,onChange:function(e){i({alt:e})},help:(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.ExternalLink,{href:"https://www.w3.org/WAI/tutorials/images/decision-tree"},(0,Xt.__)("Describe the purpose of the image")),(0,Xt.__)("Leave empty if the image is purely decorative."))}))),j,(0,t.createElement)(o.Button,{variant:"secondary",onClick:()=>{v("select"),c(!a)}},"Open Crop Express"),a&&(0,t.createElement)(o.Modal,{title:""===f||"crop"===f?(0,Xt.__)("Crop your image:","crop-express"):"feedback"===f?(0,Xt.__)("Request a feature:","crop-express"):(0,Xt.__)("Choose your image:","crop-express"),onRequestClose:()=>c(!1),isFullScreen:!0},(0,t.createElement)(Sn,null,"select"===f&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{style:{display:"flex",gap:".618rem",width:"100%"}},(0,t.createElement)("div",{onClick:()=>P.current.click(),style:{minWidth:"200px",aspectRatio:"16/9",display:"flex",justifyContent:"center",alignItems:"center",background:"#ddd",cursor:"pointer",position:"relative"}},w?(0,t.createElement)("img",{src:w.src,style:{top:0,left:0,width:"100%",height:"100%",position:"absolute",pointerEvents:"none",objectFit:"contain"}}):(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",style:{pointerEvents:"none"},fillRule:"evenodd",clipRule:"evenodd"},(0,t.createElement)("path",{d:"M24 22H0V2h24v20zM23 3H1v18h22V3zm-1 16H3l4-7.492 3 3.048L15.013 7 22 19zm-11.848-2.865-2.91-2.956L4.668 18h15.593l-5.303-9.108-4.806 7.243zM5.5 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5zm0 1a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 5.5 6z"}))),(0,t.createElement)("div",{style:{display:"flex",gap:".618rem",flexDirection:"column"}},(0,t.createElement)(En,{ref:P,className:"components-button is-secondary"},(0,t.createElement)("input",{type:"file",accept:"image/*",onChange:function(e){const{files:t}=e.target;if(t&&t[0]){b(t[0]);const e=URL.createObjectURL(t[0]);y({src:e,name:t[0].name,type:t[0].type})}e.target.value=""},hidden:!0}),w?(0,t.createElement)(t.Fragment,null,'File "',w.name,'" selected'):(0,t.createElement)(t.Fragment,null,"Upload an image")),(0,t.createElement)(o.Button,{variant:"secondary",onClick:()=>R.current.click(),style:{flexGrow:1,fontSize:"1.142rem",justifyContent:"center",flexBasis:"50%"}},"Choose an image from the media library"))),(0,t.createElement)(zn,null,"Choose your shape:"),(0,t.createElement)(kn,null,h.map((e=>(0,t.createElement)(o.Button,{key:`preset-${e.id}`,variant:"secondary",onClick:H,"data-preset-id":e.id,className:`preset-${e.id} ${l&&e.id===l.id?"is-selected":""}`},(0,t.createElement)(Pn,{className:"preset-preview",aspectRatio:e.aspect_ratio}),(0,t.createElement)(Mn,null,e.label),e.width&&e.height&&(0,t.createElement)(Rn,null,(0,t.createElement)("b",null,e.width),"px x ",(0,t.createElement)("b",null,e.height),"px"))))),(0,t.createElement)("div",{style:{display:"flex",gap:".5em",width:"100%",marginTop:"auto"}},(0,t.createElement)(o.Button,{variant:"primary",disabled:!w||!l,style:{flexGrow:1,justifyContent:"center",opacity:w&&l?1:.5},onClick:()=>I("crop")},"Crop it"),(0,t.createElement)(o.Button,{variant:"secondary",disabled:!w||!l,style:{opacity:w&&l?1:.5,flexShrink:1},onClick:function(){const e=new FormData;e.append("file",g,w.name),s()({path:"/wp/v2/media",method:"POST",body:e}).then((e=>{i({imageId:e.id}),i({url:e.source_url})})),c(!1)}},"Upload without cropping"),(0,t.createElement)(An,{variant:"secondary",style:{flexShrink:1},onClick:()=>I("feedback")},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"M22 3v13H10.357L6 19.105V16H2V3h20zm2-2H0v16.981h4V23l7-5.019h13V1zm-5 6H5V6h14v1zm0 2H5v1h14V9zm-6 3H5v1h8v-1z"})),"Request a feature"))),"crop"===f&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{style:{display:"flex",gap:".618rem",justifyContent:"space-between",width:"100%"}},(0,t.createElement)(An,{variant:"secondary",onClick:()=>I("select")},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"m16.67 0 2.83 2.829-9.339 9.175 9.339 9.167L16.67 24 4.5 12.004z"})),"Go back"),(0,t.createElement)("div",{style:{display:"flex",gap:".618rem"}},(0,t.createElement)(An,{variant:"secondary",onClick:O,"data-value":"1.25"},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"M13 10h-3v3H8v-3H5V8h3V5h2v3h3v2zm8.172 14-7.387-7.387A8.945 8.945 0 0 1 9 18c-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9a8.951 8.951 0 0 1-1.387 4.785L24 21.172 21.172 24zM9 16c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"})),"Zoom in"),(0,t.createElement)(An,{variant:"secondary",onClick:O,"data-value":".75"},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"M13 10H5V8h8v2zm8.172 14-7.387-7.387A8.945 8.945 0 0 1 9 18c-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9a8.951 8.951 0 0 1-1.387 4.785L24 21.172 21.172 24zM9 16c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"})),"Zoom out"),(0,t.createElement)(An,{variant:"secondary",onClick:W,"data-value":"-45"},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"M12 0C8.69 0 5.709 1.353 3.541 3.522l-2.48-2.48L0 8.383l7.437-.966-2.489-2.488A9.943 9.943 0 0 1 12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10c-3.872 0-7.229-2.216-8.89-5.443l-1.717 1.046C3.405 21.406 7.398 24 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0z"})),"Rotate left"),(0,t.createElement)(An,{variant:"secondary",onClick:W,"data-value":"45"},"Rotate right",(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"M12 0c3.31 0 6.291 1.353 8.459 3.522l2.48-2.48L24 8.383l-7.437-.966 2.489-2.489A9.946 9.946 0 0 0 12 2C6.486 2 2 6.486 2 12s4.486 10 10 10c3.872 0 7.229-2.216 8.89-5.443l1.717 1.046C20.595 21.406 16.602 24 12 24 5.373 24 0 18.627 0 12S5.373 0 12 0z"})))),(0,t.createElement)("div",null,(0,t.createElement)(o.Button,{variant:"secondary",className:"components-button",onClick:function(){if(!M.current)return alert("Sorry, something went wrong cropping the image. (Error 1)"),!1;let e=M.current.getCanvas(window.crop_express.block.save_image_settings);if(!e)return alert("Sorry, something went wrong cropping the image. (Error 2)"),!1;"default-circle"===l.id&&(e=T(e));const t=window.open();t&&e&&(t.document.body.innerHTML=`<img src="${e.toDataURL()}"></img>`)}},"Preview in a new window"))),(0,t.createElement)(Nn,null,(0,t.createElement)(Vt,{src:w&&w.src,stencilSize:{width:.4*window.innerWidth,height:.4*window.innerHeight},stencilComponent:"default-circle"===l.id?Yt:It,stencilProps:{aspectRatio:l.aspect_ratio},imageRestriction:D.stencil,ref:M})),(0,t.createElement)("div",{style:{display:"flex",gap:".5em",width:"100%",marginTop:"auto"}},(0,t.createElement)(o.Button,{variant:"primary",disabled:!w||!l,style:{flexGrow:1,width:"100%",justifyContent:"center",opacity:w&&l?1:.5},onClick:function(){if(!M.current)return alert("Sorry, something went wrong cropping the image. (Error 1)"),!1;let e=M.current.getCanvas(window.crop_express.block.save_image_settings);if(!e)return alert("Sorry, something went wrong cropping the image. (Error 2)"),!1;"default-circle"===l.id&&(e=T(e));const t=w.name.replace(/\.[^/.]+$/,""),r=w.name.split(".").pop(),n="default-circle"===l.id?"image/png":w.type;e.toBlob((e=>{if(e){const n=new FormData;n.append("file",e,`${t}-${Date.now()}.${"default-circle"===l.id?"png":r}`),s()({path:"/wp/v2/media",method:"POST",body:n}).then((e=>{i({imageId:e.id}),i({url:e.source_url})}))}}),n),c(!1)}},"Set your image"),(0,t.createElement)(An,{variant:"secondary",style:{flexShrink:1},onClick:()=>I("feedback")},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"M22 3v13H10.357L6 19.105V16H2V3h20zm2-2H0v16.981h4V23l7-5.019h13V1zm-5 6H5V6h14v1zm0 2H5v1h14V9zm-6 3H5v1h8v-1z"})),"Request a feature"))),"feedback"===f&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(An,{variant:"secondary",onClick:()=>I(p)},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"m16.67 0 2.83 2.829-9.339 9.175 9.339 9.167L16.67 24 4.5 12.004z"})),"Go back"),(0,t.createElement)("form",{ref:N,style:{width:"100%",maxWidth:"600px",margin:"auto",border:"1px solid #ddd",padding:"0 1rem 1rem"},onSubmit:function(e){if(e.preventDefault(),""===x)return!1;if(""===A)return!1;const t={action:"crop_express_feedback",crop_express:window.crop_express.nonce_feedback,subject:"block image",email:x,message:A};fetch(window.crop_express.admin_ajax,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:new URLSearchParams(t).toString()}).then((e=>e.json())).then((e=>{alert((0,Xt.__)("Thank you for your email! We'll get back to you as soon as we can.","crop-express")),N.current.reset(),I(p)}))}},(0,t.createElement)("p",{style:{fontSize:"1.236rem"}},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",style:{float:"left",margin:"1rem 1rem 1rem 0",width:"3rem",height:"3rem"}},(0,t.createElement)("path",{d:"M22 3v13H10.357L6 19.105V16H2V3h20zm2-2H0v16.981h4V23l7-5.019h13V1zm-5 6H5V6h14v1zm0 2H5v1h14V9zm-6 3H5v1h8v-1z"})),(0,t.createElement)("b",null,"crop.express")," is a new plugin, so we're looking for all the feedback we can get. Are we missing a feature? Have an idea how we can make it better? ",(0,t.createElement)("b",{style:{background:"#ffd70033"}},"Let us know!")),(0,t.createElement)("p",{style:{width:"100%"}},(0,t.createElement)("label",null,"Your email address:",(0,t.createElement)("br",null),(0,t.createElement)("input",{type:"email",onChange:function(e){C(e.target.value.trim())},required:!0,style:{width:"100%"}}))),(0,t.createElement)("p",{style:{width:"100%"}},(0,t.createElement)("label",null,"Request a feature? Question? Comment?",(0,t.createElement)("br",null),(0,t.createElement)("textarea",{rows:"4",onChange:function(e){S(e.target.value.trim())},required:!0,style:{width:"100%"}}))),(0,t.createElement)("div",{style:{display:"flex",gap:".5em",width:"100%",marginTop:"auto"}},(0,t.createElement)(o.Button,{variant:"primary",type:"submit",style:{flexGrow:1,width:"100%",justifyContent:"center"}},"Send your feedback")))))))},save:function(e){let{attributes:r}=e;const{url:n,alt:i}=r;return console.log(n),n?(0,t.createElement)("img",Ut.useBlockProps.save({src:n,alt:i})):null}})}()}();
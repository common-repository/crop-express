!function(){var e={184:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},679:function(e,t,r){"use strict";var n=r(296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var l=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(m){var i=p(r);i&&i!==m&&e(t,i,n)}var a=d(r);h&&(a=a.concat(h(r)));for(var s=c(t),f=c(r),v=0;v<a.length;++v){var g=a[v];if(!(o[g]||n&&n[g]||f&&f[g]||s&&s[g])){var w=u(r,g);try{l(t,g,w)}catch(e){}}}}return t}},103:function(e,t){"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,u=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,w=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case h:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case v:case f:case c:return e;default:return t}}case i:return t}}}function C(e){return x(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=n,t.ForwardRef=u,t.Fragment=o,t.Lazy=v,t.Memo=f,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return C(e)||x(e)===d},t.isConcurrentMode=C,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===u},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===f},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===f||e.$$typeof===c||e.$$typeof===l||e.$$typeof===u||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y||e.$$typeof===g)},t.typeOf=x},296:function(e,t,r){"use strict";e.exports=r(103)},921:function(e,t){"use strict";var r=60103,n=60106,i=60107,o=60108,a=60114,s=60109,c=60110,l=60112,d=60113,h=60120,u=60115,p=60116,m=60121,f=60122,v=60117,g=60129,w=60131;if("function"==typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),n=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),c=b("react.context"),l=b("react.forward_ref"),d=b("react.suspense"),h=b("react.suspense_list"),u=b("react.memo"),p=b("react.lazy"),m=b("react.block"),f=b("react.server.block"),v=b("react.fundamental"),g=b("react.debug_trace_mode"),w=b("react.legacy_hidden")}t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===a||e===g||e===o||e===d||e===h||e===w||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===l||e.$$typeof===v||e.$$typeof===m||e[0]===f)},t.typeOf=function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case a:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case u:case s:return e;default:return t}}case n:return t}}}},864:function(e,t,r){"use strict";e.exports=r(921)},774:function(e){e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!s(l))return!1;var d=e[l],h=t[l];if(!1===(i=r?r.call(n,d,h,l):void 0)||void 0===i&&d!==h)return!1}return!0}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nc=void 0,function(){"use strict";var e=window.wp.element,t=window.React,n=r.n(t),i=window.wp.apiFetch,o=r.n(i),a=window.wp.blockEditor,s=window.wp.components,c=window.wp.compose,l=window.wp.coreData,d=window.wp.data,h=window.wp.editor,u=window.wp.hooks,p=window.wp.i18n,m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},m(e,t)};function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var v=function(){return v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};function g(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function w(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function b(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function x(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create;var C=r(184),S=r.n(C);function A(e,t){var r,n;return e&&t?(r=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(r=e||t,n=e||t),{camelCase:r,snakeCase:n}}function E(e){return/^blob:/.test(e)}function _(e){return E(e)||function(e){return/^data:/.test(e)}(e)}function k(e){if(_(e))return!1;var t=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[],n={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},i=function(e){return e.port||("http"===(e.protocol||t.protocol)?80:433)};return!(!n.protocol&&!n.host&&!n.port||Boolean(n.protocol&&n.protocol==t.protocol&&n.host&&n.host==t.host&&n.host&&i(n)==i(t)))}function z(e){return"function"==typeof e}function M(e){return void 0===e}var R=function(e){return null!==e&&"object"==typeof e};function P(e,t,r){void 0===r&&(r={});var n={};return R(e)?(Object.keys(t).forEach((function(i){M(e[i])?n[i]=t[i]:R(t[i])?R(e[i])?n[i]=P(e[i],t[i],r[i]):n[i]=e[i]?t[i]:r[i]:!0===t[i]||!1===t[i]?n[i]=Boolean(e[i]):n[i]=e[i]})),n):e?t:r}function N(e){var t=Number(e);return Number.isNaN(t)?e:t}function I(e){return!0===e||!1===e}function H(e){return"number"==typeof e}function O(e){return e!=e}function W(e){return H(e)&&!O(e)||function(e){return"string"==typeof e}(e)&&!Number.isNaN(parseFloat(e))&&isFinite(parseFloat(e))}function T(e,t){return Math.sqrt(Math.pow(e.left-t.left,2)+Math.pow(e.top-t.top,2))}function L(e,t,r){return void 0===r&&(r=.001),Math.abs(t-e)<r}function D(e,t,r){return!L(e,t,r)&&e>t}function j(e,t,r){return!L(e,t,r)&&e<t}function $(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function B(e){if(!R(e))return e;var t={};return Array.isArray(e)?t=e.map((function(e){return B(e)})):Object.keys(e).forEach((function(r){return t[r]=B(e[r])})),t}function F(e,t,r){if(void 0===r&&(r=.001),H(e)&&H(t)&&L(e,t,r))return!0;if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,i=void 0;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(!F(e[i],t[i],r))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if((n=o.length)!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=n;0!=i--;){var a=o[i];if(!F(e[a],t[a],r))return!1}return!0}return e!=e&&t!=t}function U(e,t){var r,n;function i(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=Date.now()-r,c=z(t)?t():t||0;s<c&&s>=0?n=setTimeout((function(){return i.apply(void 0,o)}),c-s):e.apply(void 0,o)}function o(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];r=Date.now(),n=setTimeout((function(){return i.apply(void 0,e)}),z(t)?t():t||0)}return o.clear=function(){clearTimeout(n)},o}var V,Y,X,G=["left","right","top","bottom"],q=["left","right"],Z=["top","bottom"];function Q(e,t){return{left:e.left-t.left,top:e.top-t.top}}function K(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function J(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function ee(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function te(e){return{left:-e.left,top:-e.top}}function re(e,t){return v(v({},e),{left:e.left+t.left,top:e.top+t.top})}function ne(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function ie(e,t,r,n){if(1!==t){if("left"in e||"top"in e){if(r){var i=K(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(r.left-i.left)*(n||1-t),top:e.top+e.height*(1-t)/2+(r.top-i.top)*(n||1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return{width:e.width*t,height:e.height*t}}return e}function oe(e){return e.width/e.height}function ae(e,t){return Math.min(t.maxWidth?t.maxWidth/e.width:1/0,t.maxHeight?t.maxHeight/e.height:1/0)}function se(e,t){var r;return t.minimum&&j(e,t.minimum)?r=t.minimum:t.maximum&&D(e,t.maximum)&&(r=t.maximum),r}function ce(e,t){var r=oe(e),n=1;return t.minWidth>0&&t.minHeight>0?r>t.minWidth/t.minHeight?e.height<t.minHeight&&(n=t.minHeight/e.height):e.width<t.minWidth&&(n=t.minWidth/e.width):t.minWidth>0?e.width<t.minWidth&&(n=t.minWidth/e.width):t.minHeight>0&&e.height<t.minHeight&&(n=t.minHeight/e.height),t.maxWidth<1/0&&t.maxHeight<1/0?r>t.maxWidth/t.maxHeight?e.width>t.maxWidth&&(n=t.maxWidth/e.width):e.height>t.maxHeight&&(n=t.maxHeight/e.height):t.maxWidth<1/0?e.width>t.maxWidth&&(n=t.maxWidth/e.width):t.maxHeight<1/0&&e.height>t.maxHeight&&(n=t.maxHeight/e.height),n}function le(e,t){var r={left:0,top:0,right:0,bottom:0};return G.forEach((function(n){var i=t[n],o=ne(e)[n];r[n]=void 0!==i&&void 0!==o?"left"===n||"top"===n?Math.max(0,i-o):Math.max(0,o-i):0})),r}function de(e,t){return ie(e,ce(e,t))}function he(e,t){var r=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(r))+Math.abs(e.height*Math.sin(r)),height:Math.abs(e.width*Math.sin(r))+Math.abs(e.height*Math.cos(r))}}function ue(e,t,r){var n=t*Math.PI/180;return r?{left:(e.left-r.left)*Math.cos(n)-(e.top-r.top)*Math.sin(n)+r.left,top:(e.left-r.left)*Math.sin(n)+(e.top-r.top)*Math.cos(n)+r.top}:{left:e.left*Math.cos(n)-e.top*Math.sin(n),top:e.left*Math.sin(n)+e.top*Math.cos(n)}}function pe(e){return{minWidth:0,minHeight:0,maxWidth:void 0!==e.right&&void 0!==e.left?e.right-e.left:1/0,maxHeight:void 0!==e.bottom&&void 0!==e.top?e.bottom-e.top:1/0}}function me(e,t){var r={};return G.forEach((function(n){var i=e[n],o=t[n];void 0!==i&&void 0!==o?r[n]="left"===n||"top"===n?Math.max(i,o):Math.min(i,o):void 0!==o?r[n]=o:void 0!==i&&(r[n]=i)})),r}function fe(e,t){var r={left:0,top:0},n=le(e,t);return n.left&&n.left>0?r.left=n.left:n.right&&n.right>0&&(r.left=-n.right),n.top&&n.top>0?r.top=n.top:n.bottom&&n.bottom>0&&(r.top=-n.bottom),r}function ve(e,t){return re(e,fe(e,t))}function ge(e){return void 0===e&&(e={}),H(e)?{minimum:e,maximum:e}:{minimum:W(e.minimum)?e.minimum:0,maximum:W(e.maximum)?e.maximum:1/0}}function we(e,t){return(M(t.maxWidth)||!D(e.width,t.maxWidth))&&(M(t.maxHeight)||!D(e.height,t.maxHeight))&&(M(t.minHeight)||!j(e.height,t.minHeight))&&(M(t.minWidth)||!j(e.width,t.minWidth))}function be(e,t){return(M(t.left)||!j(e.left,t.left))&&(M(t.top)||!j(e.top,t.top))&&(M(t.right)||!D(e.left+e.width,t.right))&&(M(t.bottom)||!D(e.top+e.height,t.bottom))}function ye(e){return Boolean(e&&e.visibleArea&&e.coordinates)}function xe(e,t){return function(e,t){var r=z(t.areaSizeRestrictions)?t.areaSizeRestrictions(e,t):t.areaSizeRestrictions;return r.maxWidth<1/0&&r.maxHeight<1/0&&(oe(e.boundary)>r.maxWidth/r.maxHeight?r.maxHeight=r.maxWidth/oe(e.boundary):r.maxWidth=r.maxHeight*oe(e.boundary)),Ne(r)}(e,t)}function Ce(e,t){return z(t.areaPositionRestrictions)?t.areaPositionRestrictions(e,t):t.areaPositionRestrictions}function Se(e,t){return function(e,t){var r=z(t.sizeRestrictions)?t.sizeRestrictions(e,t):t.sizeRestrictions,n=Ae(e,t),i={minWidth:W(r.minWidth)?N(r.minWidth):0,minHeight:W(r.minHeight)?N(r.minHeight):0,maxWidth:W(r.maxWidth)?N(r.maxWidth):1/0,maxHeight:W(r.maxHeight)?N(r.maxHeight):1/0};return void 0!==n.left&&void 0!==n.right&&(i.maxWidth=Math.min(i.maxWidth,n.right-n.left)),void 0!==n.bottom&&void 0!==n.top&&(i.maxHeight=Math.min(i.maxHeight,n.bottom-n.top)),Ne(i)}(e,t)}function Ae(e,t){return z(t.positionRestrictions)?t.positionRestrictions(e,t):t.positionRestrictions}function Ee(e){return e.visibleArea?e.visibleArea.width/e.boundary.width:0}function _e(e){if(ye(e)){var t=e.coordinates,r=t.width,n=t.height,i=t.left,o=t.top,a=Ee(e);return{width:r/a,height:n/a,left:(i-e.visibleArea.left)/a,top:(o-e.visibleArea.top)/a}}return{left:0,top:0,width:0,height:0}}function ke(e,t){return ge(z(t.aspectRatio)?t.aspectRatio(e,t):t.aspectRatio)}function ze(e,t){return z(t.defaultCoordinates)?t.defaultCoordinates(e,t):t.defaultCoordinates}function Me(e,t){return z(t.defaultVisibleArea)?t.defaultVisibleArea(e,t):t.defaultVisibleArea}function Re(e){return e.imageSize&&e.imageSize.width&&e.imageSize.height?he(e.imageSize,e.transforms.rotate):{width:0,height:0}}function Pe(e,t){return!ye(e)||!se(oe(e.coordinates),ke(e,t))&&we(e.visibleArea,xe(e,t))&&we(e.coordinates,Se(e,t))&&be(e.visibleArea,Ce(e,t))&&be(e.coordinates,Ae(e,t))}function Ne(e){var t=v({},e);return t.minWidth>t.maxWidth&&(t.minWidth=t.maxWidth),t.minHeight>t.maxHeight&&(t.minHeight=t.maxHeight),t}function Ie(e,t){var r=e,n=v({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0},t);return Ne({maxHeight:Math.min(r.maxHeight,n.maxHeight),minHeight:Math.max(r.minHeight,n.minHeight),maxWidth:Math.min(r.maxWidth,n.maxWidth),minWidth:Math.max(r.minWidth,n.minWidth)})}function He(e){return B(e)}function Oe(e){var t=e.width,r=e.height,n=e.sizeRestrictions||{minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0},i=ge(e.aspectRatio),o={width:Math.max(n.minWidth,Math.min(n.maxWidth,t)),height:Math.max(n.minHeight,Math.min(n.maxHeight,r))},a=[o];return i&&[i.minimum,i.maximum].forEach((function(e){e&&a.push({width:o.width,height:o.width/e},{width:o.height*e,height:o.height})})),function(e,t,r,n){var i=function(i){return e.reduce((function(e,o){var a=z(r)?r(o):r,s=a.maxHeight,c=a.maxWidth,l=a.minWidth,d=a.minHeight,h=ge(z(n)?n(o):n);return we(o,i?{maxWidth:c,maxHeight:s}:{maxWidth:c,maxHeight:s,minWidth:l,minHeight:d})&&!se(oe(o),h)&&o.width&&o.height&&(!e||j(J(o,t),J(e,t)))?o:e}),null)};return i()||i(!0)}(a=a.map((function(e){return de(e,n)})),{width:t,height:r},n,i)}function We(e,t){var r=He(e);if(e.visibleArea){var n=xe(e,t);r.visibleArea=v(v({},e.visibleArea),Oe({width:e.visibleArea.width,height:e.visibleArea.height,aspectRatio:{minimum:oe(r.boundary),maximum:oe(r.boundary)},sizeRestrictions:n})),r.visibleArea=re(r.visibleArea,Q(K(e.visibleArea),K(r.visibleArea))),r.visibleArea=ve(r.visibleArea,Ce(r,t))}return r}function Te(e,t,r){var n=re(e,t);return r?ve(n,r):n}function Le(e,t,r,n){void 0===n&&(n=!0);var i=!1===n?X.unsafe:!0===n?X.zoom:n,o=ke(e,t),a=Se(e,t);e.visibleArea&&i===X.limit&&(a=v(v({},a),{minWidth:Math.min(e.visibleArea.width,a.minWidth),minHeight:Math.min(e.visibleArea.height,a.minHeight),maxWidth:Math.min(e.visibleArea.width,a.maxWidth),maxHeight:Math.min(e.visibleArea.height,a.maxHeight)}));var s=Ae(e,t);e.visibleArea&&i===X.limit&&(s=me(s,ne(e.visibleArea)));var c=function(e,t){return Te(e,{left:t.left-(e.left||0),top:t.top-(e.top||0)},s)},l=e.coordinates?v({},e.coordinates):{left:0,top:0,width:0,height:0};(Array.isArray(r)?r:[r]).forEach((function(r){var n;(n="function"==typeof r?r(v(v({},e),{coordinates:l}),t):r)&&(M(n.width)&&M(n.height)||(l=function(e,t){var r=v(v(v({},e),Oe({width:t.width,height:t.height,sizeRestrictions:a,aspectRatio:o})),{left:0,top:0});return c(r,{left:e.left||0,top:e.top||0})}(l,v(v({},l),n))),M(n.left)&&M(n.top)||(l=c(l,v(v({},l),n))))}));var d=v(v({},He(e)),{coordinates:l});if(d.visibleArea&&i===X.zoom){var h=Math.max(0,d.coordinates.width-d.visibleArea.width),u=Math.max(0,d.coordinates.height-d.visibleArea.height),p=xe(e,t),m=h>u?d.coordinates.width/d.visibleArea.width:d.coordinates.height/d.visibleArea.height;return m>1&&(d.visibleArea=ie(d.visibleArea,Math.min(m,ae(d.visibleArea,p)))),d.visibleArea=re(d.visibleArea,te(fe(d.coordinates,ne(d.visibleArea)))),We(d,t)}return d}function De(e,t){if(e.coordinates){var r=He(e),n=ke(e,t),i=Se(e,t);return r.coordinates=v(v({},e.coordinates),Oe({width:e.coordinates.width,height:e.coordinates.height,aspectRatio:n,sizeRestrictions:e.visibleArea?{maxWidth:Math.min(e.visibleArea.width,i.maxWidth),maxHeight:Math.min(e.visibleArea.height,i.maxHeight),minHeight:Math.min(e.visibleArea.height,i.minHeight),minWidth:Math.min(e.visibleArea.width,i.minWidth)}:i})),r.coordinates=re(r.coordinates,Q(K(e.coordinates),K(r.coordinates))),r.coordinates=ve(r.coordinates,e.visibleArea?me(ne(e.visibleArea),Ae(r,t)):Ae(r,t)),r}return e}function je(e,t,r,n){void 0===n&&(n=!0);var i=v(v({},He(e)),{visibleArea:r});return i=We(i,t),n&&(i=De(i,t)),i}function $e(e,t){var r,n,i,o,a,s=e.boundary,c=e.image,l={boundary:{width:s.width,height:s.height},imageSize:{width:c.width,height:c.height},transforms:{rotate:(null===(r=c.transforms)||void 0===r?void 0:r.rotate)||0,flip:{horizontal:(null===(i=null===(n=c.transforms)||void 0===n?void 0:n.flip)||void 0===i?void 0:i.horizontal)||!1,vertical:(null===(a=null===(o=c.transforms)||void 0===o?void 0:o.flip)||void 0===a?void 0:a.vertical)||!1}},visibleArea:null,coordinates:null};return t.defaultTransforms&&(l.transforms=function(e,t){var r=v(v({},e.transforms),{flip:v({},e.transforms.flip)});if(t.defaultTransforms){var n=z(t.defaultTransforms)?t.defaultTransforms(e,t):t.defaultTransforms;H(n.rotate)&&(r.rotate=n.rotate),n.flip&&(I(n.flip.horizontal)&&(r.flip.horizontal=n.flip.horizontal),I(n.flip.vertical)&&(r.flip.vertical=n.flip.vertical))}return r}(l,t)),t.priority===Y.visibleArea?Le(l=je(l,t,Me(l,t),!1),t,ze(l,t),X.limit):je(l=Le(l,t,ze(l,t),X.unsafe),t,Me(l,t),!0)}function Be(e,t,r){if(ye(e)){var n=He(e);return n.coordinates=re(n.coordinates,r),n.coordinates=ve(n.coordinates,me(ne(n.visibleArea),Ae(n,t))),n}return e}function Fe(e){var t=e.coordinates,r=e.directions,n=e.positionRestrictions,i=e.sizeRestrictions,o=e.preserveRatio,a=e.allowedDirections,s=e.compensate,c=void 0===s||s,l=v({},r),d=ee(t,l).width,h=ee(t,l).height;d<0&&(l.left<0&&l.right<0?(l.left=-(t.width-i.minWidth)/(l.left/l.right),l.right=-(t.width-i.minWidth)/(l.right/l.left)):l.left<0?l.left=-(t.width-i.minWidth):l.right<0&&(l.right=-(t.width-i.minWidth))),h<0&&(l.top<0&&l.bottom<0?(l.top=-(t.height-i.minHeight)/(l.top/l.bottom),l.bottom=-(t.height-i.minHeight)/(l.bottom/l.top)):l.top<0?l.top=-(t.height-i.minHeight):l.bottom<0&&(l.bottom=-(t.height-i.minHeight)));var u=le(ee(t,l),n),p=G.every((function(e){return!D(u[(t=e,{left:"right",top:"bottom",right:"left",bottom:"top"}[t])],0)||a[e];var t}));c&&p&&(u.left&&u.left>0&&0===u.right?(l.right+=u.left,l.left-=u.left):u.right&&u.right>0&&0===u.left&&(l.left+=u.right,l.right-=u.right),u.top&&u.top>0&&0===u.bottom?(l.bottom+=u.top,l.top-=u.top):u.bottom&&u.bottom>0&&0===u.top&&(l.top+=u.bottom,l.bottom-=u.bottom),u=le(ee(t,l),n));var m={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(G.forEach((function(e){var t=u[e];t&&l[e]&&(m[e]=Math.max(0,1-t/l[e]))})),o){var f=Math.min.apply(Math,G.map((function(e){return m[e]})));f!==1/0&&G.forEach((function(e){l[e]*=f}))}else G.forEach((function(e){m[e]!==1/0&&(l[e]*=m[e])}));if(d=ee(t,l).width,h=ee(t,l).height,l.right+l.left&&(d>i.maxWidth?m.width=(i.maxWidth-t.width)/(l.right+l.left):d<i.minWidth&&(m.width=(i.minWidth-t.width)/(l.right+l.left))),l.bottom+l.top&&(h>i.maxHeight?m.height=(i.maxHeight-t.height)/(l.bottom+l.top):h<i.minHeight&&(m.height=(i.minHeight-t.height)/(l.bottom+l.top))),o){var g=Math.min(m.width,m.height);g!==1/0&&G.forEach((function(e){l[e]*=g}))}else m.width!==1/0&&q.forEach((function(e){l[e]*=m.width})),m.height!==1/0&&Z.forEach((function(e){l[e]*=m.height}));return l}function Ue(e,t,r){return L(t+r,0)?e/2:L(t,0)?0:L(r,0)?e:e*Math.abs(t/(t+r))}function Ve(e,t){var r=t.toLowerCase();return{left:e.left+e.width*(-1!==r.indexOf("west")?1:-1!==r.indexOf("east")?0:.5),top:e.top+e.height*(-1!==r.indexOf("north")?1:-1!==r.indexOf("south")?0:.5)}}function Ye(e){var t=e.toLowerCase();return{left:-1===t.indexOf("east"),top:-1===t.indexOf("south"),right:-1===t.indexOf("west"),bottom:-1===t.indexOf("north")}}function Xe(e,t,r,n,i){var o=n.reference,a=function(e,t){var r=e.toLowerCase(),n={left:-1===r.indexOf("west")?t.left:-t.left,top:-t.top,right:t.left,bottom:t.top};["north","south","center"].every((function(e){return-1===r.indexOf(e)}))&&(n.top=0,n.bottom=0),["west","east","center"].every((function(e){return-1===r.indexOf(e)}))&&(n.left=0,n.right=0);var i=Ye(e);return G.forEach((function(e){i[e]||(n[e]=0)})),n}(t,r),s=Ye(t),c=function(e,t,r,n){var i=n.aspectRatio,o=n.positionRestrictions,a=n.sizeRestrictions,s=v({},e);t=v({},t);var c=r.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};e.width<a.minWidth&&(t.left=0,t.right=0),e.height<a.minHeight&&(t.top=0,t.bottom=0),G.forEach((function(e){c[e]||(t[e]=0)}));var l=ee(s,t=Fe({coordinates:s,directions:t,sizeRestrictions:a,positionRestrictions:o,allowedDirections:c})).width,d=ee(s,t).height,h=r.preserveAspectRatio?oe(s):se(l/d,i);if(h){var u=r.respectDirection;if("width"!==u&&"height"!==u&&(u=s.width>=s.height||1===h?"width":"height"),"width"===u){var p=l/h-s.height;if(c.top&&c.bottom){var m=t.top,f=t.bottom;t.bottom=Ue(p,f,m),t.top=Ue(p,m,f)}else c.bottom?t.bottom=p:c.top?t.top=p:c.right?t.right=0:c.left&&(t.left=0)}else if("height"===u){var g=s.width-d*h;if(c.left&&c.right){var w=t.left,b=t.right;t.left=-Ue(g,w,b),t.right=-Ue(g,b,w)}else c.left?t.left=-g:c.right?t.right=-g:c.top?t.top=0:c.bottom&&(t.bottom=0)}t=Fe({directions:t,coordinates:s,sizeRestrictions:a,positionRestrictions:o,preserveRatio:!0,compensate:r.compensate,allowedDirections:c})}return l=ee(s,t).width,d=ee(s,t).height,(h=r.preserveAspectRatio?oe(s):se(l/d,i))&&D(Math.abs(h-l/d),0)&&G.forEach((function(e){t[e]=0})),Te({width:e.width+t.right+t.left,height:e.height+t.top+t.bottom,left:e.left,top:e.top},{left:-t.left,top:-t.top},o)}(e,a,v(v({},n),{allowedDirections:s}),i);return o&&(c=re(c,Q(Ve(o,t),Ve(c,t)))),ve(c,i.positionRestrictions)}function Ge(e,t,r,n,i){var o=function(e){return e.coordinates?Math.min(e.coordinates.width,e.coordinates.height,20*Ee(e)):1}(e),a=Se(e,t);return ye(e)?v(v({},He(e)),{coordinates:Xe(e.coordinates,r,n,i,{positionRestrictions:me(Ae(e,t),ne(e.visibleArea)),sizeRestrictions:{maxWidth:Math.min(a.maxWidth,e.visibleArea.width),maxHeight:Math.min(a.maxHeight,e.visibleArea.height),minWidth:Math.max(Math.min(a.minWidth,e.visibleArea.width),o),minHeight:Math.max(Math.min(a.minHeight,e.visibleArea.height),o)},aspectRatio:ke(e,t)})}):e}function qe(e,t,r){var n=v(v({},He(e)),{boundary:r});if(n.visibleArea&&n.coordinates&&e.visibleArea){n.visibleArea.height=n.visibleArea.width/oe(r),n.visibleArea.top+=(e.visibleArea.height-n.visibleArea.height)/2;var i=Se(n,t);(Math.max(i.minHeight,n.coordinates.height)-n.visibleArea.height>0||Math.max(i.minWidth,n.coordinates.width)-n.visibleArea.width>0)&&(n.visibleArea=ie(n.visibleArea,Math.max(Math.max(i.minHeight,n.coordinates.height)/n.visibleArea.height,Math.max(i.minWidth,n.coordinates.width)/n.visibleArea.width))),n.visibleArea=de(n.visibleArea,xe(n,t));var o=te(fe(n.coordinates,ne(n.visibleArea)));n.visibleArea.width<n.coordinates.width&&(o.left=0),n.visibleArea.height<n.coordinates.height&&(o.top=0),n.visibleArea=re(n.visibleArea,o),n.visibleArea=ve(n.visibleArea,Ce(n,t)),n=De(n,t)}return n}function Ze(e,t,r){return r.rotate&&(e=function(e,t,r){if(ye(e)){var n=He(e),i=H(r)?r:r.angle,o=ue(K(v({left:0,top:0},Re(e))),i);n.transforms.rotate+=i,n.coordinates=v(v({},Oe({sizeRestrictions:Se(n,t),aspectRatio:ke(n,t),width:n.coordinates.width,height:n.coordinates.height})),ue(K(n.coordinates),i));var a=!H(r)&&r.center?r.center:K(e.coordinates),s=Q(K(e.coordinates),ue(K(e.coordinates),i,a)),c=Re(n);return n.coordinates.left-=o.left-c.width/2+n.coordinates.width/2-s.left,n.coordinates.top-=o.top-c.height/2+n.coordinates.height/2-s.top,n.visibleArea=de(n.visibleArea,Ie(xe(n,t),{minWidth:n.coordinates.width,minHeight:n.coordinates.height})),n.coordinates=ve(n.coordinates,Ae(n,t)),n.visibleArea=re(n.visibleArea,Q(K(n.coordinates),K(e.coordinates))),n.visibleArea=ve(n.visibleArea,Ce(n,t)),n}return e}(e,t,r.rotate)),r.flip&&(e=function(e,t,r,n){if(ye(e)){var i=He(e),o=e.transforms.rotate,a=Re(e),s={horizontal:r,vertical:n};if(s.horizontal||s.vertical){var c=ue({left:a.width/2,top:a.height/2},-o),l=ue(K(i.coordinates),-o),d=ue({left:s.horizontal?c.left-(l.left-c.left):l.left,top:s.vertical?c.top-(l.top-c.top):l.top},o);i.coordinates=re(i.coordinates,Q(d,K(i.coordinates))),l=ue(K(i.visibleArea),-o),d=ue({left:s.horizontal?c.left-(l.left-c.left):l.left,top:s.vertical?c.top-(l.top-c.top):l.top},o),i.visibleArea=re(i.visibleArea,Q(d,K(i.visibleArea))),i.visibleArea=ve(i.visibleArea,Ce(i,t))}return s.horizontal&&(i.transforms.flip.horizontal=!e.transforms.flip.horizontal),s.vertical&&(i.transforms.flip.vertical=!e.transforms.flip.vertical),i}return e}(e,t,r.flip.horizontal,r.flip.vertical)),(r.move||r.scale)&&(e=function(e,t,r){var n,i,o,a=r.scale,s=void 0===a?1:a,c=r.move,l=void 0===c?{}:c;if(ye(e)){var d=He(e),h=1/(H(s)?s:s.factor),u=H(s)?void 0:s.center,p=!L(h,1),m=1,f=1;d.visibleArea=re(d.visibleArea,{left:l.left||0,top:l.top||0});var v=Se(d,t),g=Ae(d,t),w=xe(d,t),b={stencil:{minimum:Math.max(v.minWidth?v.minWidth/d.coordinates.width:0,v.minHeight?v.minHeight/d.coordinates.height:0),maximum:Math.min(v.maxWidth?v.maxWidth/d.coordinates.width:1/0,v.maxHeight?v.maxHeight/d.coordinates.height:1/0,ae(d.coordinates,pe(g)))},area:{maximum:ae(d.visibleArea,w),minimum:(i=d.visibleArea,o=w,Math.max(o.minWidth?o.minWidth/i.width:0,o.minHeight?o.minHeight/i.height:0))}};h&&p&&(h<1?(f=Math.max(h,Math.max(b.area.minimum,b.stencil.minimum)))>1&&(f=1):h>1&&(f=Math.min(h,Math.min(b.area.maximum,b.stencil.maximum)))<1&&(f=1)),f&&(d.visibleArea=ie(d.visibleArea,f,u));var y={left:e.coordinates.left-e.visibleArea.left,right:e.visibleArea.width+e.visibleArea.left-(e.coordinates.width+e.coordinates.left),top:e.coordinates.top-e.visibleArea.top,bottom:e.visibleArea.height+e.visibleArea.top-(e.coordinates.height+e.coordinates.top)};return d.visibleArea=ve(d.visibleArea,{left:void 0!==g.left?g.left-y.left*f:void 0,top:void 0!==g.top?g.top-y.top*f:void 0,bottom:void 0!==g.bottom?g.bottom+y.bottom*f:void 0,right:void 0!==g.right?g.right+y.right*f:void 0}),d.visibleArea=ve(d.visibleArea,Ce(d,t)),d.coordinates.width=d.coordinates.width*f,d.coordinates.height=d.coordinates.height*f,d.coordinates.left=d.visibleArea.left+y.left*f,d.coordinates.top=d.visibleArea.top+y.top*f,d.coordinates=ve(d.coordinates,me(ne(d.visibleArea),g)),p&&h&&(null===(n=t.transformImage)||void 0===n?void 0:n.adjustStencil)&&(h>1?m=Math.min(b.area.maximum,h)/f:h<1&&(m=Math.max(d.coordinates.height/d.visibleArea.height,d.coordinates.width/d.visibleArea.width,h/f)),1!==m&&(d.visibleArea=ie(d.visibleArea,m,h>1?u:K(d.coordinates)),d.visibleArea=ve(d.visibleArea,Ce(d,t)),d.visibleArea=re(d.visibleArea,te(fe(d.coordinates,ne(d.visibleArea)))))),d}return e}(e,t,r)),e}function Qe(e,t){if(ye(e)){var r=He(e),n=ke(e,t),i=Se(e,t),o=xe(e,t),a=se(oe(e.coordinates),n),s=a?{height:e.coordinates.height,width:e.coordinates.height*a}:e.coordinates;r.coordinates=v(v({},r.coordinates),Oe({width:s.width,height:s.height,aspectRatio:n,sizeRestrictions:Ie(o,i)})),r.coordinates=re(r.coordinates,Q(K(e.coordinates),K(r.coordinates)));var c=Math.max(r.coordinates.width/r.visibleArea.width,r.coordinates.height/r.visibleArea.height,1);return r.visibleArea=v(v({},e.visibleArea),Oe({width:e.visibleArea.width*c,height:e.visibleArea.height*c,aspectRatio:{minimum:oe(r.boundary),maximum:oe(r.boundary)},sizeRestrictions:o})),r.visibleArea=re(r.visibleArea,Q(K(e.visibleArea),K(r.visibleArea))),r.visibleArea=ve(r.visibleArea,Ce(r,t)),r.coordinates=ve(r.coordinates,me(ne(r.visibleArea),Ae(r,t))),r}return e}function Ke(e,t){var r=Ee(e);return e.visibleArea?{left:t.left*r+e.visibleArea.left,top:t.top*r+e.visibleArea.top}:t}function Je(e,t){if(e){var r=Math.abs(e.transforms.rotate%180);return r<=45||r>=135?t:{horizontal:t.vertical,vertical:t.horizontal}}return t}function et(e,t){var r=Ee(e);return{left:H(t.left)?t.left*r:0,top:H(t.top)?t.top*r:0}}function tt(e,t){var r=t.getBoundingClientRect(),n=r.left,i=r.top,o={left:0,top:0},a=0;return e.forEach((function(t){o.left+=(t.clientX-n)/e.length,o.top+=(t.clientY-i)/e.length})),e.forEach((function(e){a+=T({left:o.left,top:o.top},{left:e.clientX-n,top:e.clientY-i})})),{centerMass:o,spread:a,count:e.length}}function rt(e){return e.moveCoordinates||e.resizeCoordinates||e.transformImage.move||e.transformImage.rotate||e.transformImage.flip||e.transformImage.scale}function nt(e,t){var r,n=e.imageSize,i=e.visibleArea,o=Se(e,t),a=ke(e,t);if(i)r=i;else{var s=pe(Ae(e,t));r={width:Math.max(s.minWidth,Math.min(s.maxWidth,n.width)),height:Math.max(s.minHeight,Math.min(s.maxHeight,n.height))}}var c=Math.min(a.maximum||1/0,Math.max(a.minimum||0,oe(r))),l=r.width<r.height?{width:.8*r.width,height:.8*r.width/c}:{height:.8*r.height,width:.8*r.height*c};return Oe(v(v({},l),{aspectRatio:a,sizeRestrictions:o}))}function it(e,t){return function(e){return{minWidth:W(e.minWidth)?N(e.minWidth):0,minHeight:W(e.minHeight)?N(e.minHeight):0,maxWidth:W(e.maxWidth)?N(e.maxWidth):1/0,maxHeight:W(e.maxHeight)?N(e.maxHeight):1/0}}(t)}function ot(e){var t=e.visibleArea,r=e.coordinates,n=t||Re(e);return{left:(t?t.left:0)+n.width/2-(r?r.width/2:0),top:(t?t.top:0)+n.height/2-(r?r.height/2:0)}}function at(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}function st(e,t){return e.aspectRatio?{}:{aspectRatio:ge(z(t.aspectRatio)?t.aspectRatio():t.aspectRatio)}}function ct(e){return function(t,r){var n=z(e)?e(t,r):e;return Ie(it(0,r),n)}}function lt(e){return v(v({},e),{sizeRestrictions:function(t,r){return e.sizeRestrictions?z(e.sizeRestrictions)?e.sizeRestrictions(t,r):e.sizeRestrictions:it(0,r)},areaPositionRestrictions:function(t,r){return e.areaPositionRestrictions?z(e.areaPositionRestrictions)?e.areaPositionRestrictions(t,r):e.areaPositionRestrictions:function(e,t){var r=e.visibleArea,n=e.boundary,i=t.imageRestriction,o=Re(e),a={};return i===V.fillArea?a={left:0,top:0,right:o.width,bottom:o.height}:i===V.fitArea&&(oe(n)>oe(o)?(a={top:0,bottom:o.height},r&&(r.width>o.width?(a.left=-(r.width-o.width)/2,a.right=o.width-a.left):(a.left=0,a.right=o.width))):(a={left:0,right:o.width},r&&(r.height>o.height?(a.top=-(r.height-o.height)/2,a.bottom=o.height-a.top):(a.top=0,a.bottom=o.height)))),a}(t,r)},areaSizeRestrictions:function(t,r){return e.areaSizeRestrictions?z(e.areaSizeRestrictions)?e.areaSizeRestrictions(t,r):e.areaSizeRestrictions:function(e,t){var r=e.boundary,n=t.imageRestriction,i=Re(e),o={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0};return n===V.fillArea?(o.maxWidth=i.width,o.maxHeight=i.height):n===V.fitArea&&(oe(r)>oe(i)?(o.maxHeight=i.height,o.maxWidth=i.height*oe(r)):(o.maxWidth=i.width,o.maxHeight=i.width/oe(r))),o}(t,r)},positionRestrictions:function(t,r){return e.positionRestrictions?z(e.positionRestrictions)?e.positionRestrictions(t,r):e.positionRestrictions:function(e,t){var r=Re(e),n={};return t.imageRestriction&&"none"!==t.imageRestriction&&(n={left:0,top:0,right:r.width,bottom:r.height}),n}(t,r)},defaultCoordinates:function(t,r){if(e.defaultCoordinates)return z(e.defaultCoordinates)?e.defaultCoordinates(t,r):e.defaultCoordinates;var n=e.defaultSize;n||(n=nt);var i=z(n)?n(t,r):n,o=e.defaultPosition||ot;return[i,function(e){return v({},z(o)?o(e,r):o)}]},defaultVisibleArea:function(t,r){return e.defaultVisibleArea?z(e.defaultVisibleArea)?e.defaultVisibleArea(t,r):e.defaultVisibleArea:function(e,t){var r=e.coordinates,n=e.boundary,i=Re(e),o=oe(n);if(r){var a={height:Math.max(r.height,i.height),width:Math.max(r.width,i.width)},s={left:0,top:0,width:oe(a)>o?a.width:a.height*o,height:oe(a)>o?a.width/o:a.height};(s=de(s,xe(e,t))).left=r.left+r.width/2-s.width/2,s.top=r.top+r.height/2-s.height/2;var c=le(r,ne(v({left:0,top:0},i))),l={};return!c.left&&!c.right&&s.width<=i.width&&(l.left=0,l.right=i.width),!c.top&&!c.bottom&&s.height<=i.height&&(l.top=0,l.bottom=i.height),ve(s,l)}var d=oe(i),h={height:d<o?i.height:i.width/o,width:d<o?i.height*o:i.width};return{left:i.width/2-h.width/2,top:i.height/2-h.height/2,width:h.width,height:h.height}}(t,r)},aspectRatio:function(t,r){return ge(z(e.aspectRatio)?e.aspectRatio(t,r):e.aspectRatio)}})}function dt(e,t){if(e&&t){var r=t();r&&e(r)}}function ht(e,t){e.forEach((function(e){dt(e,t)}))}!function(e){e.fillArea="fillArea",e.fitArea="fitArea",e.stencil="stencil",e.none="none"}(V||(V={})),function(e){e.coordinates="coordinates",e.visibleArea="visibleArea"}(Y||(Y={})),function(e){e.limit="limit",e.zoom="zoom",e.unsafe="unsafe"}(X||(X={}));var ut={linear:function(e){return e},"ease-in":function(e){return Math.pow(e,1.675)},"ease-out":function(e){return 1-Math.pow(1-e,1.675)},"ease-in-out":function(e){return.5*(Math.sin((e-.5)*Math.PI)+1)}},pt=function(){function e(){this.active=!1}return e.prototype.start=function(e){var t;this.onStart=e.onStart,this.onProgress=e.onProgress,this.onStop=e.onStop,this.active||null===(t=this.onStart)||void 0===t||t.call(this),this.id&&window.cancelAnimationFrame(this.id),this.startTime=performance.now(),this.timingFunction=e.timingFunction,this.endTime=this.startTime+e.duration,this.active=!0,this.animate()},e.prototype.animate=function(){var e=this;if(this.startTime&&this.endTime){var t=ut[this.timingFunction];t||(t=ut["ease-out"]);var r=1-(this.endTime-performance.now())/(this.endTime-this.startTime),n=Math.min(1,t(r));this.onProgress&&this.onProgress(n),r<1?this.id=window.requestAnimationFrame((function(){return e.animate()})):this.stop()}else this.stop()},e.prototype.stop=function(){this.active=!1,this.id&&window.cancelAnimationFrame(this.id),this.onStop&&this.onStop()},e}();function mt(e,t,r){t.style.width="0px",t.style.height="0px",t.style.width=Math.max(e.clientWidth,r.width)+"px";var n=r.width/r.height;t.style.height=Math.max(e.clientHeight,t.clientWidth/n)+"px",t.style.width=t.clientHeight*n+"px"}function ft(e,t,r){t.style.width="0px",t.style.height="0px",t.style.width=Math.max(e.getBoundingClientRect().width,r.width)+"px";var n=r.width/r.height;t.style.height=Math.max(e.getBoundingClientRect().height,t.getBoundingClientRect().width/n)+"px",t.style.width=t.getBoundingClientRect().height*n+"px",t.clientWidth/t.clientHeight>e.clientWidth/e.clientHeight?t.clientWidth>e.clientWidth&&(t.style.width=e.clientWidth+"px",t.style.height=e.clientWidth/n+"px"):t.clientHeight>e.clientHeight&&(t.style.height=e.clientHeight+"px",t.style.width=e.clientHeight*n+"px")}function vt(e){var t=e.rotate,r=void 0===t?0:t,n=e.flip,i=void 0===n?{horizontal:!1,vertical:!1}:n,o=e.scale,a=void 0===o?1:o;return" rotate("+r+"deg) scaleX("+a*(i.horizontal?-1:1)+") scaleY("+a*(i.vertical?-1:1)+")"}function gt(e){var t=e.src,r=e.arrayBuffer,n=void 0===r?null:r,i=e.orientation,o=void 0===i?null:i,a={src:t,arrayBuffer:n,revoke:!1,transforms:{flip:{horizontal:!1,vertical:!1},rotate:0}};return n&&o&&o>1?E(t)||!_(t)?(a.src=URL.createObjectURL(new Blob([n])),a.revoke=!0):a.src=function(e){for(var t=[],r=new Uint8Array(e);r.length>0;){var n=r.subarray(0,8192);t.push(String.fromCharCode.apply(null,Array.from?Array.from(n):n.slice())),r=r.subarray(8192)}return"data:image/jpeg;base64,"+btoa(t.join(""))}(n):a.src=t,o&&(a.transforms=function(e){var t={flip:{horizontal:!1,vertical:!1},rotate:0};if(e)switch(e){case 2:t.flip.horizontal=!0;break;case 3:t.rotate=-180;break;case 4:t.flip.vertical=!0;break;case 5:t.rotate=90,t.flip.vertical=!0;break;case 6:t.rotate=90;break;case 7:t.rotate=90,t.flip.horizontal=!0;break;case 8:t.rotate=-90}return t}(o)),a}function wt(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});var r=t.checkOrientation,n=t.parse;return new Promise((function(t){var i;r||n?(i=e,new Promise((function(e,t){try{if(i)if(/^data:/i.test(i))e(function(e){e=e.replace(/^data:([^;]+);base64,/gim,"");for(var t=atob(e),r=t.length,n=new ArrayBuffer(r),i=new Uint8Array(n),o=0;o<r;o++)i[o]=t.charCodeAt(o);return n}(i));else if(/^blob:/i.test(i)){var r=new FileReader;r.onload=function(t){var r;e(null===(r=t.target)||void 0===r?void 0:r.result)},o=i,a=function(e){r.readAsArrayBuffer(e)},(s=new XMLHttpRequest).open("GET",o,!0),s.responseType="blob",s.onload=function(){200!=this.status&&0!==this.status||a(this.response)},s.send()}else{var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status||0===n.status?e(n.response):t("Warning: could not load an image to parse its orientation"))},n.onprogress=function(){"image/jpeg"!==n.getResponseHeader("content-type")&&n.abort()},n.withCredentials=!1,n.open("GET",i,!0),n.responseType="arraybuffer",n.send(null)}else t("Error: the image is empty")}catch(e){t(e)}var o,a,s}))).then((function(r){var n=function(e){try{var t,r=new DataView(e),n=void 0,i=void 0,o=void 0,a=void 0;if(255===r.getUint8(0)&&216===r.getUint8(1))for(var s=r.byteLength,c=2;c+1<s;){if(255===r.getUint8(c)&&225===r.getUint8(c+1)){o=c;break}c++}if(o&&(n=o+10,"Exif"===function(e,t,r){var n,i="";for(n=t,r+=t;n<r;n++)i+=String.fromCharCode(e.getUint8(n));return i}(r,o+4,4))){var l=r.getUint16(n);if(((i=18761===l)||19789===l)&&42===r.getUint16(n+2,i)){var d=r.getUint32(n+4,i);d>=8&&(a=n+d)}}if(a)for(var h=r.getUint16(a,i),u=0;u<h;u++)if(c=a+12*u+2,274===r.getUint16(c,i)){c+=8,t=r.getUint16(c,i),r.setUint16(c,1,i);break}return t}catch(e){return null}}(r);t(gt(r?{src:e,arrayBuffer:r,orientation:n}:{src:e,arrayBuffer:null,orientation:null}))})).catch((function(r){console.warn(r),t(gt({src:e}))})):t(gt({src:e}))}))}(e,v(v({},t),{crossOrigin:k(e)&&t.crossOrigin})).then((function(e){return new Promise((function(r,n){(function(e,t){return void 0===t&&(t={}),new Promise((function(r,n){var i=document.createElement("img");t.crossOrigin&&(i.crossOrigin=!0!==t.crossOrigin?t.crossOrigin:"anonymous"),i.src=e,i.style.visibility="hidden",i.style.position="fixed",document.body.appendChild(i),i.complete?(r(i),document.body.removeChild(i)):(i.addEventListener("load",(function(){r(i),document.body.removeChild(i)})),i.addEventListener("error",(function(){n(null),document.body.removeChild(i)})))}))})(e.src,t).then((function(t){r(v(v({},e),{width:t.naturalWidth,height:t.naturalHeight}))})).catch((function(){n(null)}))}))}))}function bt(e,t,r,n,i){void 0===i&&(i=null);var o=e.width>e.height?{width:Math.min(512,e.width),height:Math.min(512,e.width)/(e.width/e.height)}:{height:Math.min(512,e.height),width:Math.min(512,e.height)*(e.width/e.height)},a=Re(t),s={rotate:t.transforms.rotate,flip:{horizontal:t.transforms.flip.horizontal,vertical:t.transforms.flip.vertical},translateX:r.left/n,translateY:r.top/n,scale:1/n},c=(o.width-a.width)/(2*n),l=(o.height-a.height)/(2*n),d=(1-1/n)*o.width/2,h=(1-1/n)*o.height/2,u=v(v({},s),{scale:s.scale*(e.width/o.width)}),p={width:o.width+"px",height:o.height+"px",left:"0px",top:"0px",transition:"none",transform:"translate3d("+(-c-d-s.translateX)+"px, "+(-l-h-s.translateY)+"px, 0px)"+vt(u),willChange:"none"};return i&&i.active&&(p.willChange="transform",p.transition=i.duration+"ms "+i.timingFunction),p}function yt(e,t,r){return r.immediately?function(e,t){if(ye(e)){var r=He(e),n={width:0,height:0};oe(r.boundary)>oe(r.coordinates)?(n.height=.8*r.boundary.height,n.width=n.height*oe(r.coordinates)):(n.width=.8*r.boundary.width,n.height=n.width*oe(r.coordinates)),r.visibleArea=ie(r.visibleArea,r.coordinates.width*r.boundary.width/(r.visibleArea.width*n.width));var i=ce(r.visibleArea,xe(r,t));return r.visibleArea=ie(r.visibleArea,i),1!==i&&(n.height/=i,n.width/=i),r.visibleArea=re(r.visibleArea,Q(K(r.coordinates),K(r.visibleArea))),r.visibleArea=ve(r.visibleArea,Ce(r,t)),r.coordinates=ve(r.coordinates,me(ne(r.visibleArea),Ae(r,t))),r}return e}(e,t):e}var xt=function(e,r){var n,i=(n=(0,t.useRef)(!0)).current?(n.current=!1,!0):n.current;(0,t.useEffect)((function(){if(!i)return e()}),r)},Ct=function(e){function t(t,r){var n=e.call(this)||this;return n.props=t,n.notify=r,n.data={state:null,transitions:!1,interactions:{moveCoordinates:!1,resizeCoordinates:!1,transformImage:{rotate:!1,move:!1,scale:!1,flip:!1}}},n}return f(t,e),t.prototype.getProps=function(){return this.props()},t.prototype.setData=function(e){this.data=e,this.notify()},t.prototype.getData=function(){return this.data},t}((function(){var e=this;this.getTransitions=function(){var t=e.getData(),r=e.getProps().transitions;return v(v({},P(r,{timingFunction:"ease-in-out",duration:350})),{active:t.transitions})},this.getInteractions=function(){return B(e.getData().interactions)},this.hasInteractions=function(){return rt(e.getData().interactions)},this.startTransitions=function(){var t=e.getProps(),r=t.onTransitionsStart,n=t.onUpdate,i=t.getInstance,o=e.getData(),a=o.transitions,s=g(o,["transitions"]);e.setData(v(v({},s),{transitions:!0})),a||ht([r,n],i),e.endTransitions()},this.endTransitions=U((function(){var t=e.getProps(),r=t.onTransitionsEnd,n=t.onUpdate,i=t.getInstance;e.setData(v(v({},e.getData()),{transitions:!1})),ht([r,n],i)}),(function(){return e.getTransitions().duration})),this.applyPostProcess=function(t,r){var n,i=e.getProps(),o=i.settings,a=i.postProcess,s=t.name,c=t.interaction,l=void 0!==c&&c,d=t.transitions,h=void 0!==d&&d,u=t.immediately,p={name:s,interaction:l,transitions:h,immediately:void 0!==u&&u};return n=a,Array.isArray(n)?a.reduce((function(e,t){return t(e,o,p)}),r):z(a)?a(r,o,p):r},this.updateState=function(t,r,n){void 0===r&&(r={}),void 0===n&&(n=[]);var i=r.transitions,o=void 0!==i&&i,a=e.getProps(),s=a.onTransitionsStart,c=a.getInstance,l=a.onChange,d=a.onUpdate,h=a.settings,u=e.getData(),p=z(t)?t(u.state,h):t,m=p?.001*Ee(p):.001,f=!F(u.state,p,m),g=["coordinates","boundary","visibleArea","imageSize","transforms"].some((function(e){var t;return!F(null===(t=u.state)||void 0===t?void 0:t[e],null==p?void 0:p[e],m)})),w=u;f&&(o&&g&&e.endTransitions(),w=v(v({},w),{state:He(p),transitions:o&&g}),e.setData(w),dt(l,c)),w.transitions&&!u.transitions&&dt(s,c),ht(function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}(n,[d]),c)},this.setInteractions=function(t){var r=e.getProps(),n=r.onInteractionStart,i=r.onInteractionEnd,o=r.getInstance,a=e.getInteractions(),s=v(v({},a),t);if(F(a,s)||e.setData(v(v({},e.getData()),{interactions:s})),rt(a)!==rt(s))if(rt(a)){var c=e.getData().state;e.updateState((function(){return c&&e.applyPostProcess({name:"interactionEnd",immediately:!0,transitions:!0},c)}),{transitions:!0},[i])}else dt(n,o)},this.resetState=function(t,r){e.updateState(e.createDefaultState(t,r))},this.clear=function(){e.updateState(null)},this.reconcileState=function(t){void 0===t&&(t={});var r=e.getProps(),n=r.reconcileStateAlgorithm,i=r.settings,o=e.getData().state,a=t.transitions,s=void 0!==a&&a;if(o&&!Pe(o,i)){var c=(n||Qe)(o,i);c=e.applyPostProcess({name:"reconcileState",immediately:!0,transitions:s},c),e.updateState(c,{transitions:s})}},this.transformImage=function(t,r){void 0===r&&(r={});var n=r.transitions,i=void 0===n||n,o=r.interaction,a=void 0===o||o,s=r.immediately,c=void 0!==s&&s,l=r.normalize,d=void 0===l||l,h=e.getProps(),u=h.transformImageAlgorithm,p=h.onTransformImage,m=h.onTransformImageEnd,f=h.settings,v=e.getData().state,g=[];if(v){d&&(t=function(e,t){return t.scale&&(t.scale={factor:H(t.scale)?t.scale:t.scale.factor,center:!H(t.scale)&&t.scale.center?Ke(e,t.scale.center):void 0}),t.rotate&&(t.rotate={angle:H(t.rotate)?t.rotate:t.rotate.angle,center:!H(t.rotate)&&t.rotate.center?Ke(e,t.rotate.center):void 0}),t.move&&(t.move=et(e,t.move)),t}(v,t));var w=e.applyPostProcess({name:"transformImage",transitions:i,immediately:c},(u||Ze)(v,f,t));g.push(p),a?e.setInteractions({transformImage:{rotate:!M(t.rotate),flip:!M(t.flip),scale:!M(t.scale),move:!M(t.move)}}):(w=e.applyPostProcess({name:"transformImageEnd",transitions:i,immediately:!0},w),g.push(m)),e.updateState(w,{transitions:c&&i},g)}},this.transformImageEnd=function(t){void 0===t&&(t={});var r=t.immediately,n=void 0===r||r,i=t.transitions,o=void 0===i||i,a=e.getData().state,s=e.getProps().onTransformImageEnd;e.updateState((function(){return a&&e.applyPostProcess({name:"transformImageEnd",immediately:n,transitions:o},a)}),{transitions:o},[s]),e.setInteractions({transformImage:{rotate:!1,flip:!1,scale:!1,move:!1}})},this.zoomImage=function(t,r){void 0===r&&(r={});var n=r.interaction,i=void 0!==n&&n,o=r.immediately,a=void 0===o||o,s=r.transitions,c=void 0===s||s,l=r.normalize,d=void 0!==l&&l;e.transformImage({scale:t},{interaction:i,immediately:a,transitions:c,normalize:d})},this.moveImage=function(t,r,n){void 0===n&&(n={});var i=n.interaction,o=void 0!==i&&i,a=n.immediately,s=void 0===a||a,c=n.transitions,l=void 0===c||c,d=n.normalize,h=void 0!==d&&d;e.transformImage({move:{left:t,top:r}},{interaction:o,immediately:s,transitions:l,normalize:h})},this.flipImage=function(t,r,n){void 0===n&&(n={});var i=n.interaction,o=void 0!==i&&i,a=n.immediately,s=void 0===a||a,c=n.transitions,l=void 0===c||c,d=n.normalize,h=void 0===d||d,u=e.getState(),p={horizontal:t,vertical:r};e.transformImage({flip:u&&h?Je(u,p):p},{interaction:o,immediately:s,transitions:l})},this.rotateImage=function(t,r){void 0===r&&(r={});var n=r.interaction,i=void 0!==n&&n,o=r.immediately,a=void 0===o||o,s=r.transitions,c=void 0===s||s,l=r.normalize,d=void 0!==l&&l;e.transformImage({rotate:t},{interaction:i,immediately:a,transitions:c,normalize:d})},this.reset=function(t,r){e.resetState(t,r)},this.setState=function(t,r){void 0===r&&(r={});var n=e.getSettings(),i=e.getData().state,o=r.transitions,a=void 0===o||o,s=r.immediately,c=void 0!==s&&s,l=r.interaction,d=void 0!==l&&l,h=r.postprocess,u=void 0!==h&&h,p=t&&(z(t)?t(i,n):v(v({},i),t));e.updateState((function(){return u?p&&e.applyPostProcess({name:"setState",immediately:c,transitions:a,interaction:d},p):p}),{transitions:a})},this.setCoordinates=function(t,r){void 0===r&&(r={});var n=e.getData().state,i=e.getProps(),o=i.setCoordinatesAlgorithm,a=i.settings,s=r.transitions,c=void 0===s||s,l=r.immediately,d=void 0===l||l;e.updateState((function(){return n&&e.applyPostProcess({name:"setCoordinates",immediately:d,transitions:c},(o||Le)(n,a,t,X.zoom))}),{transitions:c})},this.setVisibleArea=function(t,r){void 0===r&&(r={});var n=r.transitions,i=void 0===n||n,o=r.immediately,a=void 0===o||o,s=e.getData().state,c=e.getProps(),l=c.setVisibleAreaAlgorithm,d=c.settings;e.updateState((function(){return s&&e.applyPostProcess({name:"setVisibleArea",immediately:a,transitions:i},(l||je)(s,d,t))}),{transitions:i})},this.setBoundary=function(t,r){void 0===r&&(r={});var n=e.getData().state,i=e.getProps(),o=i.setBoundaryAlgorithm,a=i.settings,s=r.transitions,c=void 0!==s&&s,l=r.immediately,d=void 0===l||l;t?e.updateState((function(){return n&&e.applyPostProcess({name:"setBoundary",immediately:d,transitions:c},(o||qe)(n,a,t))})):e.updateState(null)},this.moveCoordinates=function(t,r){void 0===r&&(r={});var n=e.getData(),i=e.getProps(),o=i.moveCoordinatesAlgorithm,a=i.onMove,s=i.onMoveEnd,c=i.settings,l=r.interaction,d=void 0===l||l,h=r.transitions,u=void 0!==h&&h,p=r.immediately,m=void 0!==p&&p,f=r.normalize,v=void 0===f||f,g=[];if(!n.transitions&&n.state){var w=v?et(n.state,t):function(e){return{left:H(e.left)?e.left:0,top:H(e.top)?e.top:0}}(t),b=e.applyPostProcess({name:"moveCoordinates",interaction:d,immediately:m,transitions:u},(o||Be)(n.state,c,w));g.push(a),d?e.setInteractions({moveCoordinates:!0}):(b=e.applyPostProcess({name:"moveCoordinatesEnd",interaction:d,immediately:m,transitions:u},b),g.push(s)),e.updateState(b,{transitions:m&&u},g)}},this.moveCoordinatesEnd=function(t){void 0===t&&(t={});var r=e.getData().state,n=e.getProps().onMoveEnd,i=t.transitions,o=void 0===i||i,a=t.immediately,s=void 0!==a&&a;e.updateState((function(){return r&&e.applyPostProcess({name:"moveCoordinatesEnd",transitions:o,immediately:s},r)}),{transitions:o},[n]),e.setInteractions({moveCoordinates:!1})},this.resizeCoordinates=function(t,r,n,i){void 0===i&&(i={});var o=e.getData().state,a=e.getProps(),s=a.resizeCoordinatesAlgorithm,c=a.onResize,l=a.onResizeEnd,d=a.settings,h=i.interaction,u=void 0===h||h,p=i.transitions,m=void 0!==p&&p,f=i.immediately,v=void 0!==f&&f,g=i.normalize,w=void 0===g||g;if(!e.getTransitions().active&&o){var b=[],y=w?function(e,t){var r=Ee(e);return{left:H(t.left)?t.left*r:0,top:H(t.top)?t.top*r:0,right:H(t.right)?t.right*r:0,bottom:H(t.bottom)?t.bottom*r:0}}(o,r):function(e){return{left:H(e.left)?e.left:0,top:H(e.top)?e.top:0,right:H(e.right)?e.right:0,bottom:H(e.bottom)?e.bottom:0}}(r),x=e.applyPostProcess({name:"resizeCoordinates",interaction:u,immediately:v,transitions:m},(s||Ge)(o,d,t,y,R(n)?n:{}));b.push(c),u?e.setInteractions({resizeCoordinates:!0}):(x=e.applyPostProcess({name:"resizeCoordinatesEnd",interaction:u,immediately:v,transitions:m},x),b.push(l)),e.updateState(x,{transitions:v&&m},b)}},this.resizeCoordinatesEnd=function(t){void 0===t&&(t={});var r=e.getProps().onResizeEnd,n=e.getData().state,i=t.transitions,o=void 0===i||i,a=t.immediately,s=void 0!==a&&a;e.updateState((function(){return n&&e.applyPostProcess({name:"resizeCoordinatesEnd",transitions:o,immediately:s},n)}),{transitions:o},[r]),e.setInteractions({resizeCoordinates:!1})},this.getStencilCoordinates=function(){return _e(e.getData().state)},this.getCoordinates=function(t){void 0===t&&(t={});var r=e.getData().state,n=e.getProps().settings;if(r&&r.coordinates){var i=t.round;return void 0===i||i?function(e,t){if(ye(e)){var r=Se(e,t),n=Ae(e,t),i={width:Math.round(e.coordinates.width),height:Math.round(e.coordinates.height),left:Math.round(e.coordinates.left),top:Math.round(e.coordinates.top)};return i.width>r.maxWidth?i.width=Math.floor(e.coordinates.width):i.width<r.minWidth&&(i.width=Math.ceil(e.coordinates.width)),i.height>r.maxHeight?i.height=Math.floor(e.coordinates.height):i.height<r.minHeight&&(i.height=Math.ceil(e.coordinates.height)),ve(i,n)}return null}(r,n):v({},r.coordinates)}return null},this.getVisibleArea=function(){var t=e.getData().state;return(null==t?void 0:t.visibleArea)?v({},t.visibleArea):null},this.getSettings=function(){var t=e.getProps().settings;return v({},t)},this.getState=function(){return He(e.getData().state)},this.getTransforms=function(){var t=e.getData().state;return t?B(t.transforms):{rotate:0,flip:{horizontal:!1,vertical:!1}}},this.createDefaultState=function(t,r){var n=e.getProps(),i=n.createStateAlgorithm,o=n.settings;return e.applyPostProcess({name:"createState",immediately:!0,transitions:!1},(i||$e)({image:r,boundary:t},o))},this.isConsistent=function(){var t=e.getData().state,r=e.getProps().settings;return!t||Pe(t,r)}}));function St(){var e=y((0,t.useState)({}),2);e[0];var r=e[1];return function(){r({})}}var At=function(e){var r=(0,t.useRef)(e),n=function(){r.current&&r.current()};(0,t.useEffect)((function(){r.current=e}),[e]),(0,t.useEffect)((function(){return window.addEventListener("resize",n),window.addEventListener("orientationchange",n),function(){window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}}),[])};function Et(e){var r=this,n=e(),i=n.src,o=n.onReady,a=n.onError,s=n.onUpdate,c=n.canvas,l=void 0===c||c,d=n.unloadTime,h=void 0===d?500:d,u=n.crossOrigin,p=void 0===u||u,m=n.checkOrientation,f=void 0===m||m,C=n.autoReconcileState,S=void 0===C||C,A=(0,t.useRef)(null),E=(0,t.useRef)(null),_=(0,t.useRef)(null),k=(0,t.useRef)(null),z=y(function(e){var r=y((0,t.useState)(null),2),n=r[0],i=r[1],o=y((0,t.useState)(null),2),a=o[0],s=o[1],c=(0,t.useRef)(null);return xt((function(){a&&a(n,c.current)}),[a]),[n,function(e,t){c.current=n,i(e),s((function(){return t}))}]}(),2),R=z[0],P=z[1],N=function(e){var r=St(),n=function(e){var r=(0,t.useRef)(e);return r.current=e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.current.apply(r,x([],y(e),!1))}}((function(){var t=e(),r=t.settings,n=g(t,["settings"]),i=v({imageRestriction:V.fitArea,transformImage:{adjustStencil:!0}},r),o=v({transitions:!0},n);return v({settings:v(v({},i),lt(i))},o)}));return(0,t.useRef)(new Ct(n,r)).current}((function(){return v(v({},e()),{getInstance:function(){return k.current}})})),I=function(e){var r=e.src,n=e.onLoadingStart,i=e.onLoadingEnd,o=e.onError,a=e.onLoad,s=e.crossOrigin,c=e.checkOrientation,l=e.canvas,d=e.unloadTime,h=y((0,t.useState)(!1),2),u=h[0],p=h[1],m=y((0,t.useState)(!1),2),f=m[0],v=m[1],g=y((0,t.useState)(null),2),w=g[0],b=g[1],x=(0,t.useRef)(null);return(0,t.useEffect)((function(){if(x.current!==r)if(x.current=r||null,v(!1),r){p(!0),null==n||n();var e=[wt(r,{crossOrigin:M(s)?l:s,checkOrientation:c})];f&&d&&e.push($(d)),Promise.all(e).then((function(e){var t=y(e,1)[0];x.current===r&&(b(t),null==a||a(t))})).catch((function(){x.current===r&&(null==o||o())})).finally((function(){x.current===r&&(null==i||i(),p(!1))}))}else d?$(d).then((function(){b(null)})):b(null)}),[r]),(0,t.useEffect)((function(){w&&v(!0)}),[w]),{isLoading:function(){return u},isLoaded:function(){return f},getImage:function(){return w},setImage:b}}({src:i,crossOrigin:p,checkOrientation:f,unloadTime:h,canvas:l,onLoad:function(){k.current&&(null==o||o(k.current))},onError:function(){k.current&&(null==a||a(k.current))}}),H=function(e,r){void 0===r&&(r=!0);var n=y((0,t.useState)(r),2),i=n[0],o=n[1];return(0,t.useLayoutEffect)((function(){i&&!e.hasInteractions()&&e.reconcileState()})),{pause:function(){o(!1)},resume:function(){o(!0)}}}(N,S),O=function(){return w(r,void 0,void 0,(function(){var e,t,r;return b(this,(function(n){switch(n.label){case 0:return E.current?(H.pause(),e=I.getImage(),[4,null===(r=E.current)||void 0===r?void 0:r.stretchTo(e)]):[3,2];case 1:t=n.sent(),P(e,(function(){t&&e?N.reset(t,e):N.clear()})),H.resume(),n.label=2;case 2:return[2]}}))}))},W=function(){return w(r,void 0,void 0,(function(){var e,t,r,n;return b(this,(function(i){switch(i.label){case 0:return E.current?(H.pause(),e=I.getImage(),[4,null===(n=E.current)||void 0===n?void 0:n.stretchTo(e)]):[3,2];case 1:(t=i.sent())&&e?(r=N.getState())?t.width===r.boundary.width&&t.height===r.boundary.height||(N.setBoundary(t),N.reconcileState()):N.reset(t,e):N.clear(),H.resume(),i.label=2;case 2:return[2]}}))}))},T={reset:function(){return O()},refresh:function(){return W()},setImage:function(e){return P(e)},reconcileState:N.reconcileState,moveCoordinates:N.moveCoordinates,moveCoordinatesEnd:N.moveCoordinatesEnd,resizeCoordinates:N.resizeCoordinates,clear:N.clear,resizeCoordinatesEnd:N.resizeCoordinatesEnd,moveImage:N.moveImage,flipImage:N.flipImage,zoomImage:N.zoomImage,rotateImage:N.rotateImage,transformImage:N.transformImage,transformImageEnd:N.transformImageEnd,setCoordinates:N.setCoordinates,setVisibleArea:N.setVisibleArea,startTransitions:N.startTransitions,setState:N.setState,hasInteractions:N.hasInteractions,getStencilCoordinates:N.getStencilCoordinates,getCoordinates:N.getCoordinates,getVisibleArea:N.getVisibleArea,getTransforms:N.getTransforms,getTransitions:N.getTransitions,getInteractions:N.getInteractions,getSettings:N.getSettings,getState:N.getState,getDefaultState:function(){var e=N.getState(),t=I.getImage();return e&&t?N.createDefaultState(e.boundary,t):null},getCanvas:function(e){var t=N.getState();return A.current&&_.current&&t?_.current.draw(t,A.current,e):null},getImage:function(){return R?v({},R):null},isLoading:I.isLoading,isLoaded:I.isLoaded};return At((function(){W()})),xt((function(){O()}),[I.getImage()]),xt((function(){k.current&&(null==s||s(k.current))}),[I.isLoaded(),I.isLoading()]),(0,t.useImperativeHandle)(k,(function(){return T})),{cropper:T,refs:{image:A,boundary:E,canvas:_},image:R}}var _t=(0,t.forwardRef)((function(e,r){var i=e.className,o=e.style,a=e.stretcherClassName,s=e.contentClassName,c=e.stretchAlgorithm,l=void 0===c?mt:c,d=e.sizeAlgorithm,h=void 0===d?at:d,u=e.children,p=(0,t.useRef)(null),m=(0,t.useRef)(null);return(0,t.useImperativeHandle)(r,(function(){return{reset:function(){var e=p.current;e&&(e.style.height="",e.style.width="")},stretchTo:function(e){var t=p.current,r=m.current;if((null==e?void 0:e.width)&&(null==e?void 0:e.height)&&t&&r){l(r,t,e);var n=h(r,e);return Promise.resolve(n.width&&n.height?n:null)}return t&&(t.style.height="",t.style.width=""),Promise.resolve(null)}}})),n().createElement("div",{ref:m,style:o,className:S()("advanced-cropper-boundary",i)},n().createElement("div",{ref:p,className:S()(["advanced-cropper-boundary__stretcher",a])}),n().createElement("div",{className:S()(["advanced-cropper-boundary__content",s])},u))}));_t.displayName="StretchableBoundary";var kt=function(e){var t=e.visible,r=e.className,i=e.style,o=e.children;return n().createElement("div",{style:i,className:S()(r,"advanced-cropper-fade",Boolean(t)&&"advanced-cropper-fade--visible")},o)},zt=function(e){var t=e.cropper,r=e.children,i=e.className,o=e.style,a=t?t.getState():null,s=!!t&&t.isLoaded();return n().createElement("div",{className:S()(i,"advanced-cropper-wrapper"),style:o},n().createElement(kt,{visible:a&&s,className:"advanced-cropper-wrapper__fade"},r))};function Mt(e){e.preventDefault()}var Rt=(0,t.forwardRef)((function(e,t){var r=e.className,i=e.cropper,o=e.crossOrigin,a=void 0===o||o,s=i.getState(),c=i.getTransitions(),l=i.getImage(),d=l&&s?function(e,t,r){return void 0===r&&(r=null),e&&t&&t.visibleArea?bt(e,t,t.visibleArea,Ee(t),r):{}}(l,s,c):{},h=l?l.src:void 0;return h?n().createElement("img",{key:h,ref:t,className:S()("advanced-cropper-background-image",r),src:h,crossOrigin:!0===a?"anonymous":a||void 0,style:d,onMouseDown:Mt}):null}));Rt.displayName="CropperBackgroundImage";var Pt=(0,t.forwardRef)((function(e,r){var i=(0,t.useRef)(null),o=(0,t.useRef)(null);return(0,t.useImperativeHandle)(r,(function(){return{draw:function(e,t,r){return void 0===r&&(r={}),t&&i.current&&o.current?function(e,t,r,n,i){if(ye(e)){var o=e.transforms,a=e.coordinates,s=0!==o.rotate||o.flip.horizontal||o.flip.vertical?function(e,t,r){var n=r.rotate,i=r.flip,o={width:"naturalWidth"in t?t.naturalWidth:t.width,height:"naturalHeight"in t?t.naturalHeight:t.height},a=he(o,n),s=e.getContext("2d");if(e.height=a.height,e.width=a.width,s){s.save();var c=ue(K(v({left:0,top:0},o)),n);s.translate(-(c.left-a.width/2),-(c.top-a.height/2)),s.rotate(n*Math.PI/180),s.translate(i.horizontal?o.width:0,i.vertical?o.height:0),s.scale(i.horizontal?-1:1,i.vertical?-1:1),s.drawImage(t,0,0,o.width,o.height),s.restore()}return e}(n,t,o):t,c=v({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:1/0,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},i),l=function(e){return e.find((function(e){return W(e)}))},d=Oe({sizeRestrictions:{minWidth:l([c.width,c.minWidth])||0,minHeight:l([c.height,c.minHeight])||0,maxWidth:l([c.width,c.maxWidth])||1/0,maxHeight:l([c.height,c.maxHeight])||1/0},width:a.width,height:a.height,aspectRatio:{minimum:a.width/a.height,maximum:a.width/a.height}});if(c.maxArea&&d.width*d.height>c.maxArea){var h=Math.sqrt(c.maxArea/(d.width*d.height));d={width:Math.round(h*d.width),height:Math.round(h*d.height)}}return function(e,t,r,n,i){e.width=n?n.width:r.width,e.height=n?n.height:r.height;var o=e.getContext("2d");if(o){o.clearRect(0,0,e.width,e.height),i&&(i.imageSmoothingEnabled&&(o.imageSmoothingEnabled=i.imageSmoothingEnabled),i.imageSmoothingQuality&&(o.imageSmoothingQuality=i.imageSmoothingQuality),i.fillColor&&(o.fillStyle=i.fillColor,o.fillRect(0,0,e.width,e.height),o.save()));var a=r.left<0?-r.left:0,s=r.top<0?-r.top:0;o.drawImage(t,r.left+a,r.top+s,r.width,r.height,a,s,e.width,e.height)}return e}(r,s,a,d,c)}return null}(e,t,i.current,o.current,r):null}}})),n().createElement(n().Fragment,null,n().createElement("canvas",{className:"advanced-cropper-canvas",ref:i}),n().createElement("canvas",{className:"advanced-cropper-canvas",ref:o}))}));Pt.displayName="CropperCanvas";var Nt=function(e){function r(r){var n=e.call(this,r)||this;return n.processMove=function(e,t){var r,i=n.container.current;if(i&&n.touches.length){var o=i.getBoundingClientRect(),a=o.left,s=o.top;if(1===n.touches.length&&1===t.length&&n.props.onMove){var c={left:Math.abs(t[0].clientX-n.anchor.left-a)<Math.abs(n.touches[0].clientX-n.anchor.left-a),top:Math.abs(t[0].clientY-n.anchor.top-s)<Math.abs(n.touches[0].clientY-n.anchor.top-s)},l={left:0,top:0};n.props.useAnchor&&c.left||(l.left=t[0].clientX-n.touches[0].clientX),n.props.useAnchor&&c.top||(l.top=t[0].clientY-n.touches[0].clientY),null===(r=n.props)||void 0===r||r.onMove(l,e),n.touches=x([],y(t),!1)}}},n.processEnd=function(){var e=n.props,t=e.onMoveEnd,r=e.onLeave;!n.props.disabled&&n.touches.length&&(null==t||t()),n.hovered&&(null==r||r(),n.hovered=!1),n.touches=[]},n.initAnchor=function(e){var t=n.container.current;if(t){var r=t.getBoundingClientRect(),i=r.left,o=r.top;n.anchor={left:e.clientX-i,top:e.clientY-o}}},n.onMouseOver=function(){var e=n.props,t=e.onEnter,r=e.disabled;n.hovered||r||(n.hovered=!0,null==t||t())},n.onMouseLeave=function(){var e=n.props.onLeave;n.hovered&&!n.touches.length&&(n.hovered=!1,null==e||e())},n.onTouchStart=function(e){var t=n.props,r=t.onEnter,i=t.onMoveStart,o=t.disabled;if(e.cancelable){n.touches=Array.from(e.touches);var a=!o&&1===e.touches.length;a&&(n.touches=Array.from(e.touches),null==i||i()),n.hovered||o||(n.hovered=!0,null==r||r()),(n.started||a)&&(e.preventDefault(),e.stopPropagation())}},n.onTouchEnd=function(){n.started=!1,n.processEnd()},n.onTouchMove=function(e){n.touches.length>=1&&(n.started?(n.processMove(e,Array.from(e.touches)),e.preventDefault(),e.stopPropagation()):T({left:n.touches[0].clientX,top:n.touches[0].clientY},{left:e.touches[0].clientX,top:e.touches[0].clientY})>(n.props.activationDistance||0)&&(n.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),n.started=!0))},n.onMouseDown=function(e){var t=n.props,r=t.onMoveStart;if(!t.disabled&&0===e.button){var i={clientX:e.clientX,clientY:e.clientY};n.touches=[i],n.initAnchor(i),e.stopPropagation(),null==r||r()}},n.onMouseMove=function(e){!n.props.disabled&&n.touches.length&&(n.processMove(e,[{clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},n.onMouseUp=function(){n.processEnd()},n.touches=[],n.hovered=!1,n.started=!1,n.anchor={left:0,top:0},n.container=(0,t.createRef)(),n}return f(r,e),r.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd);var e=this.container.current;e&&(e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("mousedown",this.onMouseDown))},r.prototype.componentDidMount=function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1});var e=this.container.current;e&&(e.addEventListener("touchstart",this.onTouchStart,{passive:!1}),e.addEventListener("mousedown",this.onMouseDown,{passive:!1}))},r.prototype.componentDidUpdate=function(e){this.props.disabled&&!e.disabled&&(this.touches=[])},r.prototype.render=function(){var e=this.props,t=e.children,r=e.className;return n().createElement("div",{className:S()("advanced-cropper-draggable-element",r),ref:this.container,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave},t)},r.defaultProps={disabled:!1,activationDistance:30,useAnchor:!0,rerender:!0},r}(t.Component),It=function(e){var t=e.position,r=e.className,i=e.disabled,o=e.onDrag,a=e.onDragEnd,s=e.onLeave,c=e.onEnter,l=e.children;return n().createElement(Nt,{className:S()(["advanced-cropper-line-wrapper",t&&"advanced-cropper-line-wrapper--".concat(t),r]),disabled:i,onMove:o,onMoveEnd:a,onLeave:s,onEnter:c,activationDistance:0},n().createElement("div",{className:S()(["advanced-cropper-line-wrapper__content",t&&"advanced-cropper-line-wrapper__content--".concat(t)])},l))},Ht=function(e){var r,i,o=e.position,a=e.hoverClassName,s=e.wrapperClassName,c=e.defaultClassName,l=e.disabled,d=e.onMove,h=e.onMoveEnd,u=y((0,t.useState)(!1),2),p=u[0],m=u[1];return n().createElement(It,{className:S()("advanced-cropper-simple-line-wrapper",s,(r={},r["advanced-cropper-simple-line-wrapper--".concat(o)]=!!o,r)),position:o,disabled:l,onDrag:d,onDragEnd:h,onLeave:function(){m(!1)},onEnter:function(){m(!0)}},n().createElement("div",{className:S()("advanced-cropper-simple-line",p&&"advanced-cropper-simple-line--hover",c,p&&a,(i={},i["advanced-cropper-simple-line--".concat(o)]=!!o,i))}))},Ot=function(e){var t=e.horizontalPosition,r=e.verticalPosition,i=e.className,o=e.disabled,a=e.onDrag,s=e.onDragEnd,c=e.onLeave,l=e.onEnter,d=e.children,h=e.style,u=t||r?A(t,r).snakeCase:null;return n().createElement("div",{style:h,className:S()(i,"advanced-cropper-handler-wrapper",u&&"advanced-cropper-handler-wrapper--".concat(u),o&&"advanced-cropper-handler-wrapper--disabled")},n().createElement(Nt,{className:"advanced-cropper-handler-wrapper__draggable",disabled:o,onMove:a,onMoveEnd:s,onLeave:c,onEnter:l,activationDistance:0},d))},Wt=function(e){var r,i=e.verticalPosition,o=e.horizontalPosition,a=e.hoverClassName,s=e.wrapperClassName,c=e.defaultClassName,l=e.wrapperStyle,d=e.disabled,h=e.onMove,u=e.onMoveEnd,p=y((0,t.useState)(!1),2),m=p[0],f=p[1];return n().createElement(Ot,{style:l,className:S()("advanced-cropper-simple-handler-wrapper",s,i&&"advanced-cropper-simple-handler-wrapper--".concat(i),o&&"advanced-cropper-simple-handler-wrapper--".concat(o),o&&i&&"advanced-cropper-simple-handler-wrapper--".concat(o,"-").concat(i),m&&"advanced-cropper-simple-handler-wrapper--hover"),verticalPosition:i,horizontalPosition:o,disabled:d,onDrag:h,onDragEnd:u,onLeave:function(){f(!1)},onEnter:function(){f(!0)}},n().createElement("div",{className:S()("advanced-cropper-simple-handler",m&&"advanced-cropper-simple-handler--hover",c,m&&a,(r={},r["advanced-cropper-simple-handler--".concat(i)]=!!i,r["advanced-cropper-simple-handler--".concat(o)]=!!o,r["advanced-cropper-simple-handler--".concat(o,"-").concat(i)]=o&&i,r))}))},Tt=["east","west",null],Lt=["south","north",null],Dt=function(e){var r=e.style,i=e.className,o=e.children,a=e.onResize,s=e.onResizeEnd,c=e.handlerComponent,l=void 0===c?Wt:c,d=e.handlers,h=void 0===d?{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}:d,u=e.handlerClassNames,p=void 0===u?{}:u,m=e.handlerWrapperClassNames,f=void 0===m?{}:m,v=e.lines,g=void 0===v?{west:!0,north:!0,east:!0,south:!0}:v,w=e.lineComponent,b=void 0===w?Ht:w,x=e.lineClassNames,C=void 0===x?{}:x,E=e.lineWrapperClassNames,_=void 0===E?{}:E,k=e.disabled,z=void 0!==k&&k,M=e.reference,P=void 0===M?null:M,N=y((0,t.useState)(null),2),I=N[0],H=N[1],O=(0,t.useMemo)((function(){var e=[];return Tt.forEach((function(t){Lt.forEach((function(r){if(t!==r){var n=A(t,r),i=n.snakeCase,o=n.camelCase;i&&o&&e.push({name:o,className:i,verticalPosition:r,horizontalPosition:t})}}))})),e}),[]),W=(0,t.useMemo)((function(){var e=[];return O.forEach((function(t){var r;("west"===(r=t.name)||"south"===r||"north"===r||"east"===r)&&(R(g)?g[t.name]:g)&&e.push({name:t.name,component:b,className:S()(C.default,C[t.name],z&&C.disabled),wrapperClassName:S()("advanced-cropper-bounding-box__line","advanced-cropper-bounding-box__line--".concat(t.name),_.default,_[t.name],z&&_.disabled),hoverClassName:C.hover,verticalPosition:t.verticalPosition,horizontalPosition:t.horizontalPosition,disabled:z})})),e}),[O,g,b,C,_,z]),T=(0,t.useMemo)((function(){var e=[];return O.forEach((function(t){(R(h)?h[t.name]:h)&&e.push({name:t.name,component:l,className:S()(p.default,p[t.name]),containerClassName:S()("advanced-cropper-bounding-box__handler-wrapper","advanced-cropper-bounding-box__handler-wrapper--".concat(t.className)),wrapperClassName:S()("advanced-cropper-bounding-box__handler","advanced-cropper-bounding-box__handler--".concat(t.className),f.default,f[t.name]),hoverClassName:p.hover,verticalPosition:t.verticalPosition,horizontalPosition:t.horizontalPosition,disabled:z})})),e}),[O,h,l,p,f,z]),L=function(e,t){return function(r,n){var i,o={left:r.left,top:r.top};if(!t&&e?i="width":t&&!e&&(i="height"),!z){if(a){var s=A(e,t).camelCase;s&&a(s,o,{reference:I||P,preserveAspectRatio:n&&n.shiftKey,respectDirection:i,compensate:!0})}I||H(P)}}},D=function(){null==s||s(),H(null)};return n().createElement("div",{className:S()("advanced-cropper-bounding-box",i),style:r},o,n().createElement("div",null,W.map((function(e){return n().createElement(e.component,{key:e.name,defaultClassName:e.className,hoverClassName:e.hoverClassName,wrapperClassName:e.wrapperClassName,position:e.name,disabled:e.disabled,onMove:L(e.horizontalPosition,e.verticalPosition),onMoveEnd:D})}))),n().createElement("div",null,T.map((function(e){var t=n().createElement(e.component,{defaultClassName:e.className,hoverClassName:e.hoverClassName,wrapperClassName:e.wrapperClassName,horizontalPosition:e.horizontalPosition,verticalPosition:e.verticalPosition,disabled:e.disabled,onMove:L(e.horizontalPosition,e.verticalPosition),onMoveEnd:D});return n().createElement("div",{key:e.name,className:e.containerClassName},t)}))))},jt=function(e){var t=e.className,r=e.children;return n().createElement("div",{className:S()("advanced-cropper-stencil-overlay",t)},r)},$t=function(e){var r=e.className,i=e.transitions,o=e.children,a=g(e,["className","transitions","children"]),s=(0,t.useRef)(null),c=(0,t.useRef)(a),l=y((0,t.useState)(a),2),d=l[0],h=l[1],u=y(function(e){void 0===e&&(e=null);var r=(0,t.useRef)(new pt),n=y((0,t.useState)(!1),2),i=n[0],o=n[1];return[function(t){e&&e.active?r.current.start(v(v({},e),{onStart:function(){o(!0)},onProgress:function(e){t(e)},onStop:function(){o(!1)}})):r.current.active||t(1)},i]}(i),2),p=u[0],m=u[1];(0,t.useLayoutEffect)((function(){if(!F(d,a)){h(a);var e=m?v({},c.current):d;p((function(t){["left","top","height","width"].forEach((function(r){var n=a[r],i=e[r];c.current[r]=H(i)&&H(n)?i+(n-i)*t:n})),s.current&&(s.current.style.width="".concat(c.current.width,"px"),s.current.style.height="".concat(c.current.height,"px"),s.current.style.transform="translate3d(".concat(c.current.left,"px, ").concat(c.current.top,"px, 0px)"))}))}}),[d,m,a.width,a.height,a.top,a.left]);var f=m?c.current:a,w={left:0,top:0,width:"".concat(f.width,"px"),height:"".concat(f.height,"px"),transform:"translate3d(".concat(f.left,"px, ").concat(f.top,"px, 0px)")};return n().createElement("div",{ref:s,className:S()("advanced-cropper-artificial-transition",r),style:w},o)},Bt=function(e){var t=e.className,r=e.transitions,i=e.width,o=e.height,a=e.left,s=e.top,c=e.children;return n().createElement($t,{className:S()("advanced-cropper-stencil-wrapper",t),transitions:r,width:i,height:o,top:s,left:a},c)},Ft=function(e){var r=e.columns,i=void 0===r?3:r,o=e.rows,a=void 0===o?3:o,s=e.visible,c=void 0!==s&&s,l=e.className,d=[],h=y((0,t.useState)(i),2),u=h[0],p=h[1],m=y((0,t.useState)(a),2),f=m[0],v=m[1];xt((function(){c&&(v(a),p(i))}),[c,i,a]);for(var g=0;g<f;g++){for(var w=[],b=0;b<u;b++)w.push(n().createElement("div",{key:b,className:S()("advanced-cropper-stencil-grid__cell",0===g&&"advanced-cropper-stencil-grid__cell--top",g===f-1&&"advanced-cropper-stencil-grid__cell--bottom",0===b&&"advanced-cropper-stencil-grid__cell--left",b===u-1&&"advanced-cropper-stencil-grid__cell--right")}));d.push(n().createElement("div",{key:g,className:"advanced-cropper-stencil-grid__row"},w))}return n().createElement("div",{className:S()("advanced-cropper-stencil-grid",c&&"advanced-cropper-stencil-grid--visible",l)},d)},Ut=(0,t.forwardRef)((function(e,r){var i=e.cropper,o=e.coordinates,a=e.aspectRatio,s=e.minAspectRatio,c=e.maxAspectRatio,l=e.handlerComponent,d=void 0===l?Wt:l,h=e.handlers,u=void 0===h?{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}:h,p=e.handlerClassNames,m=void 0===p?{}:p,f=e.handlerWrapperClassNames,v=void 0===f?{}:f,g=e.lines,w=void 0===g?{west:!0,north:!0,east:!0,south:!0}:g,b=e.lineComponent,y=void 0===b?Ht:b,x=e.lineClassNames,C=void 0===x?{}:x,A=e.lineWrapperClassNames,E=void 0===A?{}:A,_=e.resizable,k=void 0===_||_,M=e.movable,R=void 0===M||M,P=e.grid,N=e.gridClassName,I=e.className,H=e.movingClassName,O=e.resizingClassName,W=e.previewClassName,T=e.boundingBoxClassName,L=e.overlayClassName,D=e.draggableAreaClassName,j=i.getState(),$=i.getTransitions(),B=i.getInteractions();(0,t.useImperativeHandle)(r,(function(){return{aspectRatio:ge(a||{minimum:s,maximum:c})}}));var F=o?z(o)?o(j):o:_e(j),U=F.width,V=F.height,Y=F.left,X=F.top;return j&&n().createElement(Bt,{className:S()("advanced-cropper-rectangle-stencil",I,B.moveCoordinates&&H,B.resizeCoordinates&&O,{"advanced-cropper-rectangle-stencil--movable":R,"advanced-cropper-rectangle-stencil--moving":B.moveCoordinates,"advanced-cropper-rectangle-stencil--resizable":k,"advanced-cropper-rectangle-stencil--resizing":B.resizeCoordinates}),width:U,height:V,left:Y,top:X,transitions:$},n().createElement(Dt,{reference:j.coordinates,className:S()(T,"advanced-cropper-rectangle-stencil__bounding-box"),handlers:u,handlerComponent:d,handlerClassNames:m,handlerWrapperClassNames:v,lines:w,lineComponent:y,lineClassNames:C,lineWrapperClassNames:E,onResize:function(e,t,r){i&&k&&i.resizeCoordinates(e,t,r)},onResizeEnd:function(){i&&i.resizeCoordinatesEnd()},disabled:!k},n().createElement(Nt,{disabled:!R,onMove:function(e){i&&R&&i.moveCoordinates(e)},onMoveEnd:function(){i&&i.moveCoordinatesEnd()},className:S()("advanced-cropper-rectangle-stencil__draggable-area",D)},n().createElement(jt,{className:S()("advanced-cropper-rectangle-stencil__overlay",L)},P&&n().createElement(Ft,{visible:i.hasInteractions(),columns:B.transformImage.rotate?9:3,rows:B.transformImage.rotate?9:3,className:S()("advanced-cropper-rectangle-stencil__grid",N)}),n().createElement("div",{className:S()("advanced-cropper-rectangle-stencil__preview",W)})))))}));Ut.displayName="RectangleStencil";var Vt,Yt=function(){function e(e){var t=e.active;this.active=t,this.defaultPrevented=!1}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e}(),Xt=function(e){function r(r){var n=e.call(this,r)||this;return n.processMove=function(e){var t=n.props,r=t.onTransform,i=t.touchScale,o=t.touchMove,a=t.touchRotate,s=n.container.current;s&&r&&(r(function(e,t,r,n){var i,o,a;if(void 0===n&&(n={}),1===t.length&&1===e.length)n.move&&(i={left:t[0].clientX-e[0].clientX,top:t[0].clientY-e[0].clientY});else if(e.length>1){var s=tt(t,r),c=tt(e,r);if(n.rotate&&2===t.length&&2===e.length){var l={left:[e[0].clientX-e[1].clientX,t[0].clientX-t[1].clientX],top:[e[0].clientY-e[1].clientY,t[0].clientY-t[1].clientY]},d=l.left[0]*l.top[1]-l.left[1]*l.top[0],h=l.left[0]*l.left[1]+l.top[0]*l.top[1];if(!L(h,0)&&!L(d,0)){var u=-180*Math.atan2(d,h)/Math.PI;a={center:c.centerMass,angle:u}}}n.move&&(i={left:s.centerMass.left-c.centerMass.left,top:s.centerMass.top-c.centerMass.top}),n.scale&&(o={factor:c.spread/s.spread,center:c.centerMass})}return{move:i,scale:o,rotate:a}}(e,n.touches,s,{scale:i,rotate:a,move:o})),n.touches=e)},n.processEnd=function(){var e=n.props.onTransformEnd;n.transforming&&(n.transforming=!1,e&&e())},n.processStart=function(){n.transforming=!0,n.debouncedProcessEnd.clear()},n.processEvent=function(e){var t=n.props,r=t.onEvent,i=t.disabled,o=new Yt({active:n.transforming});return r?r(o,e):(e.preventDefault(),e.stopPropagation()),!i&&!o.defaultPrevented},n.onWheel=function(e){var t=n.props,r=t.onTransform,i=t.wheelScale,o=n.container.current;i&&n.processEvent(e)&&(n.processStart(),r&&o&&r(function(e,t,r){void 0===r&&(r=.1);var n,i,o=t.getBoundingClientRect(),a=o.left,s=o.top;return{scale:{factor:1-r*(n=e.deltaY||e.detail||e.wheelDelta,0==(i=+n)||O(i)?i:i>0?1:-1),center:{left:e.clientX-a,top:e.clientY-s}}}}(e,o,!0===i?.1:i.ratio)),n.touches.length||n.debouncedProcessEnd())},n.onTouchStart=function(e){var t=n.props,r=t.touchMove,i=t.touchScale,o=t.touchRotate;if(e.cancelable&&(r||(i||o)&&e.touches.length>1)&&n.processEvent(e)){var a=n.container.current;if(a){var s=a.getBoundingClientRect(),c=s.left,l=s.top,d=s.bottom,h=s.right;n.touches=Array.from(e.touches).filter((function(e){return e.clientX>c&&e.clientX<h&&e.clientY>l&&e.clientY<d}))}}},n.onTouchEnd=function(e){0===e.touches.length&&(n.touches=[],n.processEnd())},n.onTouchMove=function(e){if(n.touches.length){var t=x([],y(e.touches),!1).filter((function(e){return!e.identifier||n.touches.find((function(t){return t.identifier===e.identifier}))}));n.processEvent(e)&&(n.processMove(t),n.processStart())}},n.onMouseDown=function(e){if(n.props.mouseMove&&"buttons"in e&&1===e.buttons&&n.processEvent(e)){var t={clientX:e.clientX,clientY:e.clientY};n.touches=[t],n.processStart()}},n.onMouseMove=function(e){n.touches.length&&n.processEvent(e)&&n.processMove([{clientX:e.clientX,clientY:e.clientY}])},n.onMouseUp=function(){n.touches=[],n.processEnd()},n.transforming=!1,n.touches=[],n.anchor={left:0,top:0},n.container=(0,t.createRef)(),n.debouncedProcessEnd=U(n.processEnd,r.timeout),n}return f(r,e),r.prototype.shouldComponentUpdate=function(){return!0},r.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd);var e=this.container.current;e&&(e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("wheel",this.onWheel))},r.prototype.componentDidMount=function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1});var e=this.container.current;e&&(e.addEventListener("touchstart",this.onTouchStart,{passive:!1}),e.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}))},r.prototype.render=function(){var e=this.props,t=e.className,r=e.children,i=e.style;return n().createElement("div",{className:t,style:i,ref:this.container},r)},r.defaultProps={touchMove:!0,mouseMove:!0,touchScale:!0,touchRotate:!1,wheelScale:!0,timeout:500},r}(t.Component),Gt=function(e){var r=e.scaleImage,i=void 0===r||r,o=e.moveImage,a=void 0===o||o,s=e.rotateImage,c=void 0!==s&&s,l=e.children,d=e.className,h=e.style,u=e.cropper,p=e.timeout,m=u.getTransitions(),f=function(e){return(0,t.useMemo)((function(){return P(e,{touch:!0},{touch:!1})}),[e])}(c),v=function(e){return(0,t.useMemo)((function(){return P(e,{touch:!0,wheel:{ratio:.1}},{touch:!1,wheel:!1})}),[e])}(i),g=function(e){return(0,t.useMemo)((function(){return P(e,{touch:!0,mouse:!0},{touch:!1,mouse:!1})}),[e])}(a);return n().createElement(Xt,{className:d,style:h,onTransform:u.transformImage,onTransformEnd:u.transformImageEnd,touchMove:g.touch,mouseMove:g.mouse,touchScale:v.touch,wheelScale:v.wheel,touchRotate:f.touch,disabled:m.active,timeout:p},l)},qt=(Vt=function(e,r){var i=e.style,o=e.className,a=e.stencilComponent,s=void 0===a?Ut:a,c=e.stencilConstraints,l=void 0===c?st:c,d=e.stencilProps,h=void 0===d?{}:d,u=e.wrapperComponent,p=void 0===u?zt:u,m=e.wrapperProps,f=void 0===m?{}:m,w=e.backgroundComponent,b=void 0===w?Rt:w,y=e.backgroundProps,x=void 0===y?{}:y,C=e.backgroundClassName,A=e.backgroundWrapperComponent,E=void 0===A?Gt:A,_=e.backgroundWrapperProps,k=void 0===_?{}:_,z=e.boundaryClassName,M=e.boundarySizeAlgorithm,R=e.boundaryStretchAlgorithm,P=e.canvas,N=void 0===P||P,I=e.crossOrigin,H=void 0===I||I,O=e.settings,W=g(e,["style","className","stencilComponent","stencilConstraints","stencilProps","wrapperComponent","wrapperProps","backgroundComponent","backgroundProps","backgroundClassName","backgroundWrapperComponent","backgroundWrapperProps","boundaryClassName","boundarySizeAlgorithm","boundaryStretchAlgorithm","canvas","crossOrigin","settings"]),T=(0,t.useRef)(null),L=Et((function(){return v(v({},W),{crossOrigin:H,stencilProps:h,canvas:N,settings:v(v({},O),l(O,v(v({},h),T.current)))})})),D=L.cropper,j=L.image,$=L.refs,B=s,F=p,U=E,V=b;(0,t.useImperativeHandle)(r,(function(){return D}));var Y={loading:D.isLoading(),loaded:D.isLoaded()};return n().createElement(F,v({},f,{className:S()("advanced-cropper",o),cropper:D,style:i},Y),n().createElement(_t,{ref:$.boundary,stretchAlgorithm:R,sizeAlgorithm:M,className:S()("advanced-cropper__boundary",z),stretcherClassName:S()("advanced-cropper__stretcher")},n().createElement(U,v({},k,{cropper:D,className:"advanced-cropper__background-wrapper"}),D.getState()&&n().createElement(V,v({},x,{ref:$.image,crossOrigin:H,cropper:D,className:S()("advanced-cropper__background",C)})),n().createElement(B,v({},h,{ref:T,cropper:D,image:j}))),N&&n().createElement(Pt,{ref:$.canvas})))},(0,t.forwardRef)(Vt)),Zt=["transformImage","moveCoordinates","resizeCoordinates","defaultCoordinates","defaultVisibleArea","areaPositionRestrictions","areaSizeRestrictions","sizeRestrictions","positionRestrictions","aspectRatio","minWidth","minHeight","maxWidth","maxHeight","defaultSize","defaultPosition","defaultTransforms","imageRestriction","priority"];function Qt(e,t){void 0===t&&(t=Zt);var r={settings:{},props:{}};return Object.keys(e).forEach((function(n){t.some((function(e){return e===n}))?r.settings[n]=e[n]:r.props[n]=e[n]})),r}function Kt(e,t){var r=st({},t);return{stencilSize:function(t,n){var i,o,a=z(e.stencilSize)?e.stencilSize(t,n):e.stencilSize;return Oe(v(v({},a),{aspectRatio:(i=r.aspectRatio,o=ge(oe(a)),o?i?{minimum:Math.min(i.maximum,Math.max(i.minimum,o.minimum)),maximum:Math.max(i.minimum,Math.min(i.maximum,o.maximum))}:o:i)}))}}}function Jt(e,t){var r=e.boundary,n=z(t.stencilSize)?t.stencilSize(e,t):t.stencilSize;return(n.width>r.width||n.height>r.height)&&(n=Oe({sizeRestrictions:{maxWidth:r.width,maxHeight:r.height,minWidth:0,minHeight:0},width:n.width,height:n.height,aspectRatio:{minimum:oe(n),maximum:oe(n)}})),n}function er(e,t){var r=Jt(e,v(v({},t),{stencilSize:t.stencilSize})),n=xe(e,t);return{maxWidth:n.maxWidth*r.width/e.boundary.width,maxHeight:n.maxHeight*r.height/e.boundary.height,minWidth:0,minHeight:0}}function tr(e,t){var r,n,i=e.imageSize,o=e.visibleArea,a=e.boundary,s=Se(e,t),c=ke(e,t),l=z(t.stencilSize)?t.stencilSize(e,t):t.stencilSize,d=o||i;return oe(d)>oe(a)?n=(r=l.height*d.height/a.height)*oe(l):r=(n=l.width*d.width/a.width)/oe(l),Oe({width:n,height:r,aspectRatio:c,sizeRestrictions:s})}function rr(e,t){var r=oe(Jt(e,t));return{minimum:r,maximum:r}}function nr(e,t,r){return r&&r.immediately?function(e,t){if(ye(e)){var r=He(e),n=Jt(e,t);r.visibleArea=ie(r.visibleArea,r.coordinates.width*r.boundary.width/(r.visibleArea.width*n.width));var i=ce(r.visibleArea,xe(r,t));return 1!==i&&(r.visibleArea=ie(r.visibleArea,i),r.coordinates=ie(r.coordinates,i)),r.visibleArea=re(r.visibleArea,Q(K(r.coordinates),K(r.visibleArea))),r.visibleArea=ve(r.visibleArea,Ce(r,t)),r.coordinates=ve(r.coordinates,me(ne(r.visibleArea),Ce(r,t))),r}return e}(e,t):e}var ir=(0,t.forwardRef)((function(e,t){var r=Qt(e,x(x([],y(Zt),!1),["stencilSize"],!1));return n().createElement(qt,v({postProcess:nr,stencilConstraints:Kt},r.props,{settings:v(v({defaultSize:tr,aspectRatio:rr,sizeRestrictions:ct(er)},r.settings),{transformImage:v(v({},r.settings.transformImage),{adjustStencil:!1})}),ref:t}))}));ir.displayName="FixedCropper",(0,t.forwardRef)((function(e,r){var i,o=Qt(e),a=o.props,s=o.settings,c=s.stencilSize,l=s.autoZoom,d=g(s,["stencilSize","autoZoom"]),h=(i=(0,t.useRef)([]),function(e){-1===i.current.indexOf(e)&&i.current.push(e)});return M(l)||(a.postProcess||c?h("prop 'autoZoom' is deprecated now and will be removed, use 'postProcess' prop to pass your auto zoom function."):(h("prop 'autoZoom' is deprecated now and will be removed, use 'postProcess' prop to pass your auto zoom function. The 'postProcess' automatically set to 'hybridAutoZoom'"),a.postProcess=yt)),M(c)?n().createElement(qt,v({},a,{ref:r,settings:d})):(h("prop 'stencilSize' is deprecated for <Cropper/> component now and will be removed, use <FixedCropper/> component instead."),n().createElement(ir,v({ref:r,stencilSize:c},d,a)))})).displayName="CropperComponent";var or=(0,t.forwardRef)((function(e,r){var i=e.cropper,o=e.coordinates,a=e.handlerComponent,s=void 0===a?Wt:a,c=e.handlers,l=void 0===c?{eastNorth:!0,westNorth:!0,westSouth:!0,eastSouth:!0}:c,d=e.handlerClassNames,h=void 0===d?{}:d,u=e.handlerWrapperClassNames,p=void 0===u?{}:u,m=e.lines,f=void 0===m?{west:!0,north:!0,east:!0,south:!0}:m,v=e.lineComponent,g=void 0===v?Ht:v,w=e.lineClassNames,b=void 0===w?{}:w,y=e.lineWrapperClassNames,x=void 0===y?{}:y,C=e.resizable,A=void 0===C||C,E=e.movable,_=void 0===E||E,k=e.grid,M=e.gridClassName,R=e.className,P=e.movingClassName,N=e.resizingClassName,I=e.previewClassName,H=e.boundingBoxClassName,O=e.overlayClassName,W=e.draggableAreaClassName,T=i.getState(),L=i.getTransitions(),D=i.getInteractions();(0,t.useImperativeHandle)(r,(function(){return{aspectRatio:1,boundingBox:"circle"}}));var j=o?z(o)?o(T):o:_e(T),$=j.width,B=j.height,F=j.left,U=j.top;return T&&n().createElement(Bt,{className:S()("advanced-cropper-circle-stencil",R,D.moveCoordinates&&P,D.resizeCoordinates&&N,{"advanced-cropper-circle-stencil--movable":_,"advanced-cropper-circle-stencil--moving":D.moveCoordinates,"advanced-cropper-circle-stencil--resizable":A,"advanced-cropper-circle-stencil--resizing":D.resizeCoordinates}),width:$,height:B,left:F,top:U,transitions:L},n().createElement(Dt,{reference:T.coordinates,className:S()(H,"advanced-cropper-circle-stencil__bounding-box"),handlers:l,handlerComponent:s,handlerClassNames:h,handlerWrapperClassNames:p,lines:f,lineComponent:g,lineClassNames:b,lineWrapperClassNames:x,onResize:function(e,t,r){i&&A&&i.resizeCoordinates(e,t,r)},onResizeEnd:function(){i&&i.resizeCoordinatesEnd()},disabled:!A},n().createElement(Nt,{disabled:!_,onMove:function(e){i&&_&&i.moveCoordinates(e)},onMoveEnd:function(){i&&i.moveCoordinatesEnd()},className:S()("advanced-cropper-circle-stencil__draggable-area",W)},n().createElement(jt,{className:S()("advanced-cropper-circle-stencil__overlay",O)},k&&n().createElement(Ft,{visible:i.hasInteractions(),columns:D.transformImage.rotate?9:3,rows:D.transformImage.rotate?9:3,className:S()("advanced-cropper-circle-stencil__grid",M)}),n().createElement("div",{className:S()("advanced-cropper-circle-stencil__preview",I)})))))}));or.displayName="CircleStencil",(0,t.forwardRef)((function(e,t){var r=e.src,i=e.crossOrigin,o=void 0===i||i,a=g(e,["src","crossOrigin"]);return r?n().createElement("img",v({key:r,ref:t,src:r,className:S()("advanced-cropper-source"),crossOrigin:!0===o?"anonymous":o||void 0},a)):null})).displayName="CropperSource";var ar=function(e){var t=e.children,r=e.cropper,i=e.className,o=e.style;return n().createElement("div",{className:S()(i,"cropper-preview-wrapper"),style:o},n().createElement(kt,{visible:null==r?void 0:r.isLoaded(),className:"cropper-preview-wrapper__fade"},t))},sr=function(e){var t=e.className,r=e.cropper,i=e.crossOrigin,o=void 0===i||i,a=e.size,s=r.getState(),c=r.getTransitions(),l=r.getImage(),d=a&&l&&(null==s?void 0:s.coordinates)?function(e,t,r,n){return void 0===n&&(n=null),e&&t&&t.visibleArea&&t.coordinates?bt(e,t,t.coordinates,oe(t.coordinates)>oe(r)?t.coordinates.width/r.width:t.coordinates.height/r.height,n):{}}(l,s,a,c):{},h=l?l.src:void 0;return h?n().createElement("img",{key:h,className:S()("advanced-cropper-background-image",t),src:h,crossOrigin:!0===o?"anonymous":o||void 0,style:d,onMouseDown:Mt}):null};(0,t.forwardRef)((function(e,r){var i,o,a,s,c=e.className,l=e.contentClassName,d=e.state,h=void 0===d?null:d,u=e.image,p=void 0===u?null:u,m=e.transitions,f=void 0===m?null:m,g=e.backgroundComponent,w=void 0===g?sr:g,b=e.backgroundProps,x=e.backgroundClassName,C=e.wrapperComponent,A=void 0===C?ar:C,E=e.wrapperProps,_=e.loaded,k=void 0===_||_,z=e.loading,M=void 0!==z&&z,R=e.style,P=e.cropper,N=St(),I=(0,t.useRef)(null),H=P||{current:{getState:function(){return h},getTransitions:function(){return f},getImage:function(){return p},isLoaded:function(){return k},isLoading:function(){return M}}},O=y((0,t.useState)(null),2),W=O[0],T=O[1],L=null===(o=null===(i=H.current)||void 0===i?void 0:i.getState())||void 0===o?void 0:o.coordinates,j=null===(s=null===(a=H.current)||void 0===a?void 0:a.getImage())||void 0===s?void 0:s.src,$=W?{width:"".concat(W.width,"px"),height:"".concat(W.height,"px")}:{},B=function(){I.current&&L&&I.current.stretchTo(L).then((function(e){e&&L?D(oe(L),oe(e))?T({width:e.width,height:e.width/oe(L)}):T({width:e.height*oe(L),height:e.height}):T(null)})),N()};At(B),(0,t.useLayoutEffect)(B,[null==L?void 0:L.height,null==L?void 0:L.width]),(0,t.useImperativeHandle)(r,(function(){return{refresh:N}}));var F=A,U=w;return n().createElement(F,v({},E,{className:S()(c,"advanced-cropper-preview"),cropper:H.current,style:R}),n().createElement(_t,{ref:I,className:"advanced-cropper-preview__boundary",contentClassName:"advanced-cropper-preview__boundary-content",stretchAlgorithm:ft},n().createElement("div",{className:S()(l,"advanced-cropper-preview__content"),style:$},H.current&&n().createElement(U,v({},b,{cropper:H.current,size:W,className:S()(x,"advanced-cropper-preview__image",j&&"advanced-cropper-preview__image--visible")})))))}));var cr=r(864),lr=r(774),dr=r.n(lr),hr=function(e){function t(e,n,c,l,u){for(var p,m,f,v,y,C=0,S=0,A=0,E=0,_=0,N=0,H=f=p=0,W=0,T=0,L=0,D=0,j=c.length,$=j-1,B="",F="",U="",V="";W<j;){if(m=c.charCodeAt(W),W===$&&0!==S+E+A+C&&(0!==S&&(m=47===S?10:47),E=A=C=0,j++,$++),0===S+E+A+C){if(W===$&&(0<T&&(B=B.replace(h,"")),0<B.trim().length)){switch(m){case 32:case 9:case 59:case 13:case 10:break;default:B+=c.charAt(W)}m=59}switch(m){case 123:for(p=(B=B.trim()).charCodeAt(0),f=1,D=++W;W<j;){switch(m=c.charCodeAt(W)){case 123:f++;break;case 125:f--;break;case 47:switch(m=c.charCodeAt(W+1)){case 42:case 47:e:{for(H=W+1;H<$;++H)switch(c.charCodeAt(H)){case 47:if(42===m&&42===c.charCodeAt(H-1)&&W+2!==H){W=H+1;break e}break;case 10:if(47===m){W=H+1;break e}}W=H}}break;case 91:m++;case 40:m++;case 34:case 39:for(;W++<$&&c.charCodeAt(W)!==m;);}if(0===f)break;W++}if(f=c.substring(D,W),0===p&&(p=(B=B.replace(d,"").trim()).charCodeAt(0)),64===p){switch(0<T&&(B=B.replace(h,"")),m=B.charCodeAt(1)){case 100:case 109:case 115:case 45:T=n;break;default:T=P}if(D=(f=t(n,T,f,m,u+1)).length,0<I&&(y=s(3,f,T=r(P,B,L),n,z,k,D,m,u,l),B=T.join(""),void 0!==y&&0===(D=(f=y.trim()).length)&&(m=0,f="")),0<D)switch(m){case 115:B=B.replace(x,a);case 100:case 109:case 45:f=B+"{"+f+"}";break;case 107:f=(B=B.replace(g,"$1 $2"))+"{"+f+"}",f=1===R||2===R&&o("@"+f,3)?"@-webkit-"+f+"@"+f:"@"+f;break;default:f=B+f,112===l&&(F+=f,f="")}else f=""}else f=t(n,r(n,B,L),f,l,u+1);U+=f,f=L=T=H=p=0,B="",m=c.charCodeAt(++W);break;case 125:case 59:if(1<(D=(B=(0<T?B.replace(h,""):B).trim()).length))switch(0===H&&(p=B.charCodeAt(0),45===p||96<p&&123>p)&&(D=(B=B.replace(" ",":")).length),0<I&&void 0!==(y=s(1,B,n,e,z,k,F.length,l,u,l))&&0===(D=(B=y.trim()).length)&&(B="\0\0"),p=B.charCodeAt(0),m=B.charCodeAt(1),p){case 0:break;case 64:if(105===m||99===m){V+=B+c.charAt(W);break}default:58!==B.charCodeAt(D-1)&&(F+=i(B,p,m,B.charCodeAt(2)))}L=T=H=p=0,B="",m=c.charCodeAt(++W)}}switch(m){case 13:case 10:47===S?S=0:0===1+p&&107!==l&&0<B.length&&(T=1,B+="\0"),0<I*O&&s(0,B,n,e,z,k,F.length,l,u,l),k=1,z++;break;case 59:case 125:if(0===S+E+A+C){k++;break}default:switch(k++,v=c.charAt(W),m){case 9:case 32:if(0===E+C+S)switch(_){case 44:case 58:case 9:case 32:v="";break;default:32!==m&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===E+S+C&&(T=L=1,v="\f"+v);break;case 108:if(0===E+S+C+M&&0<H)switch(W-H){case 2:112===_&&58===c.charCodeAt(W-3)&&(M=_);case 8:111===N&&(M=N)}break;case 58:0===E+S+C&&(H=W);break;case 44:0===S+A+E+C&&(T=1,v+="\r");break;case 34:case 39:0===S&&(E=E===m?0:0===E?m:E);break;case 91:0===E+S+A&&C++;break;case 93:0===E+S+A&&C--;break;case 41:0===E+S+C&&A--;break;case 40:0===E+S+C&&(0===p&&(2*_+3*N==533||(p=1)),A++);break;case 64:0===S+A+E+C+H+f&&(f=1);break;case 42:case 47:if(!(0<E+C+A))switch(S){case 0:switch(2*m+3*c.charCodeAt(W+1)){case 235:S=47;break;case 220:D=W,S=42}break;case 42:47===m&&42===_&&D+2!==W&&(33===c.charCodeAt(D+2)&&(F+=c.substring(D,W+1)),v="",S=0)}}0===S&&(B+=v)}N=_,_=m,W++}if(0<(D=F.length)){if(T=n,0<I&&void 0!==(y=s(2,F,T,e,z,k,D,l,u,l))&&0===(F=y).length)return V+F+U;if(F=T.join(",")+"{"+F+"}",0!=R*M){switch(2!==R||o(F,2)||(M=0),M){case 111:F=F.replace(b,":-moz-$1")+F;break;case 112:F=F.replace(w,"::-webkit-input-$1")+F.replace(w,"::-moz-$1")+F.replace(w,":-ms-input-$1")+F}M=0}}return V+F+U}function r(e,t,r){var i=t.trim().split(f);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var c=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[c++]=n(e[l]+" ",i[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===R||2===R&&o(c,1)?"-webkit-"+c+c:c}if(0===R||2===R&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(_,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return p.test(a)?a.replace(u,":-webkit-")+a.replace(u,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(y,"tb");break;case 232:c=a.replace(y,"tb-rl");break;case 220:c=a.replace(y,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),H(2!==t?n:n.replace(A,"$1"),r,t)}function a(e,t){var r=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(C," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,i,o,a,s,c,d){for(var h,u=0,p=t;u<I;++u)switch(h=N[u].call(l,e,p,r,n,i,o,a,s,c,d)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==t)return p}function c(e){return void 0!==(e=e.prefix)&&(H=null,e?"function"!=typeof e?R=1:(R=2,H=e):R=0),c}function l(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<I){var i=s(-1,r,n,n,z,k,0,0,0,0);void 0!==i&&"string"==typeof i&&(r=i)}var o=t(P,n,r,0,0);return 0<I&&void 0!==(i=s(-2,o,n,n,z,k,o.length,0,0,0))&&(o=i),M=0,k=z=1,o}var d=/^\0+/g,h=/[\0\r\f]/g,u=/: */g,p=/zoo|gra/,m=/([,: ])(transform)/g,f=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,b=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,S=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,k=1,z=1,M=0,R=1,P=[],N=[],I=0,H=null,O=0;return l.use=function e(t){switch(t){case void 0:case null:I=N.length=0;break;default:if("function"==typeof t)N[I++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else O=0|!!t}return e},l.set=c,void 0!==e&&c(e),l},ur={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pr=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mr=function(e){var t=Object.create(null);return function(e){return void 0===t[e]&&(t[e]=(r=e,pr.test(r)||111===r.charCodeAt(0)&&110===r.charCodeAt(1)&&r.charCodeAt(2)<91)),t[e];var r}}(),fr=r(679),vr=r.n(fr);function gr(){return(gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var wr=function(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r},br=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,cr.typeOf)(e)},yr=Object.freeze([]),xr=Object.freeze({});function Cr(e){return"function"==typeof e}function Sr(e){return e.displayName||e.name||"Component"}function Ar(e){return e&&"string"==typeof e.styledComponentId}var Er="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",_r="undefined"!=typeof window&&"HTMLElement"in window,kr=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY);function zr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var Mr=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)(i<<=1)<0&&zr(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=n;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,o=n;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),Rr=new Map,Pr=new Map,Nr=1,Ir=function(e){if(Rr.has(e))return Rr.get(e);for(;Pr.has(Nr);)Nr++;var t=Nr++;return Rr.set(e,t),Pr.set(t,e),t},Hr=function(e){return Pr.get(e)},Or=function(e,t){t>=Nr&&(Nr=t+1),Rr.set(e,t),Pr.set(t,e)},Wr="style["+Er+'][data-styled-version="5.3.6"]',Tr=new RegExp("^"+Er+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Lr=function(e,t,r){for(var n,i=r.split(","),o=0,a=i.length;o<a;o++)(n=i[o])&&e.registerName(t,n)},Dr=function(e,t){for(var r=(t.textContent||"").split("/*!sc*/\n"),n=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var s=a.match(Tr);if(s){var c=0|parseInt(s[1],10),l=s[2];0!==c&&(Or(l,c),Lr(e,l,s[3]),e.getTag().insertRules(c,n)),n.length=0}else n.push(a)}}},jr=function(){return r.nc},$r=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(Er))return n}}(r),o=void 0!==i?i.nextSibling:null;n.setAttribute(Er,"active"),n.setAttribute("data-styled-version","5.3.6");var a=jr();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},Br=function(){function e(e){var t=this.element=$r(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}zr(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Fr=function(){function e(e){var t=this.element=$r(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ur=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Vr=_r,Yr={isServer:!_r,useCSSOMInjection:!kr},Xr=function(){function e(e,t,r){void 0===e&&(e=xr),void 0===t&&(t={}),this.options=gr({},Yr,{},e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&_r&&Vr&&(Vr=!1,function(e){for(var t=document.querySelectorAll(Wr),r=0,n=t.length;r<n;r++){var i=t[r];i&&"active"!==i.getAttribute(Er)&&(Dr(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Ir(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(gr({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,i=t.target,e=r?new Ur(i):n?new Br(i):new Fr(i),new Mr(e)));var e,t,r,n,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Ir(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(Ir(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Ir(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=0;i<r;i++){var o=Hr(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var c=Er+".g"+i+'[id="'+o+'"]',l="";void 0!==a&&a.forEach((function(e){e.length>0&&(l+=e+",")})),n+=""+s+c+'{content:"'+l+'"}/*!sc*/\n'}}}return n}(this)},e}(),Gr=/(a)(d)/gi,qr=function(e){return String.fromCharCode(e+(e>25?39:97))};function Zr(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=qr(t%52)+r;return(qr(t%52)+r).replace(Gr,"$1-$2")}var Qr=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Kr=function(e){return Qr(5381,e)};function Jr(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Cr(r)&&!Ar(r))return!1}return!0}var en=Kr("5.3.6"),tn=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&Jr(e),this.componentId=t,this.baseHash=Qr(en,t),this.baseStyle=r,Xr.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))i.push(this.staticRulesId);else{var o=bn(this.rules,e,t,r).join(""),a=Zr(Qr(this.baseHash,o)>>>0);if(!t.hasNameForId(n,a)){var s=r(o,"."+a,void 0,n);t.insertRules(n,a,s)}i.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,l=Qr(this.baseHash,r.hash),d="",h=0;h<c;h++){var u=this.rules[h];if("string"==typeof u)d+=u;else if(u){var p=bn(u,e,t,r),m=Array.isArray(p)?p.join(""):p;l=Qr(l,m+h),d+=m}}if(d){var f=Zr(l>>>0);if(!t.hasNameForId(n,f)){var v=r(d,"."+f,void 0,n);t.insertRules(n,f,v)}i.push(f)}}return i.join(" ")},e}(),rn=/^\s*\/\/.*$/gm,nn=[":","[",".","#"];function on(e){var t,r,n,i,o=void 0===e?xr:e,a=o.options,s=void 0===a?xr:a,c=o.plugins,l=void 0===c?yr:c,d=new hr(s),h=[],u=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,i,o,a,s,c,l,d,h){switch(r){case 1:if(0===d&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===l)return n+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+n),"";default:return n+(0===h?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,n,o){return 0===n&&-1!==nn.indexOf(o[r.length])||o.match(i)?e:"."+t};function m(e,o,a,s){void 0===s&&(s="&");var c=e.replace(rn,""),l=o&&a?a+" "+o+" { "+c+" }":c;return t=s,r=o,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),d(a||!o?"":o,l)}return d.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(r)>0&&(i[0]=i[0].replace(n,p))},u,function(e){if(-2===e){var t=h;return h=[],t}}])),m.hash=l.length?l.reduce((function(e,t){return t.name||zr(15),Qr(e,t.name)}),5381).toString():"",m}var an=n().createContext(),sn=(an.Consumer,n().createContext()),cn=(sn.Consumer,new Xr),ln=on();function dn(){return(0,t.useContext)(an)||cn}function hn(e){var r=(0,t.useState)(e.stylisPlugins),i=r[0],o=r[1],a=dn(),s=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=(0,t.useMemo)((function(){return on({options:{prefix:!e.disableVendorPrefixes},plugins:i})}),[e.disableVendorPrefixes,i]);return(0,t.useEffect)((function(){dr()(i,e.stylisPlugins)||o(e.stylisPlugins)}),[e.stylisPlugins]),n().createElement(an.Provider,{value:s},n().createElement(sn.Provider,{value:c},e.children))}var un=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=ln);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return zr(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ln),this.name+e.hash},e}(),pn=/([A-Z])/,mn=/([A-Z])/g,fn=/^ms-/,vn=function(e){return"-"+e.toLowerCase()};function gn(e){return pn.test(e)?e.replace(mn,vn).replace(fn,"-ms-"):e}var wn=function(e){return null==e||!1===e||""===e};function bn(e,t,r,n){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=bn(e[a],t,r,n))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return wn(e)?"":Ar(e)?"."+e.styledComponentId:Cr(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:bn(e(t),t,r,n):e instanceof un?r?(e.inject(r,n),e.getName(n)):e:br(e)?function e(t,r){var n,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!wn(t[a])&&(Array.isArray(t[a])&&t[a].isCss||Cr(t[a])?o.push(gn(a)+":",t[a],";"):br(t[a])?o.push.apply(o,e(t[a],a)):o.push(gn(a)+": "+(n=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||n in ur?String(i).trim():i+"px")+";")));return r?[r+" {"].concat(o,["}"]):o}(e):e.toString();var c}var yn=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function xn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Cr(e)||br(e)?yn(bn(wr(yr,[e].concat(r)))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:yn(bn(wr(e,r)))}new Set;var Cn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Sn=/(^-|-$)/g;function An(e){return e.replace(Cn,"-").replace(Sn,"")}function En(e){return"string"==typeof e&&!0}var kn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},zn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Mn(e,t,r){var n=e[r];kn(t)&&kn(n)?Rn(n,t):e[r]=t}function Rn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=o[i];if(kn(a))for(var s in a)zn(s)&&Mn(e,a[s],s)}return e}var Pn=n().createContext();Pn.Consumer;var Nn={};function In(e,r,i){var o=Ar(e),a=!En(e),s=r.attrs,c=void 0===s?yr:s,l=r.componentId,d=void 0===l?function(e,t){var r="string"!=typeof e?"sc":An(e);Nn[r]=(Nn[r]||0)+1;var n=r+"-"+function(e){return Zr(Kr(e)>>>0)}("5.3.6"+r+Nn[r]);return t?t+"-"+n:n}(r.displayName,r.parentComponentId):l,h=r.displayName,u=void 0===h?function(e){return En(e)?"styled."+e:"Styled("+Sr(e)+")"}(e):h,p=r.displayName&&r.componentId?An(r.displayName)+"-"+r.componentId:r.componentId||d,m=o&&e.attrs?Array.prototype.concat(e.attrs,c).filter(Boolean):c,f=r.shouldForwardProp;o&&e.shouldForwardProp&&(f=r.shouldForwardProp?function(t,n,i){return e.shouldForwardProp(t,n,i)&&r.shouldForwardProp(t,n,i)}:e.shouldForwardProp);var v,g=new tn(i,p,o?e.componentStyle:void 0),w=g.isStatic&&0===c.length,b=function(e,r){return function(e,r,n,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,c=e.foldedComponentIds,l=e.shouldForwardProp,d=e.styledComponentId,h=e.target,u=function(e,t,r){void 0===e&&(e=xr);var n=gr({},t,{theme:e}),i={};return r.forEach((function(e){var t,r,o,a=e;for(t in Cr(a)&&(a=a(n)),a)n[t]=i[t]="className"===t?(r=i[t],o=a[t],r&&o?r+" "+o:r||o):a[t]})),[n,i]}(function(e,t,r){return void 0===r&&(r=xr),e.theme!==r.theme&&e.theme||t||r.theme}(r,(0,t.useContext)(Pn),s)||xr,r,o),p=u[0],m=u[1],f=function(e,r,n,i){var o=dn(),a=(0,t.useContext)(sn)||ln;return r?e.generateAndInjectStyles(xr,o,a):e.generateAndInjectStyles(n,o,a)}(a,i,p),v=n,g=m.$as||r.$as||m.as||r.as||h,w=En(g),b=m!==r?gr({},r,{},m):r,y={};for(var x in b)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?y.as=b[x]:(l?l(x,mr,g):!w||mr(x))&&(y[x]=b[x]));return r.style&&m.style!==r.style&&(y.style=gr({},r.style,{},m.style)),y.className=Array.prototype.concat(c,d,f!==d?f:null,r.className,m.className).filter(Boolean).join(" "),y.ref=v,(0,t.createElement)(g,y)}(v,e,r,w)};return b.displayName=u,(v=n().forwardRef(b)).attrs=m,v.componentStyle=g,v.displayName=u,v.shouldForwardProp=f,v.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):yr,v.styledComponentId=p,v.target=o?e.target:e,v.withComponent=function(e){var t=r.componentId,n=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(r,["componentId"]),o=t&&t+"-"+(En(e)?e:An(Sr(e)));return In(e,gr({},n,{attrs:m,componentId:o}),i)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=o?Rn({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&vr()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Hn,On=function(e){return function e(t,r,n){if(void 0===n&&(n=xr),!(0,cr.isValidElementType)(r))return zr(1,String(r));var i=function(){return t(r,n,xn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,r,gr({},n,{},i))},i.attrs=function(i){return e(t,r,gr({},n,{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},i}(In,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){On[e]=On(e)})),Hn=function(e,t){this.rules=e,this.componentId=t,this.isStatic=Jr(e),Xr.registerId(this.componentId+1)}.prototype,Hn.createStyles=function(e,t,r,n){var i=n(bn(this.rules,t,r,n).join(""),""),o=this.componentId+e;r.insertRules(o,o,i)},Hn.removeStyles=function(e,t){t.clearRules(this.componentId+e)},Hn.renderStyles=function(e,t,r,n){e>2&&Xr.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)},function(){var e=function(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=jr();return"<style "+[r&&'nonce="'+r+'"',Er+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?zr(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return zr(2);var r=((t={})[Er]="",t["data-styled-version"]="5.3.6",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=jr();return i&&(r.nonce=i),[n().createElement("style",gr({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Xr({isServer:!0}),this.sealed=!1}.prototype;e.collectStyles=function(e){return this.sealed?zr(2):n().createElement(hn,{sheet:this.instance},e)},e.interleaveWithNodeStream=function(e){return zr(3)}}();var Wn=On;const Tn=["select","crop","feedback"],Ln=["image"],Dn=r=>{let{media:n}=r;const[i,c]=(0,e.useState)(!1),[l,h]=(0,e.useState)(null),[u,m]=(0,e.useState)([]),[f,v]=(0,e.useState)("select"),[g,w]=(0,e.useState)("select"),[b,y]=(0,e.useState)(),[x,C]=(0,e.useState)(),[S,A]=(0,e.useState)(""),[E,_]=(0,e.useState)(""),{editPost:k}=(0,d.useDispatch)("core/editor");(0,t.useEffect)((function(){m(window.crop_express.featured_image.presets),h(window.crop_express.featured_image.presets.find((e=>"default-square"===e.id)))}),[]);const z=(0,t.useRef)(null),M=(0,t.useRef)(null),R=(0,t.useRef)(null),P=(0,t.useRef)(null);function N(e){Tn.find((t=>t===e))||(e="select"),v(g),w(e)}function I(e){h(u.find((t=>t.id===e.target.dataset.presetId)))}function H(e){const t=e.getContext("2d"),{width:r,height:n}=e;return t&&(t.fillStyle="#fff",t.globalCompositeOperation="destination-in",t.beginPath(),t.scale(1,n/r),t.arc(r/2,r/2,r/2,0,2*Math.PI),t.closePath(),t.fill()),e}function O(e){const t=parseFloat(e.target.dataset.value);z.current&&z.current.zoomImage(t)}function W(e){const t=parseFloat(e.target.dataset.value);z.current&&z.current.rotateImage(t)}const T=n?(0,p.__)("Replace the Image","featured-image"):(0,p.__)("Select an Image","featured-image");return(0,e.createElement)(s.Panel,{name:"featured-image-panel",className:"crop-express-panel"},(0,e.createElement)(s.PanelBody,{initialOpen:!0},(0,e.createElement)(s.PanelRow,null,n?(0,e.createElement)("img",{src:function(){let e="";return n.media_details&&n.media_details.sizes&&n.media_details.sizes.full&&n.media_details.sizes.full.source_url?e=n.media_details.sizes.full.source_url:n.source_url&&(e=n.source_url),e}()}):(0,e.createElement)("div",{style:{width:"100%",background:"#ddd",padding:"1rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>{w("select"),c(!i)}},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",style:{pointerEvents:"none"},fillRule:"evenodd",clipRule:"evenodd"},(0,e.createElement)("path",{d:"M24 22H0V2h24v20zM23 3H1v18h22V3zm-1 16H3l4-7.492 3 3.048L15.013 7 22 19zm-11.848-2.865-2.91-2.956L4.668 18h15.593l-5.303-9.108-4.806 7.243zM5.5 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5zm0 1a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 5.5 6z"})))),(0,e.createElement)(s.PanelRow,null,(0,e.createElement)(s.Button,{onClick:()=>{w("select"),c(!i)},variant:"secondary",style:{width:"100%",justifyContent:"center"}},T),n&&(0,e.createElement)(s.Button,{onClick:function(){k({featured_media:0})},variant:"secondary",style:{marginLeft:".5rem"}},"Remove")),(0,e.createElement)("div",{style:{display:"none"}},(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>{c(!0),fetch(e.url).then((e=>e.blob())).then((t=>{C({src:URL.createObjectURL(t),name:e.filename,type:e.mime})}))},allowedTypes:Ln,render:t=>{let{open:r}=t;return(0,e.createElement)(s.Button,{ref:M,onClick:r},"Media Library")},title:(0,p.__)("Select an image","crop-express"),mode:"browse",modalClass:"crop-express"})))),i&&(0,e.createElement)(s.Modal,{title:""===g||"crop"===g?(0,p.__)("Crop your image:","featured-image"):"feedback"===g?(0,p.__)("Request a feature:","featured-image"):(0,p.__)("Choose your image:","featured-image"),onRequestClose:()=>c(!1),isFullScreen:!0},(0,e.createElement)($n,null,"select"===g&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{display:"flex",gap:".618rem",width:"100%"}},(0,e.createElement)("div",{onClick:()=>R.current.click(),style:{minWidth:"200px",aspectRatio:"16/9",display:"flex",justifyContent:"center",alignItems:"center",background:"#ddd",cursor:"pointer",position:"relative"}},x?(0,e.createElement)("img",{src:x.src,style:{top:0,left:0,width:"100%",height:"100%",position:"absolute",pointerEvents:"none",objectFit:"contain"}}):(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",style:{pointerEvents:"none"},fillRule:"evenodd",clipRule:"evenodd"},(0,e.createElement)("path",{d:"M24 22H0V2h24v20zM23 3H1v18h22V3zm-1 16H3l4-7.492 3 3.048L15.013 7 22 19zm-11.848-2.865-2.91-2.956L4.668 18h15.593l-5.303-9.108-4.806 7.243zM5.5 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5zm0 1a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 5.5 6z"}))),(0,e.createElement)("div",{style:{display:"flex",gap:".618rem",flexDirection:"column"}},(0,e.createElement)(Bn,{ref:R,className:"components-button is-secondary"},(0,e.createElement)("input",{type:"file",accept:"image/*",onChange:function(e){const{files:t}=e.target;if(t&&t[0]){y(t[0]);const e=URL.createObjectURL(t[0]);C({src:e,name:t[0].name,type:t[0].type})}e.target.value=""},hidden:!0}),x?(0,e.createElement)(e.Fragment,null,'File "',x.name,'" selected'):(0,e.createElement)(e.Fragment,null,"Upload an image")),(0,e.createElement)(s.Button,{variant:"secondary",onClick:()=>M.current.click(),style:{flexGrow:1,fontSize:"1.142rem",justifyContent:"center",flexBasis:"50%"}},"Choose an image from the media library"))),(0,e.createElement)(Un,null,"Choose your shape:"),(0,e.createElement)(Fn,null,u.map((t=>(0,e.createElement)(s.Button,{key:`preset-${t.id}`,variant:"secondary",onClick:I,"data-preset-id":t.id,className:`preset-${t.id} ${l&&t.id===l.id?"is-selected":""}`},(0,e.createElement)(Xn,{className:"preset-preview",aspectRatio:t.aspect_ratio}),(0,e.createElement)(Vn,null,t.label),t.width&&t.height&&(0,e.createElement)(Yn,null,(0,e.createElement)("b",null,t.width),"px x ",(0,e.createElement)("b",null,t.height),"px"))))),(0,e.createElement)("div",{style:{display:"flex",gap:".5em",width:"100%",marginTop:"auto"}},(0,e.createElement)(s.Button,{variant:"primary",disabled:!x||!l,style:{flexGrow:1,justifyContent:"center",opacity:x&&l?1:.5},onClick:()=>N("crop")},"Crop it"),(0,e.createElement)(s.Button,{variant:"secondary",disabled:!x||!l,style:{opacity:x&&l?1:.5,flexShrink:1},onClick:function(){const e=new FormData;e.append("file",b,x.name),o()({path:"/wp/v2/media",method:"POST",body:e}).then((e=>k({featured_media:e.id}))),c(!1)}},"Upload without cropping"),(0,e.createElement)(jn,{variant:"secondary",style:{flexShrink:1},onClick:()=>N("feedback")},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M22 3v13H10.357L6 19.105V16H2V3h20zm2-2H0v16.981h4V23l7-5.019h13V1zm-5 6H5V6h14v1zm0 2H5v1h14V9zm-6 3H5v1h8v-1z"})),"Request a feature"))),"crop"===g&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{display:"flex",gap:".618rem",justifyContent:"space-between",width:"100%"}},(0,e.createElement)(jn,{variant:"secondary",onClick:()=>N("select")},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"m16.67 0 2.83 2.829-9.339 9.175 9.339 9.167L16.67 24 4.5 12.004z"})),"Go back"),(0,e.createElement)("div",{style:{display:"flex",gap:".618rem"}},(0,e.createElement)(jn,{variant:"secondary",onClick:O,"data-value":"1.25"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M13 10h-3v3H8v-3H5V8h3V5h2v3h3v2zm8.172 14-7.387-7.387A8.945 8.945 0 0 1 9 18c-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9a8.951 8.951 0 0 1-1.387 4.785L24 21.172 21.172 24zM9 16c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"})),"Zoom in"),(0,e.createElement)(jn,{variant:"secondary",onClick:O,"data-value":".75"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M13 10H5V8h8v2zm8.172 14-7.387-7.387A8.945 8.945 0 0 1 9 18c-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9a8.951 8.951 0 0 1-1.387 4.785L24 21.172 21.172 24zM9 16c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"})),"Zoom out"),(0,e.createElement)(jn,{variant:"secondary",onClick:W,"data-value":"-45"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M12 0C8.69 0 5.709 1.353 3.541 3.522l-2.48-2.48L0 8.383l7.437-.966-2.489-2.488A9.943 9.943 0 0 1 12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10c-3.872 0-7.229-2.216-8.89-5.443l-1.717 1.046C3.405 21.406 7.398 24 12 24c6.627 0 12-5.373 12-12S18.627 0 12 0z"})),"Rotate left"),(0,e.createElement)(jn,{variant:"secondary",onClick:W,"data-value":"45"},"Rotate right",(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M12 0c3.31 0 6.291 1.353 8.459 3.522l2.48-2.48L24 8.383l-7.437-.966 2.489-2.489A9.946 9.946 0 0 0 12 2C6.486 2 2 6.486 2 12s4.486 10 10 10c3.872 0 7.229-2.216 8.89-5.443l1.717 1.046C20.595 21.406 16.602 24 12 24 5.373 24 0 18.627 0 12S5.373 0 12 0z"})))),(0,e.createElement)("div",null,(0,e.createElement)(s.Button,{variant:"secondary",className:"components-button",onClick:function(){if(!z.current)return alert("Sorry, something went wrong cropping the image. (Error 1)"),!1;let e=z.current.getCanvas(window.crop_express.featured_image.save_image_settings);if(!e)return alert("Sorry, something went wrong cropping the image. (Error 2)"),!1;"default-circle"===l.id&&(e=H(e));const t=window.open();t&&e&&(t.document.body.innerHTML=`<img src="${e.toDataURL()}"></img>`)}},"Preview in a new window"))),(0,e.createElement)(Gn,null,(0,e.createElement)(ir,{src:x&&x.src,stencilSize:{width:.4*window.innerWidth,height:.4*window.innerHeight},stencilComponent:"default-circle"===l.id?or:Ut,stencilProps:{aspectRatio:l.aspect_ratio},imageRestriction:V.stencil,ref:z})),(0,e.createElement)("div",{style:{display:"flex",gap:".5em",width:"100%",marginTop:"auto"}},(0,e.createElement)(s.Button,{variant:"primary",disabled:!x||!l,style:{flexGrow:1,width:"100%",justifyContent:"center",opacity:x&&l?1:.5},onClick:function(){if(!z.current)return alert("Sorry, something went wrong cropping the image. (Error 1)"),!1;let e=z.current.getCanvas(window.crop_express.featured_image.save_image_settings);if(!e)return alert("Sorry, something went wrong cropping the image. (Error 2)"),!1;"default-circle"===l.id&&(e=H(e));const t=x.name.replace(/\.[^/.]+$/,""),r=x.name.split(".").pop(),n="default-circle"===l.id?"image/png":x.type;e.toBlob((e=>{if(e){const n=new FormData;n.append("file",e,`${t}-${Date.now()}.${"default-circle"===l.id?"png":r}`),o()({path:"/wp/v2/media",method:"POST",body:n}).then((e=>k({featured_media:e.id})))}}),n),c(!1)}},"Set your featured image"),(0,e.createElement)(jn,{variant:"secondary",style:{flexShrink:1},onClick:()=>N("feedback")},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"M22 3v13H10.357L6 19.105V16H2V3h20zm2-2H0v16.981h4V23l7-5.019h13V1zm-5 6H5V6h14v1zm0 2H5v1h14V9zm-6 3H5v1h8v-1z"})),"Request a feature"))),"feedback"===g&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(jn,{variant:"secondary",onClick:()=>N(f)},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24"},(0,e.createElement)("path",{d:"m16.67 0 2.83 2.829-9.339 9.175 9.339 9.167L16.67 24 4.5 12.004z"})),"Go back"),(0,e.createElement)("form",{ref:P,style:{width:"100%",maxWidth:"600px",margin:"auto",border:"1px solid #ddd",padding:"0 1rem 1rem"},onSubmit:function(e){if(e.preventDefault(),""===S)return!1;if(""===E)return!1;const t={action:"crop_express_feedback",crop_express:window.crop_express.nonce_feedback,subject:"featured image",email:S,message:E};fetch(window.crop_express.admin_ajax,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:new URLSearchParams(t).toString()}).then((e=>e.json())).then((e=>{alert((0,p.__)("Thank you for your email! We'll get back to you as soon as we can.","featured-image")),P.current.reset(),N(f)}))}},(0,e.createElement)("p",{style:{fontSize:"1.236rem"}},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",style:{float:"left",margin:"1rem 1rem 1rem 0",width:"3rem",height:"3rem"}},(0,e.createElement)("path",{d:"M22 3v13H10.357L6 19.105V16H2V3h20zm2-2H0v16.981h4V23l7-5.019h13V1zm-5 6H5V6h14v1zm0 2H5v1h14V9zm-6 3H5v1h8v-1z"})),(0,e.createElement)("b",null,"crop.express")," is a new plugin, so we're looking for all the feedback we can get. Are we missing a feature? Have an idea how we can make it better? ",(0,e.createElement)("b",{style:{background:"#ffd70033"}},"Let us know!")),(0,e.createElement)("p",{style:{width:"100%"}},(0,e.createElement)("label",null,"Your email address:",(0,e.createElement)("br",null),(0,e.createElement)("input",{type:"email",onChange:function(e){A(e.target.value.trim())},required:!0,style:{width:"100%"}}))),(0,e.createElement)("p",{style:{width:"100%"}},(0,e.createElement)("label",null,"Request a feature? Question? Comment?",(0,e.createElement)("br",null),(0,e.createElement)("textarea",{rows:"4",onChange:function(e){_(e.target.value.trim())},required:!0,style:{width:"100%"}}))),(0,e.createElement)("div",{style:{display:"flex",gap:".5em",width:"100%",marginTop:"auto"}},(0,e.createElement)(s.Button,{variant:"primary",type:"submit",style:{flexGrow:1,width:"100%",justifyContent:"center"}},"Send your feedback")))))),(0,e.createElement)("style",{dangerouslySetInnerHTML:{__html:"\n\t\t\t\t\t.media-frame.crop-express .media-frame-router {\n\t\t\t\t\t  display: none;\n\t\t\t\t\t}\n\t\t\t\t\t.media-frame.crop-express .media-frame-content {\n\t\t\t\t\t\ttop: 50px;\n\t\t\t\t\t}\n\t\t\t\t\t"}}))};(0,u.addFilter)("editor.PostFeaturedImage","featured-image",(()=>(0,c.compose)((0,d.withSelect)((e=>{const{getMedia:t}=e(l.store),{getEditedPostAttribute:r}=e(h.store),n=r("featured_media");return{media:n?t(n,{context:"view"}):null}})))(Dn)));const jn=Wn(s.Button)`
	display: flex;
	gap: .5em;
	
	svg {
		width: 1.25em;
		height: 1.25em;
	}
`,$n=Wn.div`
	display: flex;
	flex-direction: column;
	height: calc(100% - 2rem);
	align-items: start;
	gap: .618rem;
	overflow: visible;
`,Bn=Wn.label`
	font-size: 1.142rem;
	flex-grow: 1;
	justify-content: center;
	flex-basis: 50%;
`,Fn=Wn.div`
	display: flex;
	flex-wrap: wrap;
	gap: .618rem;
	width: 100%;
	
	.components-button {
		gap: .618rem;
		flex-direction: column;
		height: auto;
		flex-basis: 32%;
		
		* {
			pointer-events: none;
		}
		
		h3 {
			margin-top:auto;
		}
		
		&.preset-default-circle {
			.preset-preview {
				border-radius: 50%;
			}
		}
		
		&.is-selected {
			background: var(--wp-admin-theme-color);
			color: white;
			h3 {
				color: white;
			}
			.preset-preview {
			    background: white;
			}
			.shape-preview {
				color: white;
			}
		}
	}
`,Un=Wn.h3`
	font-size: 1.382rem;
	margin: 0;
	
	&:not(:first-child) {
		margin-top: 1em;
	}
`,Vn=Wn.h3`
	font-size: 1.382rem;
	margin: 0;
`,Yn=Wn.span`
	margin-top: -0.5em;
`,Xn=(Wn.span`
	opacity: .82;
	text-transform: uppercase;
	font-size: .82rem;
`,Wn.div`
			background: var(--wp-admin-theme-color);;
			width: ${e=>e.aspectRatio>1?5*e.aspectRatio:5}rem;
			height: ${e=>e.aspectRatio<1?5/(5*e.aspectRatio)*5:5}rem;
			// aspect-ratio: ${e=>e.aspectRatio};
			// flex-shrink: 0;
			// margin: auto;
`),Gn=Wn.div`
	overflow: hidden !important;
	width: 100%;

.advanced-cropper-line-wrapper--north, .advanced-cropper-line-wrapper--south {
  height: 12px;
  width: 100%; }

.advanced-cropper-line-wrapper--north {
  cursor: n-resize; }

.advanced-cropper-line-wrapper--south {
  cursor: s-resize; }

.advanced-cropper-line-wrapper--east, .advanced-cropper-line-wrapper--west {
  width: 12px;
  height: 100%; }

.advanced-cropper-line-wrapper--east {
  cursor: e-resize; }

.advanced-cropper-line-wrapper--west {
  cursor: w-resize; }

.advanced-cropper-line-wrapper--disabled {
  cursor: auto; }

.advanced-cropper-line-wrapper__content {
  position: absolute; }
  .advanced-cropper-line-wrapper__content--east, .advanced-cropper-line-wrapper__content--west {
    height: 100%; }
  .advanced-cropper-line-wrapper__content--north, .advanced-cropper-line-wrapper__content--south {
    width: 100%; }
  .advanced-cropper-line-wrapper__content--east {
    left: 50%;
    transform: translateX(-100%); }
  .advanced-cropper-line-wrapper__content--west {
    right: 50%;
    transform: translateX(100%); }
  .advanced-cropper-line-wrapper__content--north {
    top: 50%; }
  .advanced-cropper-line-wrapper__content--south {
    bottom: 50%; }

.advanced-cropper-handler-wrapper {
  position: absolute;
  transform: translate(-50%, -50%);
  width: 30px;
  height: 30px; }
  .advanced-cropper-handler-wrapper__draggable {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center; }
  .advanced-cropper-handler-wrapper--west-north {
    cursor: nw-resize; }
  .advanced-cropper-handler-wrapper--north {
    cursor: n-resize; }
  .advanced-cropper-handler-wrapper--east-north {
    cursor: ne-resize; }
  .advanced-cropper-handler-wrapper--east {
    cursor: e-resize; }
  .advanced-cropper-handler-wrapper--east-south {
    cursor: se-resize; }
  .advanced-cropper-handler-wrapper--south {
    cursor: s-resize; }
  .advanced-cropper-handler-wrapper--west-south {
    cursor: sw-resize; }
  .advanced-cropper-handler-wrapper--west {
    cursor: w-resize; }
  .advanced-cropper-handler-wrapper--disabled {
    cursor: auto; }

.advanced-cropper-bounding-box {
  position: relative;
  height: 100%;
  width: 100%; }
  .advanced-cropper-bounding-box__handler-wrapper {
    position: absolute; }
    .advanced-cropper-bounding-box__handler-wrapper--east, .advanced-cropper-bounding-box__handler-wrapper--west {
      top: 50%;
      transform: translateY(-50%);
      height: 100%; }
    .advanced-cropper-bounding-box__handler-wrapper--south, .advanced-cropper-bounding-box__handler-wrapper--north {
      left: 50%;
      transform: translateX(-50%);
      width: 100%; }
    .advanced-cropper-bounding-box__handler-wrapper--west, .advanced-cropper-bounding-box__handler-wrapper--west-north, .advanced-cropper-bounding-box__handler-wrapper--west-south {
      left: 0; }
    .advanced-cropper-bounding-box__handler-wrapper--east, .advanced-cropper-bounding-box__handler-wrapper--east-north, .advanced-cropper-bounding-box__handler-wrapper--east-south {
      left: 100%; }
    .advanced-cropper-bounding-box__handler-wrapper--north, .advanced-cropper-bounding-box__handler-wrapper--west-north, .advanced-cropper-bounding-box__handler-wrapper--east-north {
      top: 0; }
    .advanced-cropper-bounding-box__handler-wrapper--south, .advanced-cropper-bounding-box__handler-wrapper--west-south, .advanced-cropper-bounding-box__handler-wrapper--east-south {
      top: 100%; }
  .advanced-cropper-bounding-box__handler {
    position: absolute; }
    .advanced-cropper-bounding-box__handler--west-north {
      left: 0;
      top: 0; }
    .advanced-cropper-bounding-box__handler--north {
      left: 50%;
      top: 0; }
    .advanced-cropper-bounding-box__handler--east-north {
      left: 100%;
      top: 0; }
    .advanced-cropper-bounding-box__handler--east {
      left: 100%;
      top: 50%; }
    .advanced-cropper-bounding-box__handler--east-south {
      left: 100%;
      top: 100%; }
    .advanced-cropper-bounding-box__handler--south {
      left: 50%;
      top: 100%; }
    .advanced-cropper-bounding-box__handler--west-south {
      left: 0;
      top: 100%; }
    .advanced-cropper-bounding-box__handler--west {
      left: 0;
      top: 50%; }
  .advanced-cropper-bounding-box__line {
    position: absolute; }
    .advanced-cropper-bounding-box__line--north, .advanced-cropper-bounding-box__line--south {
      left: 0;
      transform: translateY(-50%); }
    .advanced-cropper-bounding-box__line--north {
      top: 0; }
    .advanced-cropper-bounding-box__line--south {
      top: 100%; }
    .advanced-cropper-bounding-box__line--west, .advanced-cropper-bounding-box__line--east {
      top: 0;
      transform: translateX(-50%); }
    .advanced-cropper-bounding-box__line--west {
      left: 0; }
    .advanced-cropper-bounding-box__line--east {
      left: 100%; }

.advanced-cropper-artificial-transition {
  will-change: transform; }

.advanced-cropper-background-image {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  position: absolute;
  transform-origin: center;
  pointer-events: none;
  max-width: none !important; }

.advanced-cropper-canvas {
  display: none; }

.advanced-cropper-source {
  width: 1px;
  height: 1px;
  visibility: hidden;
  position: absolute;
  opacity: 0; }

.advanced-cropper-fade {
  visibility: hidden;
  opacity: 0;
  transition: 0.5s;
  display: flex;
  flex-direction: column; }
  .advanced-cropper-fade--visible {
    opacity: 1;
    visibility: visible; }

.advanced-cropper-wrapper__fade {
  flex-grow: 1;
  min-height: 0; }

.advanced-cropper-stencil-grid {
  display: table;
  border-collapse: collapse;
  table-layout: fixed;
  opacity: 0;
  transition: opacity 0.3s; }
  .advanced-cropper-stencil-grid--visible {
    opacity: 1; }
  .advanced-cropper-stencil-grid__row {
    display: table-row; }
  .advanced-cropper-stencil-grid__cell {
    display: table-cell;
    width: 1%;
    height: 1%;
    border: currentColor solid 1px; }
    .advanced-cropper-stencil-grid__cell--top {
      border-top-color: transparent; }
    .advanced-cropper-stencil-grid__cell--left {
      border-left-color: transparent; }
    .advanced-cropper-stencil-grid__cell--right {
      border-right-color: transparent; }
    .advanced-cropper-stencil-grid__cell--bottom {
      border-bottom-color: transparent; }

.advanced-cropper-stencil-overlay {
  box-sizing: content-box;
  box-shadow: 0 0 0 1000px currentColor;
  pointer-events: none;
  width: 100%;
  height: 100%;
  position: absolute;
  -webkit-backface-visibility: hidden; }

.advanced-cropper-stencil-wrapper {
  will-change: transform; }

.advanced-cropper-boundary {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  direction: ltr;
  position: relative; }
  .advanced-cropper-boundary__content {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0; }
  .advanced-cropper-boundary__stretcher {
    pointer-events: none;
    position: relative;
    max-width: 100%;
    max-height: 100%; }

.advanced-cropper-circle-stencil {
  position: absolute;
  height: 100%;
  width: 100%;
  box-sizing: content-box;
  -webkit-backface-visibility: hidden;
  -webkit-transform-style: preserve-3d; }
  .advanced-cropper-circle-stencil__overlay {
    border-radius: 50%;
    overflow: hidden; }
  .advanced-cropper-circle-stencil__preview {
    border-radius: 50%; }
  .advanced-cropper-circle-stencil__draggable-area, .advanced-cropper-circle-stencil__overlay, .advanced-cropper-circle-stencil__preview, .advanced-cropper-circle-stencil__grid {
    position: absolute;
    height: 100%;
    width: 100%; }
  .advanced-cropper-circle-stencil--movable {
    cursor: move; }

.advanced-cropper-rectangle-stencil {
  position: absolute;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  -webkit-backface-visibility: hidden;
  -webkit-transform-style: preserve-3d; }
  .advanced-cropper-rectangle-stencil__draggable-area, .advanced-cropper-rectangle-stencil__overlay, .advanced-cropper-rectangle-stencil__preview, .advanced-cropper-rectangle-stencil__grid {
    position: absolute;
    height: 100%;
    width: 100%; }
  .advanced-cropper-rectangle-stencil--movable {
    cursor: move; }

.advanced-cropper-simple-line {
  background: none;
  border-width: 0; }
  .advanced-cropper-simple-line--south, .advanced-cropper-simple-line--north {
    height: 0;
    width: 100%; }
  .advanced-cropper-simple-line--east, .advanced-cropper-simple-line--west {
    height: 100%;
    width: 0; }
  .advanced-cropper-simple-line--east {
    border-right-width: 1px; }
  .advanced-cropper-simple-line--west {
    border-left-width: 1px; }
  .advanced-cropper-simple-line--south {
    border-bottom-width: 1px; }
  .advanced-cropper-simple-line--north {
    border-top-width: 1px; }

.advanced-cropper-simple-handler {
  display: block; }

.advanced-cropper-preview {
  overflow: hidden;
  box-sizing: border-box;
  position: relative; }
  .advanced-cropper-preview__content {
    overflow: hidden;
    position: relative; }
  .advanced-cropper-preview__image {
    display: none;
    pointer-events: none;
    position: absolute;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    transform-origin: center;
    max-width: none !important; }
    .advanced-cropper-preview__image--visible {
      display: block; }

.advanced-cropper {
  overflow: hidden;
  max-height: 100%;
  background: black;
  position: relative;
  display: flex;
  flex-direction: column;
  color: white; }
  .advanced-cropper__background {
    width: 100%;
    height: 100%;
    position: absolute;
    background: inherit; }
  .advanced-cropper__boundary {
    flex-grow: 1;
    min-height: 0;
    min-width: 0; }
  .advanced-cropper__wrapper, .advanced-cropper__background-wrapper {
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    position: absolute; }
  .advanced-cropper__stencil-wrapper {
    position: absolute; }
  .advanced-cropper * {
    box-sizing: border-box; }

.advanced-cropper-simple-handler {
  background: currentColor;
  height: 10px;
  width: 10px; }

.advanced-cropper-simple-line {
  transition: border 0.5s;
  border-color: rgba(255, 255, 255, 0.3);
  border-style: solid; }
  .advanced-cropper-simple-line--hover {
    border-color: white; }

.advanced-cropper-circle-stencil__preview {
  border: solid 2px rgba(255, 255, 255, 0.2); }

.advanced-cropper-stencil-overlay {
  color: rgba(0, 0, 0, 0.5); }

.advanced-cropper-stencil-grid {
  color: rgba(255, 255, 255, 0.4); }

`}()}();